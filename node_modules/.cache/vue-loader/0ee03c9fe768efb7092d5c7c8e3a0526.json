{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icald\\VueJS\\store_app\\src\\components\\EditarProducto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\components\\EditarProducto.vue","mtime":1613362793168},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTW9kYWwgZnJvbSAnLi9Nb2RhbCcNCmltcG9ydCBJbnB1dEZvdG9zIGZyb20gJy4vSW5wdXRGb3RvcycNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmxldCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwLyc7DQp2YXIgYXJyZWdsb0ltYWdlbmVzID0gW107DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTonTnVldm9Qcm9kdWN0bycsDQogICAgY29tcG9uZW50czp7DQogICAgICAgIElucHV0Rm90b3MsIE1vZGFsDQogICAgfSwNCiAgICBkYXRhKCkgeyAgDQogICAgICByZXR1cm4gew0KICAgICAgICBmb3JtOiB7DQogICAgICAgICAgbm9tYnJlOiAnJywNCiAgICAgICAgICBkZXNjcmlwY2lvbjogJycsDQogICAgICAgICAgY2F0ZWdvcmlhOiBudWxsLA0KICAgICAgICAgIHByZWNpbzogJycsDQogICAgICAgICAgY2FudGlkYWQ6ICcnLA0KICAgICAgICAgIG5vbWJyZUltYWdzOiAnJywNCiAgICAgICAgICBkYXRhSW1hZ3M6IG51bGwNCiAgICAgICAgfSwNCiAgICAgICAgYXJyYXlJbWFnZW5lczpbXSwNCiAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgb3B0aW9uczpbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgcHJvcHM6ew0KICAgICAgcHJvcHNJbWc6ew0KICAgICAgICBpZDpOdW1iZXIsDQogICAgICAgIHNyYzpTdHJpbmcsDQogICAgICAgIHRodW1ibmFpbDpTdHJpbmcNCiAgICAgIH0sDQogICAgICBhcnJlZ2xvRmluYWw6IEFycmF5DQogICAgfSwgDQogICAgbWV0aG9kczogew0KICAgICAgb25TdWJtaXQoZXZ0KSB7DQogICAgICAgIHZhciBkYXRvcyA9IHRoaXMuZm9ybTsNCiAgICAgICAgY29uc3QgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsnY29udGVudC10eXBlJzonYXBwbGljYXRpb24vanNvbid9DQogICAgICAgIH0NCiAgICAgICAgYXhpb3MucG9zdChgJHt1cmx9TnVldm9Qcm9kdWN0b2AsIGRhdG9zLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRvcyk7DQogICAgICAgICAgICBhbGVydChyZXNwLmRhdGEpOyAgDQogICAgICAgICAgICB0aGF0Lm9uUmVzZXQoKTsNCiAgICAgICAgfSk7DQogICAgICB9LA0KICAgICAgb25SZXNldChldnQpIHsNCiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIHRoaXMuZm9ybS5ub21icmUgPSAnJw0KICAgICAgICB0aGlzLmZvcm0uZGVzY3JpcGNpb24gPSAnJw0KICAgICAgICB0aGlzLmZvcm0ucHJlY2lvID0gbnVsbA0KICAgICAgICB0aGlzLmZvcm0uY2FudGlkYWQgPSBudWxsDQogICAgICAgIHRoaXMuZm9ybS5ub21icmVJbWFncyA9IG51bGwNCiAgICAgICAgdGhpcy5mb3JtLmRhdGFJbWFncyA9IHVuZGVmaW5lZA0KICAgICAgICB0aGlzLnNob3cgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZQ0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIGNhbWJpYXIoKXsNCiAgICAgICAgbGV0IHRoYXQgPSB0aGlzOw0KICAgICAgICB0aGlzLiR3YXRjaCgoKSA9PiB7DQogICAgICAgICAgaWYodGhhdC5hcnJheUltYWdlbmVzICE9IHRoYXQuJHJlZnMuaW5wdXRGb3RvLmZpbGUpew0KICAgICAgICAgICAgdGhhdC5hcnJheUltYWdlbmVzID0gdGhhdC4kcmVmcy5pbnB1dEZvdG8uZmlsZQ0KICAgICAgICAgICAgdGhhdC5mb3JtLmRhdGFJbWFncyA9IHRoYXQuJHJlZnMuaW5wdXRGb3RvLmZpbGU7DQoNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXJyYXlJbWFnZW5lcyk7DQoNCiAgICAgICAgICAgIGNvbnN0IHRvQmFzZTY0ID0gZmlsZSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQogICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOw0KICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTsNCiAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBlcnJvciA9PiByZWplY3QoZXJyb3IpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGF0LmFycmF5SW1hZ2VuZXMubGVuZ3RoKTsNCiAgICAgICAgICAgICBsZXQgZXNvID0gdGhpczsNCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRfQmFzZTY0KCl7DQogICAgICAgICAgICAgIGZvcih2YXIgdCA9IDA7IHQgPCB0aGF0LmFycmF5SW1hZ2VuZXMubGVuZ3RoOyB0Kyspew0KICAgICAgICAgICAgICAgIHRoYXQuZm9ybS5kYXRhSW1hZ3NbdF0gPSAoYXdhaXQgdG9CYXNlNjQodGhhdC4kcmVmcy5pbnB1dEZvdG8uZmlsZVt0XSkpOw0KICAgICAgICAgICAgICAgIGFycmVnbG9JbWFnZW5lcy5wdXNoKHsgaWQ6dGhhdC5mb3JtLm5vbWJyZUltYWdzW3RdLCBzcmM6dGhhdC5mb3JtLmRhdGFJbWFnc1t0XSwgdGh1bWJuYWlsOnRoYXQuZm9ybS5kYXRhSW1hZ3NbdF0gfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29udmVydF9CYXNlNjQoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSwNCiAgICAgIHZpc3RhUHJldmlhTW9kYWwoKXsgLy9OTyBSRUNVRVJETyBVU0FSIEVTVE8gUEVSTyBOTyBMTyBCT1JSTyBQT1JRVUUgUkVBTE1FTlRFIE5PIFNFIFFVRSBDQVJBSk8gUFVFREEgU0FMSVIgTUFMDQogICAgICAgIGlmKHRoaXMuJHJlZnMuZWxNb2RhbC5hcnJheUltYWdlbmVzICE9IHVuZGVmaW5lZCl7DQogICAgICAgICAgdGhpcy4kcmVmcy5lbE1vZGFsLmFycmF5SW1hZ2VuZXMgPSB0aGlzLmZvcm0uZGF0YUltYWdzOw0KICAgICAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygibW9kYWxfMSIpOw0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuZWxNb2RhbC5hcnJheUltYWdlbmVzKTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGZvcm1hdE5hbWVzKGZpbGVzKSB7DQogICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDEpIHsNCiAgICAgICAgICByZXR1cm4gZmlsZXNbMF0ubmFtZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiBgJHtmaWxlcy5sZW5ndGh9IEltw6FnZW5lcyBTZWxlY2Npb25hZGFzYA0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICB3YXRjaDp7DQogICAgICBhcnJheUltYWdlbmVzOiBmdW5jdGlvbiAobnVldm9BcnJheSwgdmllam9BcnJheSkgew0KICAgICAgICANCiAgICAgICAgaWYobnVldm9BcnJheS5sZW5ndGggPT09IDApeyByZXR1cm47IH0NCg0KICAgICAgICBpZihudWV2b0FycmF5WzBdLmlkID09PSAwKXsNCiAgICAgICAgICB0aGlzLmZvcm0uZGF0YUltYWdzID0gbnVldm9BcnJheTsNCiAgICAgICAgICB0aGlzLmFycmF5SW1hZ2VuZXMgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlew0KICAgICAgICAgIHZhciB1bkFycmVnbG8gPSBbXTsNCiAgICAgICAgICB2YXIgY29udmVyc2lvbiA9IHVuZGVmaW5lZDsNCiAgICAgICAgICB2YXIgYXJyZWdsb05vbWJyZXMgPSBbXTsNCiAgICAgICAgICBjb25zdCB0b0Jhc2U2NCA9IGZpbGUgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOw0KICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7DQogICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGVycm9yID0+IHJlamVjdChlcnJvcik7DQogICAgICAgICAgfSk7DQogICAgICAgICAgICAgIA0KICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsNCiAgICAgICAgICB2YXIgYXJjaGl2b3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjSW1hZ2VuZXNfQXJyYXknKS5maWxlczsNCg0KICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRfQmFzZTY0KCl7DQogICAgICAgICAgICBmb3IodmFyIHQgPSAwOyB0IDwgYXJjaGl2b3MubGVuZ3RoOyB0Kyspew0KICAgICAgICAgICAgICBjb252ZXJzaW9uID0gKGF3YWl0IHRvQmFzZTY0KGFyY2hpdm9zW3RdKSk7DQogICAgICAgICAgICAgIHVuQXJyZWdsby5wdXNoKHsgJ2lkJzp0LCAnc3JjJzpjb252ZXJzaW9uLCAgJ3RodW1ibmFpbCc6Y29udmVyc2lvbiB9KTsNCiAgICAgICAgICAgICAgYXJyZWdsb05vbWJyZXMucHVzaCh7ICdpZCc6dCwgJ25hbWUnOmFyY2hpdm9zW3RdLm5hbWUgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnZlcnRfQmFzZTY0KCk7DQogICAgICAgICAgdGhpcy5mb3JtLm5vbWJyZUltYWdzID0gYXJyZWdsb05vbWJyZXM7DQogICAgICAgICAgdGhpcy5mb3JtLmRhdGFJbWFncyA9IHVuQXJyZWdsbzsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0uZGF0YUltYWdzKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgdmFyIGFycmVnbG9JbWFnZW5lcyA9IFtdOw0KICAgICAgYXhpb3MucG9zdChgJHt1cmx9dHJhZXJVblByb2R1Y3RvYCwgeyBpZDp0aGlzLiRyb3V0ZS5xdWVyeS5pZGVuIH0pLnRoZW4oZnVuY3Rpb24ocmVzcCl7DQogICAgICAgIHRoaXMuZm9ybS5ub21icmUgPSByZXNwLmRhdGFbMF0ubm9tYnJlOw0KICAgICAgICB0aGlzLmZvcm0uZGVzY3JpcGNpb24gPSByZXNwLmRhdGFbMF0uZGVzY3JpcGNpb247DQogICAgICAgIHRoaXMuZm9ybS5jYW50aWRhZCA9IHJlc3AuZGF0YVswXS5jYW50aWRhZDsNCiAgICAgICAgdGhpcy5mb3JtLnByZWNpbyA9IHJlc3AuZGF0YVswXS5wcmVjaW8udG9TdHJpbmcoKTsNCiAgICAgICAgdGhpcy5mb3JtLm5vbWJyZUltYWdzID0gcmVzcC5kYXRhWzBdLm5vbWJyZUltYWdlbmVzOw0KICAgICAgICB0aGlzLmZvcm0uY2F0ZWdvcmlhID0gcmVzcC5kYXRhWzBdLmNhdGVnb3JpYTsNCiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCByZXNwLmRhdGFbMF0uZGF0YUltYWdlbmVzLmxlbmd0aDsgdCsrKSB7DQogICAgICAgICAgYXJyZWdsb0ltYWdlbmVzLnB1c2goeyAnaWQnOnJlc3AuZGF0YVswXS5kYXRhSW1hZ2VuZXNbdF0uaWQsICdzcmMnOnJlc3AuZGF0YVswXS5kYXRhSW1hZ2VuZXNbdF0uc3JjLCAndGh1bWJuYWlsJzpyZXNwLmRhdGFbMF0uZGF0YUltYWdlbmVzW3RdLnNyYyB9KQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXJyYXlJbWFnZW5lcyA9IGFycmVnbG9JbWFnZW5lczsNCiAgICAgIH0uYmluZCh0aGlzKSk7DQoNCiAgICAgIHRoaXMub3B0aW9ucy5wdXNoKHsgJ3ZhbHVlJzpudWxsLCAndGV4dCc6J0NhdGVnb3LDrWEnfSk7DQogICAgICBheGlvcy5nZXQoYCR7dXJsfXRyYWVyQ2F0ZWdvcmlhc2ApLnRoZW4oZnVuY3Rpb24ocmVzcCl7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7DQogICAgICAgIHJlc3AuZGF0YS5tYXAoZnVuY3Rpb24ob2JqKXsNCiAgICAgICAgICB0aGlzLm9wdGlvbnMucHVzaCh7ICd2YWx1ZSc6b2JqLl9pZCwgJ3RleHQnOm9iai5ub21icmUgfSkNCiAgICAgICAgfS5iaW5kKHRoaXMpKTsNCiAgICAgIH0uYmluZCh0aGlzKSk7DQogICAgfQ0KfQ0K"},{"version":3,"sources":["EditarProducto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditarProducto.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-container>\r\n    <b-row>\r\n      <b-col cols=\"1\" lg=\"4\" md=\"3\" sm=\"2\"></b-col>\r\n\r\n      <b-col cols=\"10\" lg=\"4\" md=\"6\" sm=\"8\">\r\n        <b-form @reset=\"onReset\" v-if=\"show\" action=\"http://localhost:3000/NuevoProducto\">\r\n\r\n          <h3>Edición Producto</h3>\r\n\r\n          <b-form-group id=\"input-group-1\">\r\n            <b-form-input\r\n              id=\"input-1\"\r\n              v-model=\"form.nombre\"\r\n              type=\"text\"\r\n              required\r\n              placeholder=\"Nombre Producto\"\r\n              name=\"nombre\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n\r\n          <b-form-group id=\"input-group-2\">   \r\n            <b-form-input\r\n              id=\"input-2\"\r\n              v-model=\"form.descripcion\"\r\n              required\r\n              placeholder=\"Descripción Producto\"\r\n              type=\"text\"\r\n              name=\"descripcion\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n\r\n          <b-form-group>\r\n            <b-form-select v-model=\"form.categoria\" :options=\"options\"></b-form-select>\r\n          </b-form-group>\r\n\r\n          <b-form-group id=\"input-group-3\">\r\n            <b-form-input\r\n              id=\"input-3\"\r\n              v-model=\"form.precio\"\r\n              required\r\n              placeholder=\"Precio\"\r\n              type=\"number\"\r\n              name=\"precio\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n\r\n          <b-form-group id=\"input-group-4\">\r\n            <b-form-input\r\n              id=\"input-4\"\r\n              v-model=\"form.cantidad\"\r\n              required\r\n              placeholder=\"Cantidad\"\r\n              type=\"number\"\r\n              name=\"cantidad\" \r\n            ></b-form-input>\r\n          </b-form-group>\r\n\r\n          <div>\r\n            <b-form-file class=\"text-left border-bottom-0\"\r\n              id=\"Imagenes_Array\"\r\n              accept=\"image/*\"\r\n              multiple\r\n              :file-name-formatter=\"formatNames\"\r\n              v-model=\"arrayImagenes\"\r\n              placeholder=\"Selección imágenes\"\r\n              drop-placeholder=\"Drop file here...\"\r\n            ></b-form-file>\r\n          </div>\r\n\r\n          <select id=\"\" class=\"form-control mt-0 border-top-0 rounded-top-0\">\r\n            <option v-for=\"item in form.nombreImags\" :key=\"item.id\">\r\n              {{ item.name }}\r\n            </option>\r\n          </select>\r\n                      \r\n          <div class=\"text-right mt-3\">\r\n            <b-button to=\"/productosTodos\" variant=\"success\" style=\"display: inline-block!important;\" size=\"sm\" class=\"mr-2\">Volver</b-button>\r\n            <b-button type=\"button\" @click=\"vistaPreviaModal\" class=\"mr-2\" variant=\"outline-success\" size=\"sm\">Vista Previa</b-button>\r\n            <b-button @click=\"onReset\" class=\"mr-1\" variant=\"outline-danger\" hidden size=\"sm\">Limpiar</b-button>\r\n            <b-button type=\"reset\" class=\"mr-1\" variant=\"outline-danger\" size=\"sm\">Limpiar</b-button>\r\n            <b-button type=\"button\" @click=\"onSubmit\" class=\"ml-1\" variant=\"outline-primary\" size=\"sm\">Guardar</b-button>\r\n          </div>\r\n        </b-form>\r\n      </b-col>\r\n\r\n      <b-col cols=\"1\" lg=\"4\" md=\"3\" sm=\"2\">\r\n        <img src=\"\" alt=\"\">\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <Modal ref=\"elModal\" :tituloModal=\"form.nombre\" :textoModal=\"form.descripcion\" :precio=\"parseInt(form.precio)\"/>\r\n\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport Modal from './Modal'\r\nimport InputFotos from './InputFotos'\r\nimport axios from 'axios'\r\nlet url = 'http://localhost:3000/';\r\nvar arregloImagenes = [];\r\nexport default {\r\n    name:'NuevoProducto',\r\n    components:{\r\n        InputFotos, Modal\r\n    },\r\n    data() {  \r\n      return {\r\n        form: {\r\n          nombre: '',\r\n          descripcion: '',\r\n          categoria: null,\r\n          precio: '',\r\n          cantidad: '',\r\n          nombreImags: '',\r\n          dataImags: null\r\n        },\r\n        arrayImagenes:[],\r\n        show: true,\r\n        options:[]\r\n      }\r\n    },\r\n    props:{\r\n      propsImg:{\r\n        id:Number,\r\n        src:String,\r\n        thumbnail:String\r\n      },\r\n      arregloFinal: Array\r\n    }, \r\n    methods: {\r\n      onSubmit(evt) {\r\n        var datos = this.form;\r\n        const config = {\r\n          headers: {'content-type':'application/json'}\r\n        }\r\n        axios.post(`${url}NuevoProducto`, datos, config).then(function (resp) {\r\n          console.log(datos);\r\n            alert(resp.data);  \r\n            that.onReset();\r\n        });\r\n      },\r\n      onReset(evt) {\r\n        evt.preventDefault();\r\n        this.form.nombre = ''\r\n        this.form.descripcion = ''\r\n        this.form.precio = null\r\n        this.form.cantidad = null\r\n        this.form.nombreImags = null\r\n        this.form.dataImags = undefined\r\n        this.show = false\r\n        this.$nextTick(() => {\r\n          this.show = true\r\n        })\r\n      },\r\n      cambiar(){\r\n        let that = this;\r\n        this.$watch(() => {\r\n          if(that.arrayImagenes != that.$refs.inputFoto.file){\r\n            that.arrayImagenes = that.$refs.inputFoto.file\r\n            that.form.dataImags = that.$refs.inputFoto.file;\r\n\r\n            console.log(this.arrayImagenes);\r\n\r\n            const toBase64 = file => new Promise((resolve, reject) => {\r\n              const reader = new FileReader();\r\n              reader.readAsDataURL(file);\r\n              reader.onload = () => resolve(reader.result);\r\n              reader.onerror = error => reject(error);\r\n            });\r\n            console.log(that.arrayImagenes.length);\r\n             let eso = this;\r\n            async function convert_Base64(){\r\n              for(var t = 0; t < that.arrayImagenes.length; t++){\r\n                that.form.dataImags[t] = (await toBase64(that.$refs.inputFoto.file[t]));\r\n                arregloImagenes.push({ id:that.form.nombreImags[t], src:that.form.dataImags[t], thumbnail:that.form.dataImags[t] })\r\n              }\r\n            }\r\n            convert_Base64();\r\n          }\r\n        });\r\n      },\r\n      vistaPreviaModal(){ //NO RECUERDO USAR ESTO PERO NO LO BORRO PORQUE REALMENTE NO SE QUE CARAJO PUEDA SALIR MAL\r\n        if(this.$refs.elModal.arrayImagenes != undefined){\r\n          this.$refs.elModal.arrayImagenes = this.form.dataImags;\r\n          this.$bvModal.show(\"modal_1\");\r\n          console.log(this.$refs.elModal.arrayImagenes);\r\n        }\r\n      },\r\n      formatNames(files) {\r\n        if (files.length === 1) {\r\n          return files[0].name\r\n        } else {\r\n          return `${files.length} Imágenes Seleccionadas`\r\n        }\r\n      }\r\n    },\r\n    watch:{\r\n      arrayImagenes: function (nuevoArray, viejoArray) {\r\n        \r\n        if(nuevoArray.length === 0){ return; }\r\n\r\n        if(nuevoArray[0].id === 0){\r\n          this.form.dataImags = nuevoArray;\r\n          this.arrayImagenes = [];\r\n        }\r\n        else{\r\n          var unArreglo = [];\r\n          var conversion = undefined;\r\n          var arregloNombres = [];\r\n          const toBase64 = file => new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n          });\r\n              \r\n          let that = this;\r\n          var archivos = document.querySelector('#Imagenes_Array').files;\r\n\r\n          async function convert_Base64(){\r\n            for(var t = 0; t < archivos.length; t++){\r\n              conversion = (await toBase64(archivos[t]));\r\n              unArreglo.push({ 'id':t, 'src':conversion,  'thumbnail':conversion });\r\n              arregloNombres.push({ 'id':t, 'name':archivos[t].name });\r\n            }\r\n          }\r\n          convert_Base64();\r\n          this.form.nombreImags = arregloNombres;\r\n          this.form.dataImags = unArreglo;\r\n          console.log(this.form.dataImags);\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      var arregloImagenes = [];\r\n      axios.post(`${url}traerUnProducto`, { id:this.$route.query.iden }).then(function(resp){\r\n        this.form.nombre = resp.data[0].nombre;\r\n        this.form.descripcion = resp.data[0].descripcion;\r\n        this.form.cantidad = resp.data[0].cantidad;\r\n        this.form.precio = resp.data[0].precio.toString();\r\n        this.form.nombreImags = resp.data[0].nombreImagenes;\r\n        this.form.categoria = resp.data[0].categoria;\r\n        for (var t = 0; t < resp.data[0].dataImagenes.length; t++) {\r\n          arregloImagenes.push({ 'id':resp.data[0].dataImagenes[t].id, 'src':resp.data[0].dataImagenes[t].src, 'thumbnail':resp.data[0].dataImagenes[t].src })\r\n        }\r\n        this.arrayImagenes = arregloImagenes;\r\n      }.bind(this));\r\n\r\n      this.options.push({ 'value':null, 'text':'Categoría'});\r\n      axios.get(`${url}traerCategorias`).then(function(resp){\r\n        // console.log(resp.data);\r\n        resp.data.map(function(obj){\r\n          this.options.push({ 'value':obj._id, 'text':obj.nombre })\r\n        }.bind(this));\r\n      }.bind(this));\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n"]}]}