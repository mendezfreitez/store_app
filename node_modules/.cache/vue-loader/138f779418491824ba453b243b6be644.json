{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icald\\VueJS\\store_app\\src\\components\\ListaProductos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\components\\ListaProductos.vue","mtime":1601096792897},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBsZXQgY29udCA9IDA7DQppbXBvcnQge21hcFN0YXRlLCBtYXBNdXRhdGlvbnN9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTonTGlzdGFQcm9kdWN0b3MnLA0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgbG9zUHJvZHVjdG9zOiBBcnJheSwNCiAgICAgICAgICAgIFRvdGFsOiBOdW1iZXIsDQogICAgICAgICAgICBlbFRvdGFsOicnDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNvbXB1dGVkOnsNCiAgICAgIC4uLm1hcFN0YXRlKFsnUHJvZHVjdG9zQ2Fycm8nXSksDQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgIC4uLm1hcE11dGF0aW9ucyhbJ21vZGlmQ2FudFByb2R1Y3RvJywnbW9kaWZpY2FyQ2Fycm8nXSksDQogICAgICAgIHJlbW92ZXJEZUNhcnJvKGlkUHJvZHVjdG8sdGl0dWxvUHJvZHVjdG8pew0KICAgICAgICAgICAgdmFyIGVsaW1pbmFyID0gY29uZmlybShgRXN0w6Egc2VndXJvIGRlIGVsaW1pbmFyIGVsIHByb2R1Y3RvICcke3RpdHVsb1Byb2R1Y3RvfScgZGUgc3UgY2Fycm8/YCkNCiAgICAgICAgICAgIGlmKGVsaW1pbmFyKXsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLlByb2R1Y3Rvc0NhcnJvKTsNCiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwOw0KICAgICAgICAgICAgICAgIHRoaXMuUHJvZHVjdG9zQ2Fycm8uZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYoaWRQcm9kdWN0byA9PT0gZWxlbWVudC5pZFByb2R1Y3RvKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGAke2lkUHJvZHVjdG99ID09PSAke2VsZW1lbnQuaWRQcm9kdWN0b31gKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Qcm9kdWN0b3NDYXJyby5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RpZmljYXJDYXJybyh0aGlzLlByb2R1Y3Rvc0NhcnJvKSAgDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLlRvdGFsID0gMDsNCiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bG9Ub3RhbENhcnJvKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNhbnRpZGFkUHJvZHVjdG9DYXJybyhkYXRvKXsNCiAgICAgICAgICAgIGxldCBjYW50aWRhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdG8pLnZhbHVlOw0KICAgICAgICAgICAgdGhpcy5tb2RpZmljYXJDYXJybyh0aGlzLlByb2R1Y3Rvc0NhcnJvKTsgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQogICAgICAgICAgICB0aGlzLlRvdGFsID0gMDsNCiAgICAgICAgICAgIHRoaXMuY2FsY3Vsb1RvdGFsQ2Fycm8oKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2FsY3Vsb1RvdGFsQ2Fycm8oKXsNCiAgICAgICAgICAgIHRoaXMuUHJvZHVjdG9zQ2Fycm8ubWFwKGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgIHRoaXMuVG90YWwgKz0gZS5wcmVjaW8gKiBlLmxhQ2FudGlkYWQ7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFByZWNpbzogJHtlLnByZWNpb30gLy8gQ2FudGlkYWQ6ICR7ZS5sYUNhbnRpZGFkfSAvLyBUb3RhbDogJHtlLnByZWNpbyplLmxhQ2FudGlkYWR9YCk7DQogICAgICAgICAgICB9LmJpbmQodGhpcykpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vdGVyTW9kYWwnKS5pbm5lclRleHQgPSB0aGlzLmVsVG90YWw7DQogICAgICAgIH0sDQogICAgICAgIGNvbXByYXIoKXsNCiAgICAgICAgICAgIGFsZXJ0KGBFbCB0b3RhbCBhIHBhZ2FyIGVzOiAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXh0b1RvdGFsJykudGV4dENvbnRlbnR9YCk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgdmFyIHByb2R1Y3Rvc0xvY2FsZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9kdWN0b3NDYXJybycpKTsNCiAgICAgICAgdGhpcy5tb2RpZmljYXJDYXJybyhwcm9kdWN0b3NMb2NhbGVzKTsNCiAgICAgICAgdGhpcy5Ub3RhbCA9IDA7DQogICAgICAgIA0KICAgICAgICB0aGlzLmNhbGN1bG9Ub3RhbENhcnJvKCk7DQogICAgICAgIC8vIHRoaXMuUHJvZHVjdG9zQ2Fycm8ubWFwKGZ1bmN0aW9uKGUpew0KICAgICAgICAvLyAgICAgdGhpcy5Ub3RhbCArPSBlLnByZWNpbyAqIGUubGFDYW50aWRhZDsNCiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKGBQcmVjaW86ICR7ZS5wcmVjaW99IC8vIENhbnRpZGFkOiAke2UubGFDYW50aWRhZH0gLy8gVG90YWw6ICR7ZS5wcmVjaW8qZS5sYUNhbnRpZGFkfWApOw0KICAgICAgICAvLyB9LmJpbmQodGhpcykpOyAgIA0KICAgIH0sDQogICAgLy8gd2F0Y2g6ew0KICAgIC8vICAgICBUb3RhbChudWV2byl7DQogICAgLy8gICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vdGVyTW9kYWwnKS5pbm5lclRleHQgID0gbnVldm87DQogICAgLy8gICAgIH0NCiAgICAvLyB9DQp9DQo="},{"version":3,"sources":["ListaProductos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListaProductos.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <!-- <b-container> -->\r\n    <!-- <h1>Carro de Compras</h1> -->\r\n\r\n<div>\r\n    <div v-for=\"Producto in ProductosCarro\" :key=\"Producto.idProducto\" class=\"mb-2 mt-1 ml-2 mr-2\">\r\n        <b-card :img-src=\"Producto.imagen\" img-alt=\"Card image\" img-right img-height=\"100\" border-variant=\"secondary\" class=\"margenCard\">\r\n            <h6>{{Producto.tituloProducto}}</h6>\r\n            <div>\r\n                <!-- <b-card-text style=\"display:inline-block!important;\" class=\"mr-1\">{{Producto.precio | currency}}</b-card-text> -->\r\n                <b-form-spinbutton inline\r\n                    :ref=\"'dato_'\"\r\n                    @change=\"cantidadProductoCarro(Producto.idProducto)\"\r\n                    :id=\"Producto.idProducto\" v-model=\"Producto.laCantidad\"\r\n                    min=\"1\"\r\n                    max=\"1000\"  \r\n                    style=\"height:23px!important; width:130px!important; margin-right:4px!important; border-color:green;\">\r\n                </b-form-spinbutton>\r\n                \r\n            </div>\r\n            <div>\r\n                <b-badge class=\"text-right\" variant=\"success\" style=\"display:inline-block!important; font-size:13px; width:130px!important;\">{{Producto.precio * Producto.laCantidad | currency}}</b-badge>\r\n            </div>\r\n                <b-link style=\"position:absolute; bottom:5px!important; right:105px!important;\" class=\"btn btn-sm btn-outline-secondary papelera\" title=\"Eliminar Producto de Carro\" href=\"#\"  @click=\"removerDeCarro(Producto.idProducto, Producto.tituloProducto)\">\r\n                   Eliminar <!-- <b-icon font-scale=\"1.5\" icon=\"trash\" variant=\"danger\" class=\"iconoEliminar\" ></b-icon> -->\r\n                </b-link>\r\n        </b-card>\r\n    </div>\r\n    <!-- <input id=\"totalOculto\"  :value=\"Total | currency\"> -->\r\n      <!-- <ModalCarro /> -->\r\n</div>\r\n    \r\n    <!-- <div class=\"table-responsive\">\r\n        <table class=\"table table-sm table-bordered table-hover\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">Producto</th>\r\n                    <th scope=\"col\">Precio</th>\r\n                    <th scope=\"col\">Cantidad</th>\r\n                    <th scope=\"col\">Total</th>\r\n                    <th scope=\"col\">Acción</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"Producto in ProductosCarro\" :key=\"Producto.idProducto\">\r\n                    <td nowrap class=\"text-left\">{{Producto.tituloProducto}}</td>\r\n                    <td nowrap class=\"text-right\">{{Producto.precio | currency}}</td>\r\n                    <td nowrap class=\"text-center\">\r\n                        <div>\r\n                            <b-form-spinbutton\r\n                            :ref=\"'dato_'\"\r\n                            @change=\"cantidadProductoCarro(Producto.idProducto)\"\r\n                            :id=\"Producto.idProducto\" v-model=\"Producto.laCantidad\"\r\n                            min=\"1\"\r\n                            max=\"1000\"\r\n                            style=\"height:23px!important;\">\r\n                            </b-form-spinbutton>\r\n                        </div>\r\n                    </td>\r\n                    <td nowrap class=\"text-right\">{{Producto.precio * Producto.laCantidad | currency}}</td>\r\n                    <td nowrap class=\"text-center\">\r\n                        <a href=\"#\" class=\"papelera\" @click=\"removerDeCarro(Producto.idProducto, Producto.tituloProducto)\">\r\n                            <b-icon icon=\"trash\" variant=\"primary\" style=\"color: #7952b3;\"></b-icon>\r\n                        </a>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"total\" style=\"border-style:none!important;\">\r\n                    <td nowrap class=\"noBorder\"></td>\r\n                    <td nowrap class=\"noBorder\"></td>\r\n                    <td nowrap class=\"noBorder\"></td>\r\n                    <td nowrap class=\"noBorder text-right\"><b id=\"textoTotal\">{{Total | currency}}</b></td>\r\n                    <td nowrap class=\"noBorder text-center\" style=\"border-style:none!important;\" >\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div> -->\r\n</template>\r\n\r\n<script>\r\n// let cont = 0;\r\nimport {mapState, mapMutations} from 'vuex'\r\nexport default {\r\n    name:'ListaProductos',\r\n    data(){\r\n        return{\r\n            losProductos: Array,\r\n            Total: Number,\r\n            elTotal:''\r\n        }\r\n    },\r\n    computed:{\r\n      ...mapState(['ProductosCarro']),\r\n    },\r\n    methods:{\r\n      ...mapMutations(['modifCantProducto','modificarCarro']),\r\n        removerDeCarro(idProducto,tituloProducto){\r\n            var eliminar = confirm(`Está seguro de eliminar el producto '${tituloProducto}' de su carro?`)\r\n            if(eliminar){\r\n                // console.log(this.ProductosCarro);\r\n                let index = 0;\r\n                this.ProductosCarro.forEach(element => {\r\n                    if(idProducto === element.idProducto){\r\n                        // console.log(`${idProducto} === ${element.idProducto}`)\r\n                        this.ProductosCarro.splice(index, 1);\r\n                        this.modificarCarro(this.ProductosCarro)  \r\n                    }\r\n                    index++;\r\n                });\r\n                this.Total = 0;\r\n                this.calculoTotalCarro();\r\n            }\r\n        },\r\n        cantidadProductoCarro(dato){\r\n            let cantidad = document.getElementById(dato).value;\r\n            this.modificarCarro(this.ProductosCarro);       /////////////////////////////////////////////////////////////////////\r\n            this.Total = 0;\r\n            this.calculoTotalCarro();\r\n        },\r\n        calculoTotalCarro(){\r\n            this.ProductosCarro.map(function(e){\r\n                this.Total += e.precio * e.laCantidad;\r\n                // console.log(`Precio: ${e.precio} // Cantidad: ${e.laCantidad} // Total: ${e.precio*e.laCantidad}`);\r\n            }.bind(this));\r\n            \r\n            document.getElementById('footerModal').innerText = this.elTotal;\r\n        },\r\n        comprar(){\r\n            alert(`El total a pagar es: ${document.querySelector('#textoTotal').textContent}`);\r\n        }\r\n    },\r\n    mounted(){\r\n        var productosLocales = JSON.parse(localStorage.getItem('productosCarro'));\r\n        this.modificarCarro(productosLocales);\r\n        this.Total = 0;\r\n        \r\n        this.calculoTotalCarro();\r\n        // this.ProductosCarro.map(function(e){\r\n        //     this.Total += e.precio * e.laCantidad;\r\n        //     // console.log(`Precio: ${e.precio} // Cantidad: ${e.laCantidad} // Total: ${e.precio*e.laCantidad}`);\r\n        // }.bind(this));   \r\n    },\r\n    // watch:{\r\n    //     Total(nuevo){\r\n    //         document.getElementById('footerModal').innerText  = nuevo;\r\n    //     }\r\n    // }\r\n}\r\n</script>\r\n\r\n<style>\r\n    #btnCompra{\r\n        height: 23px!important;\r\n        padding-top: 0px!important;\r\n    }\r\n    path.text-primary{\r\n        color: #FFC107!important;\r\n    }\r\n    .total:hover{\r\n        background-color: transparent!important;\r\n    }\r\n    .noBorder{\r\n        border-style:none!important;\r\n    }\r\n    td, th{\r\n        font-size: 13px!important;\r\n    }\r\n    .card-text, .b-form-spinbutton{\r\n        margin-bottom: 0px!important;\r\n        font-size: 13px!important;\r\n    }\r\n    .iconoEliminar:hover{\r\n        color: #fff!important;\r\n    }\r\n    .papelera{\r\n        height: 24px!important;\r\n        width: 70px!important;\r\n        padding: 0px!important;\r\n        /* padding-top: 2px!important; */\r\n    }\r\n    div.margenCard > .card-body{\r\n        padding-top: 2px!important;\r\n        padding-left: 6px!important;\r\n    }\r\n    div.b-form-spinbutton{\r\n        height: 19px !important;\r\n    }\r\n</style>"]}]}