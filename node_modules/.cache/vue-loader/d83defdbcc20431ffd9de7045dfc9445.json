{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icald\\VueJS\\store_app\\src\\components\\NuevoProducto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\components\\NuevoProducto.vue","mtime":1595213710933},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSW5wdXRGb3RvcyBmcm9tICcuL0lucHV0Rm90b3MnDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpsZXQgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6J051ZXZvUHJvZHVjdG8nLA0KICAgIGNvbXBvbmVudHM6ew0KICAgICAgICBJbnB1dEZvdG9zDQogICAgfSwNCiAgICAgICAgZGF0YSgpIHsgIA0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZm9ybTogew0KICAgICAgICAgIG5vbWJyZTogJycsDQogICAgICAgICAgZGVzY3JpcGNpb246ICcnLA0KICAgICAgICAgIHByZWNpbzogJycsDQogICAgICAgICAgY2FudGlkYWQ6ICcnLA0KICAgICAgICAgIG5vbWJyZUltYWdzOiAnJywNCiAgICAgICAgICBkYXRhSW1hZ3M6IEFycmF5DQogICAgICAgIH0sDQogICAgICAgIHNob3c6IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIG9uU3VibWl0KGV2dCkgew0KICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1BydWViYSBjb24gRm9ybURhdGEoKSAoZXMgZWwgbWlzbW8gYXJyYXkgcXVlIGVsIGRlIHRoaXMuZm9ybS5kYXRhSW1hZ3MsIHBvciB0YW50byBubyB0aWVuZSBzZW50aWRvIGNhbWJpYXJsbykNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsNCiAgICAgICAgdmFyIGRhdG9zID0gdGhpcy5mb3JtOw0KICAgICAgICBjb25zdCBjb25maWcgPSB7DQogICAgICAgICAgaGVhZGVyczogeydjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9DQogICAgICAgICAgLy8gaGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9DQogICAgICAgIH0NCiAgICAgICAgYXhpb3MucG9zdChgJHt1cmx9TnVldm9Qcm9kdWN0b2AsIGRhdG9zLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7ICANCiAgICAgICAgfSk7DQogICAgICB9LA0KICAgICAgb25SZXNldChldnQpIHsNCiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIC8vIFJlc2V0IG91ciBmb3JtIHZhbHVlcw0KICAgICAgICB0aGlzLmZvcm0ubm9tYnJlID0gJycNCiAgICAgICAgdGhpcy5mb3JtLmRlc2NyaXBjaW9uID0gJycgDQogICAgICAgIHRoaXMuZm9ybS5wcmVjaW8gPSBudWxsDQogICAgICAgIHRoaXMuZm9ybS5jYW50aWRhZCA9IG51bGwNCiAgICAgICAgdGhpcy5mb3JtLm5vbWJyZUltYWdzID0gbnVsbCANCiAgICAgICAgdGhpcy5mb3JtLmRhdGFJbWFncyA9IHVuZGVmaW5lZA0KICAgICAgICAvLyBUcmljayB0byByZXNldC9jbGVhciBuYXRpdmUgYnJvd3NlciBmb3JtIHZhbGlkYXRpb24gc3RhdGUNCiAgICAgICAgdGhpcy5zaG93ID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuc2hvdyA9IHRydWUNCiAgICAgICAgfSkNCiAgICAgIH0sIA0KICAgICAgY2FtYmlhcigpew0KICAgICAgICB2YXIgdGV4dG8gPSAiIjsNCiAgICAgICAgdmFyIGRhdGE7DQogICAgICAgIHZhciBpbmRleCA9IDA7DQogICAgICAgIHRoaXMuJHJlZnMuaW5wdXRGb3RvLiR3YXRjaCgoKT0+ew0KICAgICAgICAgIGlmKHRoaXMuJHJlZnMuaW5wdXRGb3RvLmZpbGUgIT0gdW5kZWZpbmVkKXsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5kYXRhSW1hZ3MgPSB0aGlzLiRyZWZzLmlucHV0Rm90by5maWxlOw0KICAgICAgICAgICAgdGhpcy5mb3JtLm5vbWJyZUltYWdzID0gdGhpcy4kcmVmcy5pbnB1dEZvdG8uZmlsZS5tYXAoKCk9PnsNCiAgICAgICAgICAgICAgdGV4dG8gPSB0aGlzLiRyZWZzLmlucHV0Rm90by5maWxlW2luZGV4XS5uYW1lOw0KICAgICAgICAgICAgICBpbmRleCArPSAxOyANCiAgICAgICAgICAgICAgcmV0dXJuIHRleHRvOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pOw0KDQogICAgICAgICAgICBjb25zdCB0b0Jhc2U2NCA9IGZpbGUgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsNCiAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7DQogICAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KGVycm9yKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBjb252ZXJ0X0Jhc2U2NCgpew0KICAgICAgICAgICAgICBmb3IodmFyIHQgPSAwOyB0IDwgdGhhdC4kcmVmcy5pbnB1dEZvdG8uZmlsZS5sZW5ndGg7IHQrKyl7DQogICAgICAgICAgICAgICAgdGhhdC5mb3JtLmRhdGFJbWFnc1t0XSA9IChhd2FpdCB0b0Jhc2U2NCh0aGF0LiRyZWZzLmlucHV0Rm90by5maWxlW3RdKSk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnZlcnRfQmFzZTY0KCk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCi8vIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOw0KLy8gaW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwSy4uLic7DQovLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTsNCiAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["NuevoProducto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NuevoProducto.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-container>\r\n      <b-row>\r\n          <b-col cols=\"1\" lg=\"4\" md=\"3\" sm=\"2\"></b-col>\r\n          <b-col cols=\"10\" lg=\"4\" md=\"6\" sm=\"8\">\r\n\r\n            <b-form @reset=\"onReset\" v-if=\"show\" action=\"http://localhost:3000/NuevoProducto\">\r\n\r\n              <h3>Nuevo Producto</h3>\r\n  \r\n              <b-form-group id=\"input-group-1\">\r\n                <b-form-input\r\n                  id=\"input-1\"\r\n                  v-model=\"form.nombre\"\r\n                  type=\"text\"\r\n                  required\r\n                  placeholder=\"Nombre Producto\"\r\n                  name=\"nombre\"\r\n                ></b-form-input>\r\n              </b-form-group>\r\n\r\n              <b-form-group id=\"input-group-2\">   \r\n                <b-form-input\r\n                  id=\"input-2\"\r\n                  v-model=\"form.descripcion\"\r\n                  required\r\n                  placeholder=\"DescripciÃ³n Producto\"\r\n                  type=\"text\"\r\n                  name=\"descripcion\"\r\n                ></b-form-input>\r\n              </b-form-group>\r\n\r\n              <b-form-group id=\"input-group-3\">\r\n                <b-form-input\r\n                  id=\"input-3\"\r\n                  v-model=\"form.precio\"\r\n                  required\r\n                  placeholder=\"Precio\"\r\n                  type=\"number\"\r\n                  name=\"precio\"\r\n                ></b-form-input>\r\n              </b-form-group>\r\n\r\n              <b-form-group id=\"input-group-4\">\r\n                <b-form-input\r\n                  id=\"input-4\"\r\n                  v-model=\"form.cantidad\"\r\n                  required\r\n                  placeholder=\"Cantidad\"\r\n                  type=\"number\"\r\n                  name=\"cantidad\" \r\n                ></b-form-input>\r\n              </b-form-group>\r\n\r\n              <InputFotos ref=\"inputFoto\" v-model=\"form.nombreImags\" @cambio=\"cambiar()\" />\r\n\r\n              <select id=\"\" class=\"form-control mt-0 border-top-0 rounded-top-0\">\r\n                <option v-for=\"item in form.nombreImags\" :key=\"item.id\">\r\n                  {{ item }}\r\n                </option>\r\n              </select>\r\n              \r\n              <div class=\"text-right mt-3\">\r\n                <b-button type=\"reset\" class=\"mr-2\" variant=\"outline-danger\">Limpiar</b-button>\r\n                <b-button type=\"button\" @click=\"onSubmit\" class=\"ml-2\" variant=\"outline-primary\">Registrar</b-button>\r\n              </div>\r\n            </b-form>\r\n          </b-col>\r\n          <b-col cols=\"1\" lg=\"4\" md=\"3\" sm=\"2\">\r\n            <img src=\"\" alt=\"\">\r\n          </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport InputFotos from './InputFotos'\r\nimport axios from 'axios'\r\nlet url = 'http://localhost:3000/';\r\nexport default {\r\n    name:'NuevoProducto',\r\n    components:{\r\n        InputFotos\r\n    },\r\n        data() {  \r\n      return {\r\n        form: {\r\n          nombre: '',\r\n          descripcion: '',\r\n          precio: '',\r\n          cantidad: '',\r\n          nombreImags: '',\r\n          dataImags: Array\r\n        },\r\n        show: true\r\n      }\r\n    },\r\n    methods: {\r\n      onSubmit(evt) {\r\n        ///////////////////////Prueba con FormData() (es el mismo array que el de this.form.dataImags, por tanto no tiene sentido cambiarlo)\r\n        console.log(this.form);\r\n        var datos = this.form;\r\n        const config = {\r\n          headers: {'content-type': 'application/json'}\r\n          // headers: {'Content-type': 'application/json'}\r\n        }\r\n        axios.post(`${url}NuevoProducto`, datos, config).then(function (resp) {\r\n            console.log(resp.data);  \r\n        });\r\n      },\r\n      onReset(evt) {\r\n        evt.preventDefault();\r\n        // Reset our form values\r\n        this.form.nombre = ''\r\n        this.form.descripcion = '' \r\n        this.form.precio = null\r\n        this.form.cantidad = null\r\n        this.form.nombreImags = null \r\n        this.form.dataImags = undefined\r\n        // Trick to reset/clear native browser form validation state\r\n        this.show = false\r\n        this.$nextTick(() => {\r\n          this.show = true\r\n        })\r\n      }, \r\n      cambiar(){\r\n        var texto = \"\";\r\n        var data;\r\n        var index = 0;\r\n        this.$refs.inputFoto.$watch(()=>{\r\n          if(this.$refs.inputFoto.file != undefined){\r\n            this.form.dataImags = this.$refs.inputFoto.file;\r\n            this.form.nombreImags = this.$refs.inputFoto.file.map(()=>{\r\n              texto = this.$refs.inputFoto.file[index].name;\r\n              index += 1; \r\n              return texto;\r\n            });\r\n            console.log(this.form);\r\n\r\n            const toBase64 = file => new Promise((resolve, reject) => {\r\n              const reader = new FileReader();\r\n              reader.readAsDataURL(file);\r\n              reader.onload = () => resolve(reader.result);\r\n              reader.onerror = error => reject(error);\r\n            });\r\n            \r\n            let that = this;\r\n            async function convert_Base64(){\r\n              for(var t = 0; t < that.$refs.inputFoto.file.length; t++){\r\n                that.form.dataImags[t] = (await toBase64(that.$refs.inputFoto.file[t]));\r\n              }\r\n            }\r\n            convert_Base64();\r\n          }\r\n        });\r\n// var image = new Image();\r\n// image.src = 'data:image/png;base64,iVBORw0K...';\r\n// document.body.appendChild(image);\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\r\n"]}]}