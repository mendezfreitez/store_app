{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icald\\VueJS\\store_app\\src\\components\\ListaProductos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\components\\ListaProductos.vue","mtime":1600055542666},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBsZXQgY29udCA9IDA7DQppbXBvcnQge21hcFN0YXRlLCBtYXBNdXRhdGlvbnN9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTonTGlzdGFQcm9kdWN0b3MnLA0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgbG9zUHJvZHVjdG9zOiBBcnJheSwNCiAgICAgICAgICAgIFRvdGFsOiBOdW1iZXINCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6ew0KICAgICAgLi4ubWFwU3RhdGUoWydQcm9kdWN0b3NDYXJybyddKSwNCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgLi4ubWFwTXV0YXRpb25zKFsnbW9kaWZDYW50UHJvZHVjdG8nLCdtb2RpZmljYXJDYXJybyddKSwNCiAgICAgICAgcmVtb3ZlckRlQ2Fycm8oaWRQcm9kdWN0byx0aXR1bG9Qcm9kdWN0byl7DQogICAgICAgICAgICB2YXIgZWxpbWluYXIgPSBjb25maXJtKGBFc3TDoSBzZWd1cm8gZGUgZWxpbWluYXIgZWwgcHJvZHVjdG8gJyR7dGl0dWxvUHJvZHVjdG99JyBkZSBzdSBjYXJybz9gKQ0KICAgICAgICAgICAgaWYoZWxpbWluYXIpew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuUHJvZHVjdG9zQ2Fycm8pOw0KICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7DQogICAgICAgICAgICAgICAgdGhpcy5Qcm9kdWN0b3NDYXJyby5mb3JFYWNoKGVsZW1lbnQgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZihpZFByb2R1Y3RvID09PSBlbGVtZW50LmlkUHJvZHVjdG8pew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYCR7aWRQcm9kdWN0b30gPT09ICR7ZWxlbWVudC5pZFByb2R1Y3RvfWApDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlByb2R1Y3Rvc0NhcnJvLnNwbGljZShpbmRleCwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWNhckNhcnJvKHRoaXMuUHJvZHVjdG9zQ2Fycm8pICANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpbmRleCsrOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuVG90YWwgPSAwOw0KICAgICAgICAgICAgICAgIHRoaXMuY2FsY3Vsb1RvdGFsQ2Fycm8oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2FudGlkYWRQcm9kdWN0b0NhcnJvKGRhdG8pew0KICAgICAgICAgICAgbGV0IGNhbnRpZGFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGF0bykudmFsdWU7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgJHtkYXRvfSAgLSAgJHtjYW50aWRhZH1gKTsNCiAgICAgICAgICAgIC8vIHRoaXMubW9kaWZDYW50UHJvZHVjdG8oeydpZCc6ZGF0bywnY2FudGlkYWQnOmNhbnRpZGFkfSk7DQogICAgICAgICAgICB0aGlzLm1vZGlmaWNhckNhcnJvKHRoaXMuUHJvZHVjdG9zQ2Fycm8pOyAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCiAgICAgICAgICAgIHRoaXMuVG90YWwgPSAwOw0KICAgICAgICAgICAgdGhpcy5jYWxjdWxvVG90YWxDYXJybygpOw0KICAgICAgICAgICAgLy8gdGhpcy5Qcm9kdWN0b3NDYXJyby5tYXAoZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAvLyAgICAgdGhpcy5Ub3RhbCArPSBlLnByZWNpbyAqIGUubGFDYW50aWRhZDsNCiAgICAgICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhgUHJlY2lvOiAke2UucHJlY2lvfSAvLyBDYW50aWRhZDogJHtlLmxhQ2FudGlkYWR9IC8vIFRvdGFsOiAke2UucHJlY2lvKmUubGFDYW50aWRhZH1gKTsNCiAgICAgICAgICAgIC8vIH0uYmluZCh0aGlzKSk7ICANCiAgICAgICAgfSwNCiAgICAgICAgY2FsY3Vsb1RvdGFsQ2Fycm8oKXsNCiAgICAgICAgICAgIHRoaXMuUHJvZHVjdG9zQ2Fycm8ubWFwKGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgIHRoaXMuVG90YWwgKz0gZS5wcmVjaW8gKiBlLmxhQ2FudGlkYWQ7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFByZWNpbzogJHtlLnByZWNpb30gLy8gQ2FudGlkYWQ6ICR7ZS5sYUNhbnRpZGFkfSAvLyBUb3RhbDogJHtlLnByZWNpbyplLmxhQ2FudGlkYWR9YCk7DQogICAgICAgICAgICB9LmJpbmQodGhpcykpOyAgDQogICAgICAgIH0sDQogICAgICAgIGNvbXByYXIoKXsNCiAgICAgICAgICAgIGFsZXJ0KGBFbCB0b3RhbCBhIHBhZ2FyIGVzOiAke3RoaXMuVG90YWx9IHBlc29zLmApOw0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkKCl7DQogICAgICAgIHZhciBwcm9kdWN0b3NMb2NhbGVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvZHVjdG9zQ2Fycm8nKSk7DQogICAgICAgIHRoaXMubW9kaWZpY2FyQ2Fycm8ocHJvZHVjdG9zTG9jYWxlcyk7DQogICAgICAgIHRoaXMuVG90YWwgPSAwOw0KICAgICAgICANCiAgICAgICAgdGhpcy5jYWxjdWxvVG90YWxDYXJybygpOw0KICAgICAgICAvLyB0aGlzLlByb2R1Y3Rvc0NhcnJvLm1hcChmdW5jdGlvbihlKXsNCiAgICAgICAgLy8gICAgIHRoaXMuVG90YWwgKz0gZS5wcmVjaW8gKiBlLmxhQ2FudGlkYWQ7DQogICAgICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhgUHJlY2lvOiAke2UucHJlY2lvfSAvLyBDYW50aWRhZDogJHtlLmxhQ2FudGlkYWR9IC8vIFRvdGFsOiAke2UucHJlY2lvKmUubGFDYW50aWRhZH1gKTsNCiAgICAgICAgLy8gfS5iaW5kKHRoaXMpKTsgICANCiAgICB9DQp9DQo="},{"version":3,"sources":["ListaProductos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListaProductos.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-container>\r\n    <h1>Lista de Productos</h1>\r\n    <div class=\"table-responsive\">\r\n        <table class=\"table table-sm table-bordered table-hover\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">Producto</th>\r\n                    <th scope=\"col\">Descripción</th>\r\n                    <th scope=\"col\">Precio</th>\r\n                    <th scope=\"col\">Cantidad</th>\r\n                    <th scope=\"col\">Total</th>\r\n                    <th scope=\"col\">Acción</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"Producto in ProductosCarro\" :key=\"Producto.idProducto\">\r\n                    <td nowrap class=\"text-left\">{{Producto.tituloProducto}}</td>\r\n                    <td nowrap class=\"text-left\">{{Producto.textoProducto}}</td>\r\n                    <td nowrap class=\"text-right\">{{Producto.precio}}</td>\r\n                    <td nowrap class=\"text-center\">\r\n                        <div>\r\n                            <b-form-spinbutton\r\n                            :ref=\"'dato_'\"\r\n                            @change=\"cantidadProductoCarro(Producto.idProducto)\"\r\n                            :id=\"Producto.idProducto\" v-model=\"Producto.laCantidad\"\r\n                            min=\"1\"\r\n                            max=\"1000\"\r\n                            style=\"height:23px!important;\">\r\n                            </b-form-spinbutton>\r\n                        </div>\r\n                    </td>\r\n                    <td nowrap class=\"text-right\">{{Producto.precio * Producto.laCantidad}}</td>\r\n                    <td nowrap class=\"text-center\">\r\n                        <!-- <button class=\"btn-sm btn-outline-primary\">X</button> -->\r\n                        <a href=\"#\" class=\"papelera\" @click=\"removerDeCarro(Producto.idProducto, Producto.tituloProducto)\">\r\n                            <b-icon icon=\"trash\" variant=\"primary\" style=\"color: #7952b3;\"></b-icon>\r\n                        </a>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"total\" style=\"border-style:none!important;\">\r\n                    <td class=\"noBorder\"></td>\r\n                    <td class=\"noBorder\"></td>\r\n                    <td class=\"noBorder\"></td>\r\n                    <td class=\"noBorder\"></td>\r\n                    <td class=\"noBorder text-right w-100\">Total: {{Total}}</td>\r\n                    <td class=\"noBorder text-center\" style=\"border-style:none!important;\" >\r\n                        <b-button size=\"sm\" variant=\"outline-primary\" id=\"btnCompra\" @click=\"comprar()\">Comprar</b-button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\n// let cont = 0;\r\nimport {mapState, mapMutations} from 'vuex'\r\nexport default {\r\n    name:'ListaProductos',\r\n    data(){\r\n        return{\r\n            losProductos: Array,\r\n            Total: Number\r\n        }\r\n    },\r\n    computed:{\r\n      ...mapState(['ProductosCarro']),\r\n    },\r\n    methods:{\r\n      ...mapMutations(['modifCantProducto','modificarCarro']),\r\n        removerDeCarro(idProducto,tituloProducto){\r\n            var eliminar = confirm(`Está seguro de eliminar el producto '${tituloProducto}' de su carro?`)\r\n            if(eliminar){\r\n                // console.log(this.ProductosCarro);\r\n                let index = 0;\r\n                this.ProductosCarro.forEach(element => {\r\n                    if(idProducto === element.idProducto){\r\n                        // console.log(`${idProducto} === ${element.idProducto}`)\r\n                        this.ProductosCarro.splice(index, 1);\r\n                        this.modificarCarro(this.ProductosCarro)  \r\n                    }\r\n                    index++;\r\n                });\r\n                this.Total = 0;\r\n                this.calculoTotalCarro();\r\n            }\r\n        },\r\n        cantidadProductoCarro(dato){\r\n            let cantidad = document.getElementById(dato).value;\r\n            // console.log(`${dato}  -  ${cantidad}`);\r\n            // this.modifCantProducto({'id':dato,'cantidad':cantidad});\r\n            this.modificarCarro(this.ProductosCarro);       /////////////////////////////////////////////////////////////////////\r\n            this.Total = 0;\r\n            this.calculoTotalCarro();\r\n            // this.ProductosCarro.map(function(e){\r\n            //     this.Total += e.precio * e.laCantidad;\r\n            //     // console.log(`Precio: ${e.precio} // Cantidad: ${e.laCantidad} // Total: ${e.precio*e.laCantidad}`);\r\n            // }.bind(this));  \r\n        },\r\n        calculoTotalCarro(){\r\n            this.ProductosCarro.map(function(e){\r\n                this.Total += e.precio * e.laCantidad;\r\n                // console.log(`Precio: ${e.precio} // Cantidad: ${e.laCantidad} // Total: ${e.precio*e.laCantidad}`);\r\n            }.bind(this));  \r\n        },\r\n        comprar(){\r\n            alert(`El total a pagar es: ${this.Total} pesos.`);\r\n        }\r\n    },\r\n    mounted(){\r\n        var productosLocales = JSON.parse(localStorage.getItem('productosCarro'));\r\n        this.modificarCarro(productosLocales);\r\n        this.Total = 0;\r\n        \r\n        this.calculoTotalCarro();\r\n        // this.ProductosCarro.map(function(e){\r\n        //     this.Total += e.precio * e.laCantidad;\r\n        //     // console.log(`Precio: ${e.precio} // Cantidad: ${e.laCantidad} // Total: ${e.precio*e.laCantidad}`);\r\n        // }.bind(this));   \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n .container{\r\n    margin-top: 15px!important;\r\n }\r\n #btnCompra{\r\n     height: 23px!important;\r\n     padding-top: 0px!important;\r\n }\r\npath.text-primary{\r\n    color: #FFC107!important;\r\n}\r\n.total:hover{\r\n    background-color: transparent!important;\r\n}\r\n.noBorder{\r\n    border-style:none!important;\r\n}\r\n</style>"]}]}