{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\icald\\VueJS\\store_app\\src\\editor\\js\\createjs.js","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\editor\\js\\createjs.js","mtime":1604681854814},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mbG9hdDMyLWFycmF5Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uIik7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIkM6L1VzZXJzL2ljYWxkL1Z1ZUpTL3N0b3JlX2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKTsKCi8qIQ0KKiBAbGljZW5zZSBjcmVhdGVqcw0KKiBWaXNpdCBodHRwOi8vY3JlYXRlanMuY29tLyBmb3IgZG9jdW1lbnRhdGlvbiwgdXBkYXRlcyBhbmQgZXhhbXBsZXMuDQoqDQoqIENvcHlyaWdodCAoYykgMjAxMS0yMDE1IGdza2lubmVyLmNvbSwgaW5jLg0KKg0KKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBsaWNlbnNlLg0KKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWwNCioNCiogVGhpcyBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuDQoqLwp0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgY3JlYXRlanMuZXh0ZW5kID0gZnVuY3Rpb24gKGEsIGIpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGMoKSB7CiAgICB0aGlzLmNvbnN0cnVjdG9yID0gYTsKICB9CgogIHJldHVybiBjLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBhLnByb3RvdHlwZSA9IG5ldyBjKCk7Cn0sIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBjcmVhdGVqcy5wcm9tb3RlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBjID0gYS5wcm90b3R5cGUsCiAgICAgIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGMpIHx8IGMuX19wcm90b19fOwoKICBpZiAoZCkgewogICAgY1soYiArPSAiXyIpICsgImNvbnN0cnVjdG9yIl0gPSBkLmNvbnN0cnVjdG9yOwoKICAgIGZvciAodmFyIGUgaW4gZCkgewogICAgICBjLmhhc093blByb3BlcnR5KGUpICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRbZV0gJiYgKGNbYiArIGVdID0gZFtlXSk7CiAgICB9CiAgfQoKICByZXR1cm4gYTsKfSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGNyZWF0ZWpzLmluZGV4T2YgPSBmdW5jdGlvbiAoYSwgYikgewogICJ1c2Ugc3RyaWN0IjsKCiAgZm9yICh2YXIgYyA9IDAsIGQgPSBhLmxlbmd0aDsgZCA+IGM7IGMrKykgewogICAgaWYgKGIgPT09IGFbY10pIHJldHVybiBjOwogIH0KCiAgcmV0dXJuIC0xOwp9LCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRocm93ICJVSUQgY2Fubm90IGJlIGluc3RhbnRpYXRlZCI7CiAgfQoKICBhLl9uZXh0SUQgPSAwLCBhLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBhLl9uZXh0SUQrKzsKICB9LCBjcmVhdGVqcy5VSUQgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBjcmVhdGVqcy5kZXByZWNhdGUgPSBmdW5jdGlvbiAoYSwgYikgewogICJ1c2Ugc3RyaWN0IjsKCiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBjID0gIkRlcHJlY2F0ZWQgcHJvcGVydHkgb3IgbWV0aG9kICciICsgYiArICInLiBTZWUgZG9jcyBmb3IgaW5mby4iOwogICAgcmV0dXJuIGNvbnNvbGUgJiYgKGNvbnNvbGUud2FybiA/IGNvbnNvbGUud2FybihjKSA6IGNvbnNvbGUubG9nKGMpKSwgYSAmJiBhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYiwgYykgewogICAgdGhpcy50eXBlID0gYSwgdGhpcy50YXJnZXQgPSBudWxsLCB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsLCB0aGlzLmV2ZW50UGhhc2UgPSAwLCB0aGlzLmJ1YmJsZXMgPSAhIWIsIHRoaXMuY2FuY2VsYWJsZSA9ICEhYywgdGhpcy50aW1lU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gITEsIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gITEsIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gITEsIHRoaXMucmVtb3ZlZCA9ICExOwogIH0KCiAgdmFyIGIgPSBhLnByb3RvdHlwZTsKICBiLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdGhpcy5jYW5jZWxhYmxlICYmICEwOwogIH0sIGIuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSAhMDsKICB9LCBiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSAhMDsKICB9LCBiLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucmVtb3ZlZCA9ICEwOwogIH0sIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IGEodGhpcy50eXBlLCB0aGlzLmJ1YmJsZXMsIHRoaXMuY2FuY2VsYWJsZSk7CiAgfSwgYi5zZXQgPSBmdW5jdGlvbiAoYSkgewogICAgZm9yICh2YXIgYiBpbiBhKSB7CiAgICAgIHRoaXNbYl0gPSBhW2JdOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltFdmVudCAodHlwZT0iICsgdGhpcy50eXBlICsgIildIjsKICB9LCBjcmVhdGVqcy5FdmVudCA9IGE7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLl9saXN0ZW5lcnMgPSBudWxsLCB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzID0gbnVsbDsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGU7CiAgYS5pbml0aWFsaXplID0gZnVuY3Rpb24gKGEpIHsKICAgIGEuYWRkRXZlbnRMaXN0ZW5lciA9IGIuYWRkRXZlbnRMaXN0ZW5lciwgYS5vbiA9IGIub24sIGEucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGEub2ZmID0gYi5yZW1vdmVFdmVudExpc3RlbmVyLCBhLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzID0gYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycywgYS5oYXNFdmVudExpc3RlbmVyID0gYi5oYXNFdmVudExpc3RlbmVyLCBhLmRpc3BhdGNoRXZlbnQgPSBiLmRpc3BhdGNoRXZlbnQsIGEuX2Rpc3BhdGNoRXZlbnQgPSBiLl9kaXNwYXRjaEV2ZW50LCBhLndpbGxUcmlnZ2VyID0gYi53aWxsVHJpZ2dlcjsKICB9LCBiLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdmFyIGQ7CiAgICBkID0gYyA/IHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMgPSB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzIHx8IHt9IDogdGhpcy5fbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzIHx8IHt9OwogICAgdmFyIGUgPSBkW2FdOwogICAgcmV0dXJuIGUgJiYgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGEsIGIsIGMpLCBlID0gZFthXSwgZSA/IGUucHVzaChiKSA6IGRbYV0gPSBbYl0sIGI7CiAgfSwgYi5vbiA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7CiAgICByZXR1cm4gYi5oYW5kbGVFdmVudCAmJiAoYyA9IGMgfHwgYiwgYiA9IGIuaGFuZGxlRXZlbnQpLCBjID0gYyB8fCB0aGlzLCB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYSwgZnVuY3Rpb24gKGEpIHsKICAgICAgYi5jYWxsKGMsIGEsIGUpLCBkICYmIGEucmVtb3ZlKCk7CiAgICB9LCBmKTsKICB9LCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdmFyIGQgPSBjID8gdGhpcy5fY2FwdHVyZUxpc3RlbmVycyA6IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAoZCkgewogICAgICB2YXIgZSA9IGRbYV07CiAgICAgIGlmIChlKSBmb3IgKHZhciBmID0gMCwgZyA9IGUubGVuZ3RoOyBnID4gZjsgZisrKSB7CiAgICAgICAgaWYgKGVbZl0gPT0gYikgewogICAgICAgICAgMSA9PSBnID8gZGVsZXRlIGRbYV0gOiBlLnNwbGljZShmLCAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIGIub2ZmID0gYi5yZW1vdmVFdmVudExpc3RlbmVyLCBiLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKGEpIHsKICAgIGEgPyAodGhpcy5fbGlzdGVuZXJzICYmIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbYV0sIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMgJiYgZGVsZXRlIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbYV0pIDogdGhpcy5fbGlzdGVuZXJzID0gdGhpcy5fY2FwdHVyZUxpc3RlbmVycyA9IG51bGw7CiAgfSwgYi5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgYSkgewogICAgICB2YXIgZCA9IHRoaXMuX2xpc3RlbmVyczsKICAgICAgaWYgKCEoYiB8fCBkICYmIGRbYV0pKSByZXR1cm4gITA7CiAgICAgIGEgPSBuZXcgY3JlYXRlanMuRXZlbnQoYSwgYiwgYyk7CiAgICB9IGVsc2UgYS50YXJnZXQgJiYgYS5jbG9uZSAmJiAoYSA9IGEuY2xvbmUoKSk7CgogICAgdHJ5IHsKICAgICAgYS50YXJnZXQgPSB0aGlzOwogICAgfSBjYXRjaCAoZSkge30KCiAgICBpZiAoYS5idWJibGVzICYmIHRoaXMucGFyZW50KSB7CiAgICAgIGZvciAodmFyIGYgPSB0aGlzLCBnID0gW2ZdOyBmLnBhcmVudDspIHsKICAgICAgICBnLnB1c2goZiA9IGYucGFyZW50KTsKICAgICAgfQoKICAgICAgdmFyIGgsCiAgICAgICAgICBpID0gZy5sZW5ndGg7CgogICAgICBmb3IgKGggPSBpIC0gMTsgaCA+PSAwICYmICFhLnByb3BhZ2F0aW9uU3RvcHBlZDsgaC0tKSB7CiAgICAgICAgZ1toXS5fZGlzcGF0Y2hFdmVudChhLCAxICsgKDAgPT0gaCkpOwogICAgICB9CgogICAgICBmb3IgKGggPSAxOyBpID4gaCAmJiAhYS5wcm9wYWdhdGlvblN0b3BwZWQ7IGgrKykgewogICAgICAgIGdbaF0uX2Rpc3BhdGNoRXZlbnQoYSwgMyk7CiAgICAgIH0KICAgIH0gZWxzZSB0aGlzLl9kaXNwYXRjaEV2ZW50KGEsIDIpOwoKICAgIHJldHVybiAhYS5kZWZhdWx0UHJldmVudGVkOwogIH0sIGIuaGFzRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMuX2xpc3RlbmVycywKICAgICAgICBjID0gdGhpcy5fY2FwdHVyZUxpc3RlbmVyczsKICAgIHJldHVybiAhIShiICYmIGJbYV0gfHwgYyAmJiBjW2FdKTsKICB9LCBiLndpbGxUcmlnZ2VyID0gZnVuY3Rpb24gKGEpIHsKICAgIGZvciAodmFyIGIgPSB0aGlzOyBiOykgewogICAgICBpZiAoYi5oYXNFdmVudExpc3RlbmVyKGEpKSByZXR1cm4gITA7CiAgICAgIGIgPSBiLnBhcmVudDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0V2ZW50RGlzcGF0Y2hlcl0iOwogIH0sIGIuX2Rpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlID0gMiA+PSBiID8gdGhpcy5fY2FwdHVyZUxpc3RlbmVycyA6IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAoYSAmJiBlICYmIChkID0gZVthLnR5cGVdKSAmJiAoYyA9IGQubGVuZ3RoKSkgewogICAgICB0cnkgewogICAgICAgIGEuY3VycmVudFRhcmdldCA9IHRoaXM7CiAgICAgIH0gY2F0Y2ggKGYpIHt9CgogICAgICB0cnkgewogICAgICAgIGEuZXZlbnRQaGFzZSA9IDAgfCBiOwogICAgICB9IGNhdGNoIChmKSB7fQoKICAgICAgYS5yZW1vdmVkID0gITEsIGQgPSBkLnNsaWNlKCk7CgogICAgICBmb3IgKHZhciBnID0gMDsgYyA+IGcgJiYgIWEuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOyBnKyspIHsKICAgICAgICB2YXIgaCA9IGRbZ107CiAgICAgICAgaC5oYW5kbGVFdmVudCA/IGguaGFuZGxlRXZlbnQoYSkgOiBoKGEpLCBhLnJlbW92ZWQgJiYgKHRoaXMub2ZmKGEudHlwZSwgaCwgMSA9PSBiKSwgYS5yZW1vdmVkID0gITEpOwogICAgICB9CiAgICB9CgogICAgMiA9PT0gYiAmJiB0aGlzLl9kaXNwYXRjaEV2ZW50KGEsIDIuMSk7CiAgfSwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRocm93ICJUaWNrZXIgY2Fubm90IGJlIGluc3RhbnRpYXRlZC4iOwogIH0KCiAgYS5SQUZfU1lOQ0hFRCA9ICJzeW5jaGVkIiwgYS5SQUYgPSAicmFmIiwgYS5USU1FT1VUID0gInRpbWVvdXQiLCBhLnRpbWluZ01vZGUgPSBudWxsLCBhLm1heERlbHRhID0gMCwgYS5wYXVzZWQgPSAhMSwgYS5yZW1vdmVFdmVudExpc3RlbmVyID0gbnVsbCwgYS5yZW1vdmVBbGxFdmVudExpc3RlbmVycyA9IG51bGwsIGEuZGlzcGF0Y2hFdmVudCA9IG51bGwsIGEuaGFzRXZlbnRMaXN0ZW5lciA9IG51bGwsIGEuX2xpc3RlbmVycyA9IG51bGwsIGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKGEpLCBhLl9hZGRFdmVudExpc3RlbmVyID0gYS5hZGRFdmVudExpc3RlbmVyLCBhLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIWEuX2luaXRlZCAmJiBhLmluaXQoKSwgYS5fYWRkRXZlbnRMaXN0ZW5lci5hcHBseShhLCBhcmd1bWVudHMpOwogIH0sIGEuX2luaXRlZCA9ICExLCBhLl9zdGFydFRpbWUgPSAwLCBhLl9wYXVzZWRUaW1lID0gMCwgYS5fdGlja3MgPSAwLCBhLl9wYXVzZWRUaWNrcyA9IDAsIGEuX2ludGVydmFsID0gNTAsIGEuX2xhc3RUaW1lID0gMCwgYS5fdGltZXMgPSBudWxsLCBhLl90aWNrVGltZXMgPSBudWxsLCBhLl90aW1lcklkID0gbnVsbCwgYS5fcmFmID0gITAsIGEuX3NldEludGVydmFsID0gZnVuY3Rpb24gKGIpIHsKICAgIGEuX2ludGVydmFsID0gYiwgYS5faW5pdGVkICYmIGEuX3NldHVwVGljaygpOwogIH0sIGEuc2V0SW50ZXJ2YWwgPSBjcmVhdGVqcy5kZXByZWNhdGUoYS5fc2V0SW50ZXJ2YWwsICJUaWNrZXIuc2V0SW50ZXJ2YWwiKSwgYS5fZ2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYS5faW50ZXJ2YWw7CiAgfSwgYS5nZXRJbnRlcnZhbCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShhLl9nZXRJbnRlcnZhbCwgIlRpY2tlci5nZXRJbnRlcnZhbCIpLCBhLl9zZXRGUFMgPSBmdW5jdGlvbiAoYikgewogICAgYS5fc2V0SW50ZXJ2YWwoMWUzIC8gYik7CiAgfSwgYS5zZXRGUFMgPSBjcmVhdGVqcy5kZXByZWNhdGUoYS5fc2V0RlBTLCAiVGlja2VyLnNldEZQUyIpLCBhLl9nZXRGUFMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gMWUzIC8gYS5faW50ZXJ2YWw7CiAgfSwgYS5nZXRGUFMgPSBjcmVhdGVqcy5kZXByZWNhdGUoYS5fZ2V0RlBTLCAiVGlja2VyLmdldEZQUyIpOwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYSwgewogICAgICBpbnRlcnZhbDogewogICAgICAgIGdldDogYS5fZ2V0SW50ZXJ2YWwsCiAgICAgICAgc2V0OiBhLl9zZXRJbnRlcnZhbAogICAgICB9LAogICAgICBmcmFtZXJhdGU6IHsKICAgICAgICBnZXQ6IGEuX2dldEZQUywKICAgICAgICBzZXQ6IGEuX3NldEZQUwogICAgICB9CiAgICB9KTsKICB9IGNhdGNoIChiKSB7CiAgICBjb25zb2xlLmxvZyhiKTsKICB9CgogIGEuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIGEuX2luaXRlZCB8fCAoYS5faW5pdGVkID0gITAsIGEuX3RpbWVzID0gW10sIGEuX3RpY2tUaW1lcyA9IFtdLCBhLl9zdGFydFRpbWUgPSBhLl9nZXRUaW1lKCksIGEuX3RpbWVzLnB1c2goYS5fbGFzdFRpbWUgPSAwKSwgYS5pbnRlcnZhbCA9IGEuX2ludGVydmFsKTsKICB9LCBhLnJlc2V0ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKGEuX3JhZikgewogICAgICB2YXIgYiA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7CiAgICAgIGIgJiYgYihhLl90aW1lcklkKTsKICAgIH0gZWxzZSBjbGVhclRpbWVvdXQoYS5fdGltZXJJZCk7CgogICAgYS5yZW1vdmVBbGxFdmVudExpc3RlbmVycygidGljayIpLCBhLl90aW1lcklkID0gYS5fdGltZXMgPSBhLl90aWNrVGltZXMgPSBudWxsLCBhLl9zdGFydFRpbWUgPSBhLl9sYXN0VGltZSA9IGEuX3RpY2tzID0gYS5fcGF1c2VkVGltZSA9IDAsIGEuX2luaXRlZCA9ICExOwogIH0sIGEuZ2V0TWVhc3VyZWRUaWNrVGltZSA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IDAsCiAgICAgICAgZCA9IGEuX3RpY2tUaW1lczsKICAgIGlmICghZCB8fCBkLmxlbmd0aCA8IDEpIHJldHVybiAtMTsKICAgIGIgPSBNYXRoLm1pbihkLmxlbmd0aCwgYiB8fCAwIHwgYS5fZ2V0RlBTKCkpOwoKICAgIGZvciAodmFyIGUgPSAwOyBiID4gZTsgZSsrKSB7CiAgICAgIGMgKz0gZFtlXTsKICAgIH0KCiAgICByZXR1cm4gYyAvIGI7CiAgfSwgYS5nZXRNZWFzdXJlZEZQUyA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IGEuX3RpbWVzOwogICAgcmV0dXJuICFjIHx8IGMubGVuZ3RoIDwgMiA/IC0xIDogKGIgPSBNYXRoLm1pbihjLmxlbmd0aCAtIDEsIGIgfHwgMCB8IGEuX2dldEZQUygpKSwgMWUzIC8gKChjWzBdIC0gY1tiXSkgLyBiKSk7CiAgfSwgYS5nZXRUaW1lID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBhLl9zdGFydFRpbWUgPyBhLl9nZXRUaW1lKCkgLSAoYiA/IGEuX3BhdXNlZFRpbWUgOiAwKSA6IC0xOwogIH0sIGEuZ2V0RXZlbnRUaW1lID0gZnVuY3Rpb24gKGIpIHsKICAgIHJldHVybiBhLl9zdGFydFRpbWUgPyAoYS5fbGFzdFRpbWUgfHwgYS5fc3RhcnRUaW1lKSAtIChiID8gYS5fcGF1c2VkVGltZSA6IDApIDogLTE7CiAgfSwgYS5nZXRUaWNrcyA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gYS5fdGlja3MgLSAoYiA/IGEuX3BhdXNlZFRpY2tzIDogMCk7CiAgfSwgYS5faGFuZGxlU3luY2ggPSBmdW5jdGlvbiAoKSB7CiAgICBhLl90aW1lcklkID0gbnVsbCwgYS5fc2V0dXBUaWNrKCksIGEuX2dldFRpbWUoKSAtIGEuX2xhc3RUaW1lID49IC45NyAqIChhLl9pbnRlcnZhbCAtIDEpICYmIGEuX3RpY2soKTsKICB9LCBhLl9oYW5kbGVSQUYgPSBmdW5jdGlvbiAoKSB7CiAgICBhLl90aW1lcklkID0gbnVsbCwgYS5fc2V0dXBUaWNrKCksIGEuX3RpY2soKTsKICB9LCBhLl9oYW5kbGVUaW1lb3V0ID0gZnVuY3Rpb24gKCkgewogICAgYS5fdGltZXJJZCA9IG51bGwsIGEuX3NldHVwVGljaygpLCBhLl90aWNrKCk7CiAgfSwgYS5fc2V0dXBUaWNrID0gZnVuY3Rpb24gKCkgewogICAgaWYgKG51bGwgPT0gYS5fdGltZXJJZCkgewogICAgICB2YXIgYiA9IGEudGltaW5nTW9kZTsKCiAgICAgIGlmIChiID09IGEuUkFGX1NZTkNIRUQgfHwgYiA9PSBhLlJBRikgewogICAgICAgIHZhciBjID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lOwogICAgICAgIGlmIChjKSByZXR1cm4gYS5fdGltZXJJZCA9IGMoYiA9PSBhLlJBRiA/IGEuX2hhbmRsZVJBRiA6IGEuX2hhbmRsZVN5bmNoKSwgdm9pZCAoYS5fcmFmID0gITApOwogICAgICB9CgogICAgICBhLl9yYWYgPSAhMSwgYS5fdGltZXJJZCA9IHNldFRpbWVvdXQoYS5faGFuZGxlVGltZW91dCwgYS5faW50ZXJ2YWwpOwogICAgfQogIH0sIGEuX3RpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYiA9IGEucGF1c2VkLAogICAgICAgIGMgPSBhLl9nZXRUaW1lKCksCiAgICAgICAgZCA9IGMgLSBhLl9sYXN0VGltZTsKCiAgICBpZiAoYS5fbGFzdFRpbWUgPSBjLCBhLl90aWNrcysrLCBiICYmIChhLl9wYXVzZWRUaWNrcysrLCBhLl9wYXVzZWRUaW1lICs9IGQpLCBhLmhhc0V2ZW50TGlzdGVuZXIoInRpY2siKSkgewogICAgICB2YXIgZSA9IG5ldyBjcmVhdGVqcy5FdmVudCgidGljayIpLAogICAgICAgICAgZiA9IGEubWF4RGVsdGE7CiAgICAgIGUuZGVsdGEgPSBmICYmIGQgPiBmID8gZiA6IGQsIGUucGF1c2VkID0gYiwgZS50aW1lID0gYywgZS5ydW5UaW1lID0gYyAtIGEuX3BhdXNlZFRpbWUsIGEuZGlzcGF0Y2hFdmVudChlKTsKICAgIH0KCiAgICBmb3IgKGEuX3RpY2tUaW1lcy51bnNoaWZ0KGEuX2dldFRpbWUoKSAtIGMpOyBhLl90aWNrVGltZXMubGVuZ3RoID4gMTAwOykgewogICAgICBhLl90aWNrVGltZXMucG9wKCk7CiAgICB9CgogICAgZm9yIChhLl90aW1lcy51bnNoaWZ0KGMpOyBhLl90aW1lcy5sZW5ndGggPiAxMDA7KSB7CiAgICAgIGEuX3RpbWVzLnBvcCgpOwogICAgfQogIH07CiAgdmFyIGMgPSB3aW5kb3csCiAgICAgIGQgPSBjLnBlcmZvcm1hbmNlLm5vdyB8fCBjLnBlcmZvcm1hbmNlLm1vek5vdyB8fCBjLnBlcmZvcm1hbmNlLm1zTm93IHx8IGMucGVyZm9ybWFuY2Uub05vdyB8fCBjLnBlcmZvcm1hbmNlLndlYmtpdE5vdzsKICBhLl9nZXRUaW1lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIChkICYmIGQuY2FsbChjLnBlcmZvcm1hbmNlKSB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSkgLSBhLl9zdGFydFRpbWU7CiAgfSwgY3JlYXRlanMuVGlja2VyID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhKSB7CiAgICB0aGlzLnJlYWR5U3RhdGUgPSBhLnJlYWR5U3RhdGUsIHRoaXMuX3ZpZGVvID0gYSwgdGhpcy5fY2FudmFzID0gbnVsbCwgdGhpcy5fbGFzdFRpbWUgPSAtMSwgdGhpcy5yZWFkeVN0YXRlIDwgMiAmJiBhLmFkZEV2ZW50TGlzdGVuZXIoImNhbnBsYXl0aHJvdWdoIiwgdGhpcy5fdmlkZW9SZWFkeS5iaW5kKHRoaXMpKTsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGU7CiAgYi5nZXRJbWFnZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghKHRoaXMucmVhZHlTdGF0ZSA8IDIpKSB7CiAgICAgIHZhciBhID0gdGhpcy5fY2FudmFzLAogICAgICAgICAgYiA9IHRoaXMuX3ZpZGVvOwoKICAgICAgaWYgKGEgfHwgKGEgPSB0aGlzLl9jYW52YXMgPSBjcmVhdGVqcy5jcmVhdGVDYW52YXMgPyBjcmVhdGVqcy5jcmVhdGVDYW52YXMoKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLCBhLndpZHRoID0gYi52aWRlb1dpZHRoLCBhLmhlaWdodCA9IGIudmlkZW9IZWlnaHQpLCBiLnJlYWR5U3RhdGUgPj0gMiAmJiBiLmN1cnJlbnRUaW1lICE9PSB0aGlzLl9sYXN0VGltZSkgewogICAgICAgIHZhciBjID0gYS5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgIGMuY2xlYXJSZWN0KDAsIDAsIGEud2lkdGgsIGEuaGVpZ2h0KSwgYy5kcmF3SW1hZ2UoYiwgMCwgMCwgYS53aWR0aCwgYS5oZWlnaHQpLCB0aGlzLl9sYXN0VGltZSA9IGIuY3VycmVudFRpbWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBhOwogICAgfQogIH0sIGIuX3ZpZGVvUmVhZHkgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnJlYWR5U3RhdGUgPSAyOwogIH0sIGNyZWF0ZWpzLlZpZGVvQnVmZmVyID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiLCBjLCBkLCBlLCBmLCBnLCBoLCBpLCBqLCBrKSB7CiAgICB0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKGEsIGIsIGMpLCB0aGlzLnN0YWdlWCA9IGQsIHRoaXMuc3RhZ2VZID0gZSwgdGhpcy5yYXdYID0gbnVsbCA9PSBpID8gZCA6IGksIHRoaXMucmF3WSA9IG51bGwgPT0gaiA/IGUgOiBqLCB0aGlzLm5hdGl2ZUV2ZW50ID0gZiwgdGhpcy5wb2ludGVySUQgPSBnLCB0aGlzLnByaW1hcnkgPSAhIWgsIHRoaXMucmVsYXRlZFRhcmdldCA9IGs7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5FdmVudCk7CiAgYi5fZ2V0X2xvY2FsWCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmN1cnJlbnRUYXJnZXQuZ2xvYmFsVG9Mb2NhbCh0aGlzLnJhd1gsIHRoaXMucmF3WSkueDsKICB9LCBiLl9nZXRfbG9jYWxZID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY3VycmVudFRhcmdldC5nbG9iYWxUb0xvY2FsKHRoaXMucmF3WCwgdGhpcy5yYXdZKS55OwogIH0sIGIuX2dldF9pc1RvdWNoID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIC0xICE9PSB0aGlzLnBvaW50ZXJJRDsKICB9OwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYiwgewogICAgICBsb2NhbFg6IHsKICAgICAgICBnZXQ6IGIuX2dldF9sb2NhbFgKICAgICAgfSwKICAgICAgbG9jYWxZOiB7CiAgICAgICAgZ2V0OiBiLl9nZXRfbG9jYWxZCiAgICAgIH0sCiAgICAgIGlzVG91Y2g6IHsKICAgICAgICBnZXQ6IGIuX2dldF9pc1RvdWNoCiAgICAgIH0KICAgIH0pOwogIH0gY2F0Y2ggKGMpIHt9CgogIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IGEodGhpcy50eXBlLCB0aGlzLmJ1YmJsZXMsIHRoaXMuY2FuY2VsYWJsZSwgdGhpcy5zdGFnZVgsIHRoaXMuc3RhZ2VZLCB0aGlzLm5hdGl2ZUV2ZW50LCB0aGlzLnBvaW50ZXJJRCwgdGhpcy5wcmltYXJ5LCB0aGlzLnJhd1gsIHRoaXMucmF3WSk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW01vdXNlRXZlbnQgKHR5cGU9IiArIHRoaXMudHlwZSArICIgc3RhZ2VYPSIgKyB0aGlzLnN0YWdlWCArICIgc3RhZ2VZPSIgKyB0aGlzLnN0YWdlWSArICIpXSI7CiAgfSwgY3JlYXRlanMuTW91c2VFdmVudCA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkV2ZW50Iik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYiwgYywgZCwgZSwgZikgewogICAgdGhpcy5zZXRWYWx1ZXMoYSwgYiwgYywgZCwgZSwgZik7CiAgfQoKICB2YXIgYiA9IGEucHJvdG90eXBlOwogIGEuREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODAsIGEuaWRlbnRpdHkgPSBudWxsLCBiLnNldFZhbHVlcyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7CiAgICByZXR1cm4gdGhpcy5hID0gbnVsbCA9PSBhID8gMSA6IGEsIHRoaXMuYiA9IGIgfHwgMCwgdGhpcy5jID0gYyB8fCAwLCB0aGlzLmQgPSBudWxsID09IGQgPyAxIDogZCwgdGhpcy50eCA9IGUgfHwgMCwgdGhpcy50eSA9IGYgfHwgMCwgdGhpczsKICB9LCBiLmFwcGVuZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7CiAgICB2YXIgZyA9IHRoaXMuYSwKICAgICAgICBoID0gdGhpcy5iLAogICAgICAgIGkgPSB0aGlzLmMsCiAgICAgICAgaiA9IHRoaXMuZDsKICAgIHJldHVybiAoMSAhPSBhIHx8IDAgIT0gYiB8fCAwICE9IGMgfHwgMSAhPSBkKSAmJiAodGhpcy5hID0gZyAqIGEgKyBpICogYiwgdGhpcy5iID0gaCAqIGEgKyBqICogYiwgdGhpcy5jID0gZyAqIGMgKyBpICogZCwgdGhpcy5kID0gaCAqIGMgKyBqICogZCksIHRoaXMudHggPSBnICogZSArIGkgKiBmICsgdGhpcy50eCwgdGhpcy50eSA9IGggKiBlICsgaiAqIGYgKyB0aGlzLnR5LCB0aGlzOwogIH0sIGIucHJlcGVuZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmKSB7CiAgICB2YXIgZyA9IHRoaXMuYSwKICAgICAgICBoID0gdGhpcy5jLAogICAgICAgIGkgPSB0aGlzLnR4OwogICAgcmV0dXJuIHRoaXMuYSA9IGEgKiBnICsgYyAqIHRoaXMuYiwgdGhpcy5iID0gYiAqIGcgKyBkICogdGhpcy5iLCB0aGlzLmMgPSBhICogaCArIGMgKiB0aGlzLmQsIHRoaXMuZCA9IGIgKiBoICsgZCAqIHRoaXMuZCwgdGhpcy50eCA9IGEgKiBpICsgYyAqIHRoaXMudHkgKyBlLCB0aGlzLnR5ID0gYiAqIGkgKyBkICogdGhpcy50eSArIGYsIHRoaXM7CiAgfSwgYi5hcHBlbmRNYXRyaXggPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuYXBwZW5kKGEuYSwgYS5iLCBhLmMsIGEuZCwgYS50eCwgYS50eSk7CiAgfSwgYi5wcmVwZW5kTWF0cml4ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLnByZXBlbmQoYS5hLCBhLmIsIGEuYywgYS5kLCBhLnR4LCBhLnR5KTsKICB9LCBiLmFwcGVuZFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChiLCBjLCBkLCBlLCBmLCBnLCBoLCBpLCBqKSB7CiAgICBpZiAoZiAlIDM2MCkgdmFyIGsgPSBmICogYS5ERUdfVE9fUkFELAogICAgICAgIGwgPSBNYXRoLmNvcyhrKSwKICAgICAgICBtID0gTWF0aC5zaW4oayk7ZWxzZSBsID0gMSwgbSA9IDA7CiAgICByZXR1cm4gZyB8fCBoID8gKGcgKj0gYS5ERUdfVE9fUkFELCBoICo9IGEuREVHX1RPX1JBRCwgdGhpcy5hcHBlbmQoTWF0aC5jb3MoaCksIE1hdGguc2luKGgpLCAtTWF0aC5zaW4oZyksIE1hdGguY29zKGcpLCBiLCBjKSwgdGhpcy5hcHBlbmQobCAqIGQsIG0gKiBkLCAtbSAqIGUsIGwgKiBlLCAwLCAwKSkgOiB0aGlzLmFwcGVuZChsICogZCwgbSAqIGQsIC1tICogZSwgbCAqIGUsIGIsIGMpLCAoaSB8fCBqKSAmJiAodGhpcy50eCAtPSBpICogdGhpcy5hICsgaiAqIHRoaXMuYywgdGhpcy50eSAtPSBpICogdGhpcy5iICsgaiAqIHRoaXMuZCksIHRoaXM7CiAgfSwgYi5wcmVwZW5kVHJhbnNmb3JtID0gZnVuY3Rpb24gKGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGopIHsKICAgIGlmIChmICUgMzYwKSB2YXIgayA9IGYgKiBhLkRFR19UT19SQUQsCiAgICAgICAgbCA9IE1hdGguY29zKGspLAogICAgICAgIG0gPSBNYXRoLnNpbihrKTtlbHNlIGwgPSAxLCBtID0gMDsKICAgIHJldHVybiAoaSB8fCBqKSAmJiAodGhpcy50eCAtPSBpLCB0aGlzLnR5IC09IGopLCBnIHx8IGggPyAoZyAqPSBhLkRFR19UT19SQUQsIGggKj0gYS5ERUdfVE9fUkFELCB0aGlzLnByZXBlbmQobCAqIGQsIG0gKiBkLCAtbSAqIGUsIGwgKiBlLCAwLCAwKSwgdGhpcy5wcmVwZW5kKE1hdGguY29zKGgpLCBNYXRoLnNpbihoKSwgLU1hdGguc2luKGcpLCBNYXRoLmNvcyhnKSwgYiwgYykpIDogdGhpcy5wcmVwZW5kKGwgKiBkLCBtICogZCwgLW0gKiBlLCBsICogZSwgYiwgYyksIHRoaXM7CiAgfSwgYi5yb3RhdGUgPSBmdW5jdGlvbiAoYikgewogICAgYiAqPSBhLkRFR19UT19SQUQ7CiAgICB2YXIgYyA9IE1hdGguY29zKGIpLAogICAgICAgIGQgPSBNYXRoLnNpbihiKSwKICAgICAgICBlID0gdGhpcy5hLAogICAgICAgIGYgPSB0aGlzLmI7CiAgICByZXR1cm4gdGhpcy5hID0gZSAqIGMgKyB0aGlzLmMgKiBkLCB0aGlzLmIgPSBmICogYyArIHRoaXMuZCAqIGQsIHRoaXMuYyA9IC1lICogZCArIHRoaXMuYyAqIGMsIHRoaXMuZCA9IC1mICogZCArIHRoaXMuZCAqIGMsIHRoaXM7CiAgfSwgYi5za2V3ID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIHJldHVybiBiICo9IGEuREVHX1RPX1JBRCwgYyAqPSBhLkRFR19UT19SQUQsIHRoaXMuYXBwZW5kKE1hdGguY29zKGMpLCBNYXRoLnNpbihjKSwgLU1hdGguc2luKGIpLCBNYXRoLmNvcyhiKSwgMCwgMCksIHRoaXM7CiAgfSwgYi5zY2FsZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gdGhpcy5hICo9IGEsIHRoaXMuYiAqPSBhLCB0aGlzLmMgKj0gYiwgdGhpcy5kICo9IGIsIHRoaXM7CiAgfSwgYi50cmFuc2xhdGUgPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIHRoaXMudHggKz0gdGhpcy5hICogYSArIHRoaXMuYyAqIGIsIHRoaXMudHkgKz0gdGhpcy5iICogYSArIHRoaXMuZCAqIGIsIHRoaXM7CiAgfSwgYi5pZGVudGl0eSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmEgPSB0aGlzLmQgPSAxLCB0aGlzLmIgPSB0aGlzLmMgPSB0aGlzLnR4ID0gdGhpcy50eSA9IDAsIHRoaXM7CiAgfSwgYi5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuYSwKICAgICAgICBiID0gdGhpcy5iLAogICAgICAgIGMgPSB0aGlzLmMsCiAgICAgICAgZCA9IHRoaXMuZCwKICAgICAgICBlID0gdGhpcy50eCwKICAgICAgICBmID0gYSAqIGQgLSBiICogYzsKICAgIHJldHVybiB0aGlzLmEgPSBkIC8gZiwgdGhpcy5iID0gLWIgLyBmLCB0aGlzLmMgPSAtYyAvIGYsIHRoaXMuZCA9IGEgLyBmLCB0aGlzLnR4ID0gKGMgKiB0aGlzLnR5IC0gZCAqIGUpIC8gZiwgdGhpcy50eSA9IC0oYSAqIHRoaXMudHkgLSBiICogZSkgLyBmLCB0aGlzOwogIH0sIGIuaXNJZGVudGl0eSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAwID09PSB0aGlzLnR4ICYmIDAgPT09IHRoaXMudHkgJiYgMSA9PT0gdGhpcy5hICYmIDAgPT09IHRoaXMuYiAmJiAwID09PSB0aGlzLmMgJiYgMSA9PT0gdGhpcy5kOwogIH0sIGIuZXF1YWxzID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLnR4ID09PSBhLnR4ICYmIHRoaXMudHkgPT09IGEudHkgJiYgdGhpcy5hID09PSBhLmEgJiYgdGhpcy5iID09PSBhLmIgJiYgdGhpcy5jID09PSBhLmMgJiYgdGhpcy5kID09PSBhLmQ7CiAgfSwgYi50cmFuc2Zvcm1Qb2ludCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICByZXR1cm4gYyA9IGMgfHwge30sIGMueCA9IGEgKiB0aGlzLmEgKyBiICogdGhpcy5jICsgdGhpcy50eCwgYy55ID0gYSAqIHRoaXMuYiArIGIgKiB0aGlzLmQgKyB0aGlzLnR5LCBjOwogIH0sIGIuZGVjb21wb3NlID0gZnVuY3Rpb24gKGIpIHsKICAgIG51bGwgPT0gYiAmJiAoYiA9IHt9KSwgYi54ID0gdGhpcy50eCwgYi55ID0gdGhpcy50eSwgYi5zY2FsZVggPSBNYXRoLnNxcnQodGhpcy5hICogdGhpcy5hICsgdGhpcy5iICogdGhpcy5iKSwgYi5zY2FsZVkgPSBNYXRoLnNxcnQodGhpcy5jICogdGhpcy5jICsgdGhpcy5kICogdGhpcy5kKTsKICAgIHZhciBjID0gTWF0aC5hdGFuMigtdGhpcy5jLCB0aGlzLmQpLAogICAgICAgIGQgPSBNYXRoLmF0YW4yKHRoaXMuYiwgdGhpcy5hKSwKICAgICAgICBlID0gTWF0aC5hYnMoMSAtIGMgLyBkKTsKICAgIHJldHVybiAxZS01ID4gZSA/IChiLnJvdGF0aW9uID0gZCAvIGEuREVHX1RPX1JBRCwgdGhpcy5hIDwgMCAmJiB0aGlzLmQgPj0gMCAmJiAoYi5yb3RhdGlvbiArPSBiLnJvdGF0aW9uIDw9IDAgPyAxODAgOiAtMTgwKSwgYi5za2V3WCA9IGIuc2tld1kgPSAwKSA6IChiLnNrZXdYID0gYyAvIGEuREVHX1RPX1JBRCwgYi5za2V3WSA9IGQgLyBhLkRFR19UT19SQUQpLCBiOwogIH0sIGIuY29weSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5zZXRWYWx1ZXMoYS5hLCBhLmIsIGEuYywgYS5kLCBhLnR4LCBhLnR5KTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBhKHRoaXMuYSwgdGhpcy5iLCB0aGlzLmMsIHRoaXMuZCwgdGhpcy50eCwgdGhpcy50eSk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW01hdHJpeDJEIChhPSIgKyB0aGlzLmEgKyAiIGI9IiArIHRoaXMuYiArICIgYz0iICsgdGhpcy5jICsgIiBkPSIgKyB0aGlzLmQgKyAiIHR4PSIgKyB0aGlzLnR4ICsgIiB0eT0iICsgdGhpcy50eSArICIpXSI7CiAgfSwgYS5pZGVudGl0eSA9IG5ldyBhKCksIGNyZWF0ZWpzLk1hdHJpeDJEID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiLCBjLCBkLCBlKSB7CiAgICB0aGlzLnNldFZhbHVlcyhhLCBiLCBjLCBkLCBlKTsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGU7CiAgYi5zZXRWYWx1ZXMgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkgewogICAgcmV0dXJuIHRoaXMudmlzaWJsZSA9IG51bGwgPT0gYSA/ICEwIDogISFhLCB0aGlzLmFscGhhID0gbnVsbCA9PSBiID8gMSA6IGIsIHRoaXMuc2hhZG93ID0gYywgdGhpcy5jb21wb3NpdGVPcGVyYXRpb24gPSBkLCB0aGlzLm1hdHJpeCA9IGUgfHwgdGhpcy5tYXRyaXggJiYgdGhpcy5tYXRyaXguaWRlbnRpdHkoKSB8fCBuZXcgY3JlYXRlanMuTWF0cml4MkQoKSwgdGhpczsKICB9LCBiLmFwcGVuZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7CiAgICByZXR1cm4gdGhpcy5hbHBoYSAqPSBiLCB0aGlzLnNoYWRvdyA9IGMgfHwgdGhpcy5zaGFkb3csIHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uID0gZCB8fCB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbiwgdGhpcy52aXNpYmxlID0gdGhpcy52aXNpYmxlICYmIGEsIGUgJiYgdGhpcy5tYXRyaXguYXBwZW5kTWF0cml4KGUpLCB0aGlzOwogIH0sIGIucHJlcGVuZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7CiAgICByZXR1cm4gdGhpcy5hbHBoYSAqPSBiLCB0aGlzLnNoYWRvdyA9IHRoaXMuc2hhZG93IHx8IGMsIHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5jb21wb3NpdGVPcGVyYXRpb24gfHwgZCwgdGhpcy52aXNpYmxlID0gdGhpcy52aXNpYmxlICYmIGEsIGUgJiYgdGhpcy5tYXRyaXgucHJlcGVuZE1hdHJpeChlKSwgdGhpczsKICB9LCBiLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudmlzaWJsZSA9ICEwLCB0aGlzLmFscGhhID0gMSwgdGhpcy5zaGFkb3cgPSB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbiA9IG51bGwsIHRoaXMubWF0cml4LmlkZW50aXR5KCksIHRoaXM7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgYSh0aGlzLmFscGhhLCB0aGlzLnNoYWRvdywgdGhpcy5jb21wb3NpdGVPcGVyYXRpb24sIHRoaXMudmlzaWJsZSwgdGhpcy5tYXRyaXguY2xvbmUoKSk7CiAgfSwgY3JlYXRlanMuRGlzcGxheVByb3BzID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiKSB7CiAgICB0aGlzLnNldFZhbHVlcyhhLCBiKTsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGU7CiAgYi5zZXRWYWx1ZXMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIHRoaXMueCA9IGEgfHwgMCwgdGhpcy55ID0gYiB8fCAwLCB0aGlzOwogIH0sIGIuY29weSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy54ID0gYS54LCB0aGlzLnkgPSBhLnksIHRoaXM7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgYSh0aGlzLngsIHRoaXMueSk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1BvaW50ICh4PSIgKyB0aGlzLnggKyAiIHk9IiArIHRoaXMueSArICIpXSI7CiAgfSwgY3JlYXRlanMuUG9pbnQgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMsIGQpIHsKICAgIHRoaXMuc2V0VmFsdWVzKGEsIGIsIGMsIGQpOwogIH0KCiAgdmFyIGIgPSBhLnByb3RvdHlwZTsKICBiLnNldFZhbHVlcyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gdGhpcy54ID0gYSB8fCAwLCB0aGlzLnkgPSBiIHx8IDAsIHRoaXMud2lkdGggPSBjIHx8IDAsIHRoaXMuaGVpZ2h0ID0gZCB8fCAwLCB0aGlzOwogIH0sIGIuZXh0ZW5kID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIHJldHVybiBjID0gYyB8fCAwLCBkID0gZCB8fCAwLCBhICsgYyA+IHRoaXMueCArIHRoaXMud2lkdGggJiYgKHRoaXMud2lkdGggPSBhICsgYyAtIHRoaXMueCksIGIgKyBkID4gdGhpcy55ICsgdGhpcy5oZWlnaHQgJiYgKHRoaXMuaGVpZ2h0ID0gYiArIGQgLSB0aGlzLnkpLCBhIDwgdGhpcy54ICYmICh0aGlzLndpZHRoICs9IHRoaXMueCAtIGEsIHRoaXMueCA9IGEpLCBiIDwgdGhpcy55ICYmICh0aGlzLmhlaWdodCArPSB0aGlzLnkgLSBiLCB0aGlzLnkgPSBiKSwgdGhpczsKICB9LCBiLnBhZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gdGhpcy54IC09IGIsIHRoaXMueSAtPSBhLCB0aGlzLndpZHRoICs9IGIgKyBkLCB0aGlzLmhlaWdodCArPSBhICsgYywgdGhpczsKICB9LCBiLmNvcHkgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuc2V0VmFsdWVzKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCk7CiAgfSwgYi5jb250YWlucyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gYyA9IGMgfHwgMCwgZCA9IGQgfHwgMCwgYSA+PSB0aGlzLnggJiYgYSArIGMgPD0gdGhpcy54ICsgdGhpcy53aWR0aCAmJiBiID49IHRoaXMueSAmJiBiICsgZCA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodDsKICB9LCBiLnVuaW9uID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkuZXh0ZW5kKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCk7CiAgfSwgYi5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBiLngsCiAgICAgICAgZCA9IGIueSwKICAgICAgICBlID0gYyArIGIud2lkdGgsCiAgICAgICAgZiA9IGQgKyBiLmhlaWdodDsKICAgIHJldHVybiB0aGlzLnggPiBjICYmIChjID0gdGhpcy54KSwgdGhpcy55ID4gZCAmJiAoZCA9IHRoaXMueSksIHRoaXMueCArIHRoaXMud2lkdGggPCBlICYmIChlID0gdGhpcy54ICsgdGhpcy53aWR0aCksIHRoaXMueSArIHRoaXMuaGVpZ2h0IDwgZiAmJiAoZiA9IHRoaXMueSArIHRoaXMuaGVpZ2h0KSwgYyA+PSBlIHx8IGQgPj0gZiA/IG51bGwgOiBuZXcgYShjLCBkLCBlIC0gYywgZiAtIGQpOwogIH0sIGIuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS54IDw9IHRoaXMueCArIHRoaXMud2lkdGggJiYgdGhpcy54IDw9IGEueCArIGEud2lkdGggJiYgYS55IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0ICYmIHRoaXMueSA8PSBhLnkgKyBhLmhlaWdodDsKICB9LCBiLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDA7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgYSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltSZWN0YW5nbGUgKHg9IiArIHRoaXMueCArICIgeT0iICsgdGhpcy55ICsgIiB3aWR0aD0iICsgdGhpcy53aWR0aCArICIgaGVpZ2h0PSIgKyB0aGlzLmhlaWdodCArICIpXSI7CiAgfSwgY3JlYXRlanMuUmVjdGFuZ2xlID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiLCBjLCBkLCBlLCBmLCBnKSB7CiAgICBhLmFkZEV2ZW50TGlzdGVuZXIgJiYgKHRoaXMudGFyZ2V0ID0gYSwgdGhpcy5vdmVyTGFiZWwgPSBudWxsID09IGMgPyAib3ZlciIgOiBjLCB0aGlzLm91dExhYmVsID0gbnVsbCA9PSBiID8gIm91dCIgOiBiLCB0aGlzLmRvd25MYWJlbCA9IG51bGwgPT0gZCA/ICJkb3duIiA6IGQsIHRoaXMucGxheSA9IGUsIHRoaXMuX2lzUHJlc3NlZCA9ICExLCB0aGlzLl9pc092ZXIgPSAhMSwgdGhpcy5fZW5hYmxlZCA9ICExLCBhLm1vdXNlQ2hpbGRyZW4gPSAhMSwgdGhpcy5lbmFibGVkID0gITAsIHRoaXMuaGFuZGxlRXZlbnQoe30pLCBmICYmIChnICYmIChmLmFjdGlvbnNFbmFibGVkID0gITEsIGYuZ290b0FuZFN0b3AgJiYgZi5nb3RvQW5kU3RvcChnKSksIGEuaGl0QXJlYSA9IGYpKTsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGU7CiAgYi5fc2V0RW5hYmxlZCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoYSAhPSB0aGlzLl9lbmFibGVkKSB7CiAgICAgIHZhciBiID0gdGhpcy50YXJnZXQ7CiAgICAgIHRoaXMuX2VuYWJsZWQgPSBhLCBhID8gKGIuY3Vyc29yID0gInBvaW50ZXIiLCBiLmFkZEV2ZW50TGlzdGVuZXIoInJvbGxvdmVyIiwgdGhpcyksIGIuYWRkRXZlbnRMaXN0ZW5lcigicm9sbG91dCIsIHRoaXMpLCBiLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIHRoaXMpLCBiLmFkZEV2ZW50TGlzdGVuZXIoInByZXNzdXAiLCB0aGlzKSwgYi5fcmVzZXQgJiYgKGIuX19yZXNldCA9IGIuX3Jlc2V0LCBiLl9yZXNldCA9IHRoaXMuX3Jlc2V0KSkgOiAoYi5jdXJzb3IgPSBudWxsLCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJvbGxvdmVyIiwgdGhpcyksIGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicm9sbG91dCIsIHRoaXMpLCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIHRoaXMpLCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByZXNzdXAiLCB0aGlzKSwgYi5fX3Jlc2V0ICYmIChiLl9yZXNldCA9IGIuX19yZXNldCwgZGVsZXRlIGIuX19yZXNldCkpOwogICAgfQogIH0sIGIuc2V0RW5hYmxlZCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShiLl9zZXRFbmFibGVkLCAiQnV0dG9uSGVscGVyLnNldEVuYWJsZWQiKSwgYi5fZ2V0RW5hYmxlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9lbmFibGVkOwogIH0sIGIuZ2V0RW5hYmxlZCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShiLl9nZXRFbmFibGVkLCAiQnV0dG9uSGVscGVyLmdldEVuYWJsZWQiKTsKCiAgdHJ5IHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGIsIHsKICAgICAgZW5hYmxlZDogewogICAgICAgIGdldDogYi5fZ2V0RW5hYmxlZCwKICAgICAgICBzZXQ6IGIuX3NldEVuYWJsZWQKICAgICAgfQogICAgfSk7CiAgfSBjYXRjaCAoYykge30KCiAgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0J1dHRvbkhlbHBlcl0iOwogIH0sIGIuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IHRoaXMudGFyZ2V0LAogICAgICAgIGQgPSBhLnR5cGU7CiAgICAibW91c2Vkb3duIiA9PSBkID8gKHRoaXMuX2lzUHJlc3NlZCA9ICEwLCBiID0gdGhpcy5kb3duTGFiZWwpIDogInByZXNzdXAiID09IGQgPyAodGhpcy5faXNQcmVzc2VkID0gITEsIGIgPSB0aGlzLl9pc092ZXIgPyB0aGlzLm92ZXJMYWJlbCA6IHRoaXMub3V0TGFiZWwpIDogInJvbGxvdmVyIiA9PSBkID8gKHRoaXMuX2lzT3ZlciA9ICEwLCBiID0gdGhpcy5faXNQcmVzc2VkID8gdGhpcy5kb3duTGFiZWwgOiB0aGlzLm92ZXJMYWJlbCkgOiAodGhpcy5faXNPdmVyID0gITEsIGIgPSB0aGlzLl9pc1ByZXNzZWQgPyB0aGlzLm92ZXJMYWJlbCA6IHRoaXMub3V0TGFiZWwpLCB0aGlzLnBsYXkgPyBjLmdvdG9BbmRQbGF5ICYmIGMuZ290b0FuZFBsYXkoYikgOiBjLmdvdG9BbmRTdG9wICYmIGMuZ290b0FuZFN0b3AoYik7CiAgfSwgYi5fcmVzZXQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMucGF1c2VkOwogICAgdGhpcy5fX3Jlc2V0KCksIHRoaXMucGF1c2VkID0gYTsKICB9LCBjcmVhdGVqcy5CdXR0b25IZWxwZXIgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMsIGQpIHsKICAgIHRoaXMuY29sb3IgPSBhIHx8ICJibGFjayIsIHRoaXMub2Zmc2V0WCA9IGIgfHwgMCwgdGhpcy5vZmZzZXRZID0gYyB8fCAwLCB0aGlzLmJsdXIgPSBkIHx8IDA7CiAgfQoKICB2YXIgYiA9IGEucHJvdG90eXBlOwogIGEuaWRlbnRpdHkgPSBuZXcgYSgidHJhbnNwYXJlbnQiLCAwLCAwLCAwKSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1NoYWRvd10iOwogIH0sIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IGEodGhpcy5jb2xvciwgdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFksIHRoaXMuYmx1cik7CiAgfSwgY3JlYXRlanMuU2hhZG93ID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhKSB7CiAgICB0aGlzLkV2ZW50RGlzcGF0Y2hlcl9jb25zdHJ1Y3RvcigpLCB0aGlzLmNvbXBsZXRlID0gITAsIHRoaXMuZnJhbWVyYXRlID0gMCwgdGhpcy5fYW5pbWF0aW9ucyA9IG51bGwsIHRoaXMuX2ZyYW1lcyA9IG51bGwsIHRoaXMuX2ltYWdlcyA9IG51bGwsIHRoaXMuX2RhdGEgPSBudWxsLCB0aGlzLl9sb2FkQ291bnQgPSAwLCB0aGlzLl9mcmFtZUhlaWdodCA9IDAsIHRoaXMuX2ZyYW1lV2lkdGggPSAwLCB0aGlzLl9udW1GcmFtZXMgPSAwLCB0aGlzLl9yZWdYID0gMCwgdGhpcy5fcmVnWSA9IDAsIHRoaXMuX3NwYWNpbmcgPSAwLCB0aGlzLl9tYXJnaW4gPSAwLCB0aGlzLl9wYXJzZURhdGEoYSk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpOwogIGIuX2dldEFuaW1hdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fYW5pbWF0aW9ucy5zbGljZSgpOwogIH0sIGIuZ2V0QW5pbWF0aW9ucyA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShiLl9nZXRBbmltYXRpb25zLCAiU3ByaXRlU2hlZXQuZ2V0QW5pbWF0aW9ucyIpOwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYiwgewogICAgICBhbmltYXRpb25zOiB7CiAgICAgICAgZ2V0OiBiLl9nZXRBbmltYXRpb25zCiAgICAgIH0KICAgIH0pOwogIH0gY2F0Y2ggKGMpIHt9CgogIGIuZ2V0TnVtRnJhbWVzID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChudWxsID09IGEpIHJldHVybiB0aGlzLl9mcmFtZXMgPyB0aGlzLl9mcmFtZXMubGVuZ3RoIDogdGhpcy5fbnVtRnJhbWVzIHx8IDA7CiAgICB2YXIgYiA9IHRoaXMuX2RhdGFbYV07CiAgICByZXR1cm4gbnVsbCA9PSBiID8gMCA6IGIuZnJhbWVzLmxlbmd0aDsKICB9LCBiLmdldEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5fZGF0YVthXTsKICB9LCBiLmdldEZyYW1lID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiOwogICAgcmV0dXJuIHRoaXMuX2ZyYW1lcyAmJiAoYiA9IHRoaXMuX2ZyYW1lc1thXSkgPyBiIDogbnVsbDsKICB9LCBiLmdldEZyYW1lQm91bmRzID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gdGhpcy5nZXRGcmFtZShhKTsKICAgIHJldHVybiBjID8gKGIgfHwgbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSgpKS5zZXRWYWx1ZXMoLWMucmVnWCwgLWMucmVnWSwgYy5yZWN0LndpZHRoLCBjLnJlY3QuaGVpZ2h0KSA6IG51bGw7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1Nwcml0ZVNoZWV0XSI7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93ICJTcHJpdGVTaGVldCBjYW5ub3QgYmUgY2xvbmVkLiI7CiAgfSwgYi5fcGFyc2VEYXRhID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiLCBjLCBkLCBlOwoKICAgIGlmIChudWxsICE9IGEpIHsKICAgICAgaWYgKHRoaXMuZnJhbWVyYXRlID0gYS5mcmFtZXJhdGUgfHwgMCwgYS5pbWFnZXMgJiYgKGMgPSBhLmltYWdlcy5sZW5ndGgpID4gMCkgZm9yIChlID0gdGhpcy5faW1hZ2VzID0gW10sIGIgPSAwOyBjID4gYjsgYisrKSB7CiAgICAgICAgdmFyIGYgPSBhLmltYWdlc1tiXTsKCiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBmKSB7CiAgICAgICAgICB2YXIgZyA9IGY7CiAgICAgICAgICBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksIGYuc3JjID0gZzsKICAgICAgICB9CgogICAgICAgIGUucHVzaChmKSwgZi5nZXRDb250ZXh0IHx8IGYubmF0dXJhbFdpZHRoIHx8ICh0aGlzLl9sb2FkQ291bnQrKywgdGhpcy5jb21wbGV0ZSA9ICExLCBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgZi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGEuX2hhbmRsZUltYWdlTG9hZChiKTsKICAgICAgICAgIH07CiAgICAgICAgfSh0aGlzLCBnKSwgZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIGYub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYS5faGFuZGxlSW1hZ2VFcnJvcihiKTsKICAgICAgICAgIH07CiAgICAgICAgfSh0aGlzLCBnKSk7CiAgICAgIH0KICAgICAgaWYgKG51bGwgPT0gYS5mcmFtZXMpIDtlbHNlIGlmIChBcnJheS5pc0FycmF5KGEuZnJhbWVzKSkgZm9yICh0aGlzLl9mcmFtZXMgPSBbXSwgZSA9IGEuZnJhbWVzLCBiID0gMCwgYyA9IGUubGVuZ3RoOyBjID4gYjsgYisrKSB7CiAgICAgICAgdmFyIGggPSBlW2JdOwoKICAgICAgICB0aGlzLl9mcmFtZXMucHVzaCh7CiAgICAgICAgICBpbWFnZTogdGhpcy5faW1hZ2VzW2hbNF0gPyBoWzRdIDogMF0sCiAgICAgICAgICByZWN0OiBuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKGhbMF0sIGhbMV0sIGhbMl0sIGhbM10pLAogICAgICAgICAgcmVnWDogaFs1XSB8fCAwLAogICAgICAgICAgcmVnWTogaFs2XSB8fCAwCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBkID0gYS5mcmFtZXMsIHRoaXMuX2ZyYW1lV2lkdGggPSBkLndpZHRoLCB0aGlzLl9mcmFtZUhlaWdodCA9IGQuaGVpZ2h0LCB0aGlzLl9yZWdYID0gZC5yZWdYIHx8IDAsIHRoaXMuX3JlZ1kgPSBkLnJlZ1kgfHwgMCwgdGhpcy5fc3BhY2luZyA9IGQuc3BhY2luZyB8fCAwLCB0aGlzLl9tYXJnaW4gPSBkLm1hcmdpbiB8fCAwLCB0aGlzLl9udW1GcmFtZXMgPSBkLmNvdW50LCAwID09IHRoaXMuX2xvYWRDb3VudCAmJiB0aGlzLl9jYWxjdWxhdGVGcmFtZXMoKTsKCiAgICAgIGlmICh0aGlzLl9hbmltYXRpb25zID0gW10sIG51bGwgIT0gKGQgPSBhLmFuaW1hdGlvbnMpKSB7CiAgICAgICAgdGhpcy5fZGF0YSA9IHt9OwogICAgICAgIHZhciBpOwoKICAgICAgICBmb3IgKGkgaW4gZCkgewogICAgICAgICAgdmFyIGogPSB7CiAgICAgICAgICAgIG5hbWU6IGkKICAgICAgICAgIH0sCiAgICAgICAgICAgICAgayA9IGRbaV07CiAgICAgICAgICBpZiAoIm51bWJlciIgPT0gdHlwZW9mIGspIGUgPSBqLmZyYW1lcyA9IFtrXTtlbHNlIGlmIChBcnJheS5pc0FycmF5KGspKSB7CiAgICAgICAgICAgIGlmICgxID09IGsubGVuZ3RoKSBqLmZyYW1lcyA9IFtrWzBdXTtlbHNlIGZvciAoai5zcGVlZCA9IGtbM10sIGoubmV4dCA9IGtbMl0sIGUgPSBqLmZyYW1lcyA9IFtdLCBiID0ga1swXTsgYiA8PSBrWzFdOyBiKyspIHsKICAgICAgICAgICAgICBlLnB1c2goYik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGouc3BlZWQgPSBrLnNwZWVkLCBqLm5leHQgPSBrLm5leHQ7CiAgICAgICAgICAgIHZhciBsID0gay5mcmFtZXM7CiAgICAgICAgICAgIGUgPSBqLmZyYW1lcyA9ICJudW1iZXIiID09IHR5cGVvZiBsID8gW2xdIDogbC5zbGljZSgwKTsKICAgICAgICAgIH0KICAgICAgICAgIChqLm5leHQgPT09ICEwIHx8IHZvaWQgMCA9PT0gai5uZXh0KSAmJiAoai5uZXh0ID0gaSksIChqLm5leHQgPT09ICExIHx8IGUubGVuZ3RoIDwgMiAmJiBqLm5leHQgPT0gaSkgJiYgKGoubmV4dCA9IG51bGwpLCBqLnNwZWVkIHx8IChqLnNwZWVkID0gMSksIHRoaXMuX2FuaW1hdGlvbnMucHVzaChpKSwgdGhpcy5fZGF0YVtpXSA9IGo7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgYi5faGFuZGxlSW1hZ2VMb2FkID0gZnVuY3Rpb24gKGEpIHsKICAgIDAgPT0gLS10aGlzLl9sb2FkQ291bnQgJiYgKHRoaXMuX2NhbGN1bGF0ZUZyYW1lcygpLCB0aGlzLmNvbXBsZXRlID0gITAsIHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKSk7CiAgfSwgYi5faGFuZGxlSW1hZ2VFcnJvciA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IG5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTsKICAgIGIuc3JjID0gYSwgdGhpcy5kaXNwYXRjaEV2ZW50KGIpLCAwID09IC0tdGhpcy5fbG9hZENvdW50ICYmIHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKTsKICB9LCBiLl9jYWxjdWxhdGVGcmFtZXMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuX2ZyYW1lcyAmJiAwICE9IHRoaXMuX2ZyYW1lV2lkdGgpIHsKICAgICAgdGhpcy5fZnJhbWVzID0gW107CiAgICAgIHZhciBhID0gdGhpcy5fbnVtRnJhbWVzIHx8IDFlNSwKICAgICAgICAgIGIgPSAwLAogICAgICAgICAgYyA9IHRoaXMuX2ZyYW1lV2lkdGgsCiAgICAgICAgICBkID0gdGhpcy5fZnJhbWVIZWlnaHQsCiAgICAgICAgICBlID0gdGhpcy5fc3BhY2luZywKICAgICAgICAgIGYgPSB0aGlzLl9tYXJnaW47CgogICAgICBhOiBmb3IgKHZhciBnID0gMCwgaCA9IHRoaXMuX2ltYWdlczsgZyA8IGgubGVuZ3RoOyBnKyspIHsKICAgICAgICBmb3IgKHZhciBpID0gaFtnXSwgaiA9IGkud2lkdGggfHwgaS5uYXR1cmFsV2lkdGgsIGsgPSBpLmhlaWdodCB8fCBpLm5hdHVyYWxIZWlnaHQsIGwgPSBmOyBrIC0gZiAtIGQgPj0gbDspIHsKICAgICAgICAgIGZvciAodmFyIG0gPSBmOyBqIC0gZiAtIGMgPj0gbTspIHsKICAgICAgICAgICAgaWYgKGIgPj0gYSkgYnJlYWsgYTsKICAgICAgICAgICAgYisrLCB0aGlzLl9mcmFtZXMucHVzaCh7CiAgICAgICAgICAgICAgaW1hZ2U6IGksCiAgICAgICAgICAgICAgcmVjdDogbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShtLCBsLCBjLCBkKSwKICAgICAgICAgICAgICByZWdYOiB0aGlzLl9yZWdYLAogICAgICAgICAgICAgIHJlZ1k6IHRoaXMuX3JlZ1kKICAgICAgICAgICAgfSksIG0gKz0gYyArIGU7CiAgICAgICAgICB9CgogICAgICAgICAgbCArPSBkICsgZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuX251bUZyYW1lcyA9IGI7CiAgICB9CiAgfSwgY3JlYXRlanMuU3ByaXRlU2hlZXQgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJFdmVudERpc3BhdGNoZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRoaXMuY29tbWFuZCA9IG51bGwsIHRoaXMuX3N0cm9rZSA9IG51bGwsIHRoaXMuX3N0cm9rZVN0eWxlID0gbnVsbCwgdGhpcy5fb2xkU3Ryb2tlU3R5bGUgPSBudWxsLCB0aGlzLl9zdHJva2VEYXNoID0gbnVsbCwgdGhpcy5fb2xkU3Ryb2tlRGFzaCA9IG51bGwsIHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlID0gITEsIHRoaXMuX2ZpbGwgPSBudWxsLCB0aGlzLl9pbnN0cnVjdGlvbnMgPSBbXSwgdGhpcy5fY29tbWl0SW5kZXggPSAwLCB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMgPSBbXSwgdGhpcy5fZGlydHkgPSAhMSwgdGhpcy5fc3RvcmVJbmRleCA9IDAsIHRoaXMuY2xlYXIoKTsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGUsCiAgICAgIGMgPSBhOwogIGEuZ2V0UkdCID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIHJldHVybiBudWxsICE9IGEgJiYgbnVsbCA9PSBjICYmIChkID0gYiwgYyA9IDI1NSAmIGEsIGIgPSBhID4+IDggJiAyNTUsIGEgPSBhID4+IDE2ICYgMjU1KSwgbnVsbCA9PSBkID8gInJnYigiICsgYSArICIsIiArIGIgKyAiLCIgKyBjICsgIikiIDogInJnYmEoIiArIGEgKyAiLCIgKyBiICsgIiwiICsgYyArICIsIiArIGQgKyAiKSI7CiAgfSwgYS5nZXRIU0wgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIG51bGwgPT0gZCA/ICJoc2woIiArIGEgJSAzNjAgKyAiLCIgKyBiICsgIiUsIiArIGMgKyAiJSkiIDogImhzbGEoIiArIGEgJSAzNjAgKyAiLCIgKyBiICsgIiUsIiArIGMgKyAiJSwiICsgZCArICIpIjsKICB9LCBhLkJBU0VfNjQgPSB7CiAgICBBOiAwLAogICAgQjogMSwKICAgIEM6IDIsCiAgICBEOiAzLAogICAgRTogNCwKICAgIEY6IDUsCiAgICBHOiA2LAogICAgSDogNywKICAgIEk6IDgsCiAgICBKOiA5LAogICAgSzogMTAsCiAgICBMOiAxMSwKICAgIE06IDEyLAogICAgTjogMTMsCiAgICBPOiAxNCwKICAgIFA6IDE1LAogICAgUTogMTYsCiAgICBSOiAxNywKICAgIFM6IDE4LAogICAgVDogMTksCiAgICBVOiAyMCwKICAgIFY6IDIxLAogICAgVzogMjIsCiAgICBYOiAyMywKICAgIFk6IDI0LAogICAgWjogMjUsCiAgICBhOiAyNiwKICAgIGI6IDI3LAogICAgYzogMjgsCiAgICBkOiAyOSwKICAgIGU6IDMwLAogICAgZjogMzEsCiAgICBnOiAzMiwKICAgIGg6IDMzLAogICAgaTogMzQsCiAgICBqOiAzNSwKICAgIGs6IDM2LAogICAgbDogMzcsCiAgICBtOiAzOCwKICAgIG46IDM5LAogICAgbzogNDAsCiAgICBwOiA0MSwKICAgIHE6IDQyLAogICAgcjogNDMsCiAgICBzOiA0NCwKICAgIHQ6IDQ1LAogICAgdTogNDYsCiAgICB2OiA0NywKICAgIHc6IDQ4LAogICAgeDogNDksCiAgICB5OiA1MCwKICAgIHo6IDUxLAogICAgMDogNTIsCiAgICAxOiA1MywKICAgIDI6IDU0LAogICAgMzogNTUsCiAgICA0OiA1NiwKICAgIDU6IDU3LAogICAgNjogNTgsCiAgICA3OiA1OSwKICAgIDg6IDYwLAogICAgOTogNjEsCiAgICAiKyI6IDYyLAogICAgIi8iOiA2MwogIH0sIGEuU1RST0tFX0NBUFNfTUFQID0gWyJidXR0IiwgInJvdW5kIiwgInNxdWFyZSJdLCBhLlNUUk9LRV9KT0lOVFNfTUFQID0gWyJtaXRlciIsICJyb3VuZCIsICJiZXZlbCJdOwogIHZhciBkID0gY3JlYXRlanMuY3JlYXRlQ2FudmFzID8gY3JlYXRlanMuY3JlYXRlQ2FudmFzKCkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICBkLmdldENvbnRleHQgJiYgKGEuX2N0eCA9IGQuZ2V0Q29udGV4dCgiMmQiKSwgZC53aWR0aCA9IGQuaGVpZ2h0ID0gMSksIGIuX2dldEluc3RydWN0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKSwgdGhpcy5faW5zdHJ1Y3Rpb25zOwogIH0sIGIuZ2V0SW5zdHJ1Y3Rpb25zID0gY3JlYXRlanMuZGVwcmVjYXRlKGIuX2dldEluc3RydWN0aW9ucywgIkdyYXBoaWNzLmdldEluc3RydWN0aW9ucyIpOwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYiwgewogICAgICBpbnN0cnVjdGlvbnM6IHsKICAgICAgICBnZXQ6IGIuX2dldEluc3RydWN0aW9ucwogICAgICB9CiAgICB9KTsKICB9IGNhdGNoIChlKSB7fQoKICBiLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gISh0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RoIHx8IHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5sZW5ndGgpOwogIH0sIGIuZHJhdyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKTsKCiAgICBmb3IgKHZhciBjID0gdGhpcy5faW5zdHJ1Y3Rpb25zLCBkID0gdGhpcy5fc3RvcmVJbmRleCwgZSA9IGMubGVuZ3RoOyBlID4gZDsgZCsrKSB7CiAgICAgIGNbZF0uZXhlYyhhLCBiKTsKICAgIH0KICB9LCBiLmRyYXdBc1BhdGggPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCk7CgogICAgZm9yICh2YXIgYiwgYyA9IHRoaXMuX2luc3RydWN0aW9ucywgZCA9IHRoaXMuX3N0b3JlSW5kZXgsIGUgPSBjLmxlbmd0aDsgZSA+IGQ7IGQrKykgewogICAgICAoYiA9IGNbZF0pLnBhdGggIT09ICExICYmIGIuZXhlYyhhKTsKICAgIH0KICB9LCBiLm1vdmVUbyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gdGhpcy5hcHBlbmQobmV3IGMuTW92ZVRvKGEsIGIpLCAhMCk7CiAgfSwgYi5saW5lVG8gPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBjLkxpbmVUbyhhLCBiKSk7CiAgfSwgYi5hcmNUbyA9IGZ1bmN0aW9uIChhLCBiLCBkLCBlLCBmKSB7CiAgICByZXR1cm4gdGhpcy5hcHBlbmQobmV3IGMuQXJjVG8oYSwgYiwgZCwgZSwgZikpOwogIH0sIGIuYXJjID0gZnVuY3Rpb24gKGEsIGIsIGQsIGUsIGYsIGcpIHsKICAgIHJldHVybiB0aGlzLmFwcGVuZChuZXcgYy5BcmMoYSwgYiwgZCwgZSwgZiwgZykpOwogIH0sIGIucXVhZHJhdGljQ3VydmVUbyA9IGZ1bmN0aW9uIChhLCBiLCBkLCBlKSB7CiAgICByZXR1cm4gdGhpcy5hcHBlbmQobmV3IGMuUXVhZHJhdGljQ3VydmVUbyhhLCBiLCBkLCBlKSk7CiAgfSwgYi5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gKGEsIGIsIGQsIGUsIGYsIGcpIHsKICAgIHJldHVybiB0aGlzLmFwcGVuZChuZXcgYy5CZXppZXJDdXJ2ZVRvKGEsIGIsIGQsIGUsIGYsIGcpKTsKICB9LCBiLnJlY3QgPSBmdW5jdGlvbiAoYSwgYiwgZCwgZSkgewogICAgcmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBjLlJlY3QoYSwgYiwgZCwgZSkpOwogIH0sIGIuY2xvc2VQYXRoID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5sZW5ndGggPyB0aGlzLmFwcGVuZChuZXcgYy5DbG9zZVBhdGgoKSkgOiB0aGlzOwogIH0sIGIuY2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5faW5zdHJ1Y3Rpb25zLmxlbmd0aCA9IHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5sZW5ndGggPSB0aGlzLl9jb21taXRJbmRleCA9IDAsIHRoaXMuX3N0cm9rZVN0eWxlID0gdGhpcy5fb2xkU3Ryb2tlU3R5bGUgPSB0aGlzLl9zdHJva2UgPSB0aGlzLl9maWxsID0gdGhpcy5fc3Ryb2tlRGFzaCA9IHRoaXMuX29sZFN0cm9rZURhc2ggPSBudWxsLCB0aGlzLl9kaXJ0eSA9IHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlID0gITEsIHRoaXM7CiAgfSwgYi5iZWdpbkZpbGwgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3NldEZpbGwoYSA/IG5ldyBjLkZpbGwoYSkgOiBudWxsKTsKICB9LCBiLmJlZ2luTGluZWFyR3JhZGllbnRGaWxsID0gZnVuY3Rpb24gKGEsIGIsIGQsIGUsIGYsIGcpIHsKICAgIHJldHVybiB0aGlzLl9zZXRGaWxsKG5ldyBjLkZpbGwoKS5saW5lYXJHcmFkaWVudChhLCBiLCBkLCBlLCBmLCBnKSk7CiAgfSwgYi5iZWdpblJhZGlhbEdyYWRpZW50RmlsbCA9IGZ1bmN0aW9uIChhLCBiLCBkLCBlLCBmLCBnLCBoLCBpKSB7CiAgICByZXR1cm4gdGhpcy5fc2V0RmlsbChuZXcgYy5GaWxsKCkucmFkaWFsR3JhZGllbnQoYSwgYiwgZCwgZSwgZiwgZywgaCwgaSkpOwogIH0sIGIuYmVnaW5CaXRtYXBGaWxsID0gZnVuY3Rpb24gKGEsIGIsIGQpIHsKICAgIHJldHVybiB0aGlzLl9zZXRGaWxsKG5ldyBjLkZpbGwobnVsbCwgZCkuYml0bWFwKGEsIGIpKTsKICB9LCBiLmVuZEZpbGwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5iZWdpbkZpbGwoKTsKICB9LCBiLnNldFN0cm9rZVN0eWxlID0gZnVuY3Rpb24gKGEsIGIsIGQsIGUsIGYpIHsKICAgIHJldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoITApLCB0aGlzLl9zdHJva2VTdHlsZSA9IHRoaXMuY29tbWFuZCA9IG5ldyBjLlN0cm9rZVN0eWxlKGEsIGIsIGQsIGUsIGYpLCB0aGlzLl9zdHJva2UgJiYgKHRoaXMuX3N0cm9rZS5pZ25vcmVTY2FsZSA9IGYpLCB0aGlzLl9zdHJva2VJZ25vcmVTY2FsZSA9IGYsIHRoaXM7CiAgfSwgYi5zZXRTdHJva2VEYXNoID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoITApLCB0aGlzLl9zdHJva2VEYXNoID0gdGhpcy5jb21tYW5kID0gbmV3IGMuU3Ryb2tlRGFzaChhLCBiKSwgdGhpczsKICB9LCBiLmJlZ2luU3Ryb2tlID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLl9zZXRTdHJva2UoYSA/IG5ldyBjLlN0cm9rZShhKSA6IG51bGwpOwogIH0sIGIuYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZSA9IGZ1bmN0aW9uIChhLCBiLCBkLCBlLCBmLCBnKSB7CiAgICByZXR1cm4gdGhpcy5fc2V0U3Ryb2tlKG5ldyBjLlN0cm9rZSgpLmxpbmVhckdyYWRpZW50KGEsIGIsIGQsIGUsIGYsIGcpKTsKICB9LCBiLmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2UgPSBmdW5jdGlvbiAoYSwgYiwgZCwgZSwgZiwgZywgaCwgaSkgewogICAgcmV0dXJuIHRoaXMuX3NldFN0cm9rZShuZXcgYy5TdHJva2UoKS5yYWRpYWxHcmFkaWVudChhLCBiLCBkLCBlLCBmLCBnLCBoLCBpKSk7CiAgfSwgYi5iZWdpbkJpdG1hcFN0cm9rZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gdGhpcy5fc2V0U3Ryb2tlKG5ldyBjLlN0cm9rZSgpLmJpdG1hcChhLCBiKSk7CiAgfSwgYi5lbmRTdHJva2UgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5iZWdpblN0cm9rZSgpOwogIH0sIGIuY3VydmVUbyA9IGIucXVhZHJhdGljQ3VydmVUbywgYi5kcmF3UmVjdCA9IGIucmVjdCwgYi5kcmF3Um91bmRSZWN0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsKICAgIHJldHVybiB0aGlzLmRyYXdSb3VuZFJlY3RDb21wbGV4KGEsIGIsIGMsIGQsIGUsIGUsIGUsIGUpOwogIH0sIGIuZHJhd1JvdW5kUmVjdENvbXBsZXggPSBmdW5jdGlvbiAoYSwgYiwgZCwgZSwgZiwgZywgaCwgaSkgewogICAgcmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBjLlJvdW5kUmVjdChhLCBiLCBkLCBlLCBmLCBnLCBoLCBpKSk7CiAgfSwgYi5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGEsIGIsIGQpIHsKICAgIHJldHVybiB0aGlzLmFwcGVuZChuZXcgYy5DaXJjbGUoYSwgYiwgZCkpOwogIH0sIGIuZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiAoYSwgYiwgZCwgZSkgewogICAgcmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBjLkVsbGlwc2UoYSwgYiwgZCwgZSkpOwogIH0sIGIuZHJhd1BvbHlTdGFyID0gZnVuY3Rpb24gKGEsIGIsIGQsIGUsIGYsIGcpIHsKICAgIHJldHVybiB0aGlzLmFwcGVuZChuZXcgYy5Qb2x5U3RhcihhLCBiLCBkLCBlLCBmLCBnKSk7CiAgfSwgYi5hcHBlbmQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKGEpLCB0aGlzLmNvbW1hbmQgPSBhLCBiIHx8ICh0aGlzLl9kaXJ0eSA9ICEwKSwgdGhpczsKICB9LCBiLmRlY29kZVBhdGggPSBmdW5jdGlvbiAoYikgewogICAgZm9yICh2YXIgYyA9IFt0aGlzLm1vdmVUbywgdGhpcy5saW5lVG8sIHRoaXMucXVhZHJhdGljQ3VydmVUbywgdGhpcy5iZXppZXJDdXJ2ZVRvLCB0aGlzLmNsb3NlUGF0aF0sIGQgPSBbMiwgMiwgNCwgNiwgMF0sIGUgPSAwLCBmID0gYi5sZW5ndGgsIGcgPSBbXSwgaCA9IDAsIGkgPSAwLCBqID0gYS5CQVNFXzY0OyBmID4gZTspIHsKICAgICAgdmFyIGsgPSBiLmNoYXJBdChlKSwKICAgICAgICAgIGwgPSBqW2tdLAogICAgICAgICAgbSA9IGwgPj4gMywKICAgICAgICAgIG4gPSBjW21dOwogICAgICBpZiAoIW4gfHwgMyAmIGwpIHRocm93ICJiYWQgcGF0aCBkYXRhIChAIiArIGUgKyAiKTogIiArIGs7CiAgICAgIHZhciBvID0gZFttXTsKICAgICAgbSB8fCAoaCA9IGkgPSAwKSwgZy5sZW5ndGggPSAwLCBlKys7CgogICAgICBmb3IgKHZhciBwID0gKGwgPj4gMiAmIDEpICsgMiwgcSA9IDA7IG8gPiBxOyBxKyspIHsKICAgICAgICB2YXIgciA9IGpbYi5jaGFyQXQoZSldLAogICAgICAgICAgICBzID0gciA+PiA1ID8gLTEgOiAxOwogICAgICAgIHIgPSAoMzEgJiByKSA8PCA2IHwgaltiLmNoYXJBdChlICsgMSldLCAzID09IHAgJiYgKHIgPSByIDw8IDYgfCBqW2IuY2hhckF0KGUgKyAyKV0pLCByID0gcyAqIHIgLyAxMCwgcSAlIDIgPyBoID0gciArPSBoIDogaSA9IHIgKz0gaSwgZ1txXSA9IHIsIGUgKz0gcDsKICAgICAgfQoKICAgICAgbi5hcHBseSh0aGlzLCBnKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBiLnN0b3JlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyghMCksIHRoaXMuX3N0b3JlSW5kZXggPSB0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RoLCB0aGlzOwogIH0sIGIudW5zdG9yZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9zdG9yZUluZGV4ID0gMCwgdGhpczsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGIgPSBuZXcgYSgpOwogICAgcmV0dXJuIGIuY29tbWFuZCA9IHRoaXMuY29tbWFuZCwgYi5fc3Ryb2tlID0gdGhpcy5fc3Ryb2tlLCBiLl9zdHJva2VTdHlsZSA9IHRoaXMuX3N0cm9rZVN0eWxlLCBiLl9zdHJva2VEYXNoID0gdGhpcy5fc3Ryb2tlRGFzaCwgYi5fc3Ryb2tlSWdub3JlU2NhbGUgPSB0aGlzLl9zdHJva2VJZ25vcmVTY2FsZSwgYi5fZmlsbCA9IHRoaXMuX2ZpbGwsIGIuX2luc3RydWN0aW9ucyA9IHRoaXMuX2luc3RydWN0aW9ucy5zbGljZSgpLCBiLl9jb21taXRJbmRleCA9IHRoaXMuX2NvbW1pdEluZGV4LCBiLl9hY3RpdmVJbnN0cnVjdGlvbnMgPSB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMuc2xpY2UoKSwgYi5fZGlydHkgPSB0aGlzLl9kaXJ0eSwgYi5fc3RvcmVJbmRleCA9IHRoaXMuX3N0b3JlSW5kZXgsIGI7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0dyYXBoaWNzXSI7CiAgfSwgYi5tdCA9IGIubW92ZVRvLCBiLmx0ID0gYi5saW5lVG8sIGIuYXQgPSBiLmFyY1RvLCBiLmJ0ID0gYi5iZXppZXJDdXJ2ZVRvLCBiLnF0ID0gYi5xdWFkcmF0aWNDdXJ2ZVRvLCBiLmEgPSBiLmFyYywgYi5yID0gYi5yZWN0LCBiLmNwID0gYi5jbG9zZVBhdGgsIGIuYyA9IGIuY2xlYXIsIGIuZiA9IGIuYmVnaW5GaWxsLCBiLmxmID0gYi5iZWdpbkxpbmVhckdyYWRpZW50RmlsbCwgYi5yZiA9IGIuYmVnaW5SYWRpYWxHcmFkaWVudEZpbGwsIGIuYmYgPSBiLmJlZ2luQml0bWFwRmlsbCwgYi5lZiA9IGIuZW5kRmlsbCwgYi5zcyA9IGIuc2V0U3Ryb2tlU3R5bGUsIGIuc2QgPSBiLnNldFN0cm9rZURhc2gsIGIucyA9IGIuYmVnaW5TdHJva2UsIGIubHMgPSBiLmJlZ2luTGluZWFyR3JhZGllbnRTdHJva2UsIGIucnMgPSBiLmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2UsIGIuYnMgPSBiLmJlZ2luQml0bWFwU3Ryb2tlLCBiLmVzID0gYi5lbmRTdHJva2UsIGIuZHIgPSBiLmRyYXdSZWN0LCBiLnJyID0gYi5kcmF3Um91bmRSZWN0LCBiLnJjID0gYi5kcmF3Um91bmRSZWN0Q29tcGxleCwgYi5kYyA9IGIuZHJhd0NpcmNsZSwgYi5kZSA9IGIuZHJhd0VsbGlwc2UsIGIuZHAgPSBiLmRyYXdQb2x5U3RhciwgYi5wID0gYi5kZWNvZGVQYXRoLCBiLl91cGRhdGVJbnN0cnVjdGlvbnMgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSB0aGlzLl9pbnN0cnVjdGlvbnMsCiAgICAgICAgZCA9IHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucywKICAgICAgICBlID0gdGhpcy5fY29tbWl0SW5kZXg7CgogICAgaWYgKHRoaXMuX2RpcnR5ICYmIGQubGVuZ3RoKSB7CiAgICAgIGMubGVuZ3RoID0gZSwgYy5wdXNoKGEuYmVnaW5DbWQpOwogICAgICB2YXIgZiA9IGQubGVuZ3RoLAogICAgICAgICAgZyA9IGMubGVuZ3RoOwogICAgICBjLmxlbmd0aCA9IGcgKyBmOwoKICAgICAgZm9yICh2YXIgaCA9IDA7IGYgPiBoOyBoKyspIHsKICAgICAgICBjW2ggKyBnXSA9IGRbaF07CiAgICAgIH0KCiAgICAgIHRoaXMuX2ZpbGwgJiYgYy5wdXNoKHRoaXMuX2ZpbGwpLCB0aGlzLl9zdHJva2UgJiYgKHRoaXMuX3N0cm9rZURhc2ggIT09IHRoaXMuX29sZFN0cm9rZURhc2ggJiYgYy5wdXNoKHRoaXMuX3N0cm9rZURhc2gpLCB0aGlzLl9zdHJva2VTdHlsZSAhPT0gdGhpcy5fb2xkU3Ryb2tlU3R5bGUgJiYgYy5wdXNoKHRoaXMuX3N0cm9rZVN0eWxlKSwgYiAmJiAodGhpcy5fb2xkU3Ryb2tlU3R5bGUgPSB0aGlzLl9zdHJva2VTdHlsZSwgdGhpcy5fb2xkU3Ryb2tlRGFzaCA9IHRoaXMuX3N0cm9rZURhc2gpLCBjLnB1c2godGhpcy5fc3Ryb2tlKSksIHRoaXMuX2RpcnR5ID0gITE7CiAgICB9CgogICAgYiAmJiAoZC5sZW5ndGggPSAwLCB0aGlzLl9jb21taXRJbmRleCA9IGMubGVuZ3RoKTsKICB9LCBiLl9zZXRGaWxsID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoITApLCB0aGlzLmNvbW1hbmQgPSB0aGlzLl9maWxsID0gYSwgdGhpczsKICB9LCBiLl9zZXRTdHJva2UgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyghMCksICh0aGlzLmNvbW1hbmQgPSB0aGlzLl9zdHJva2UgPSBhKSAmJiAoYS5pZ25vcmVTY2FsZSA9IHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlKSwgdGhpczsKICB9LCAoYy5MaW5lVG8gPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy54ID0gYSwgdGhpcy55ID0gYjsKICB9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLmxpbmVUbyh0aGlzLngsIHRoaXMueSk7CiAgfSwgKGMuTW92ZVRvID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHRoaXMueCA9IGEsIHRoaXMueSA9IGI7CiAgfSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoYSkgewogICAgYS5tb3ZlVG8odGhpcy54LCB0aGlzLnkpOwogIH0sIChjLkFyY1RvID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsKICAgIHRoaXMueDEgPSBhLCB0aGlzLnkxID0gYiwgdGhpcy54MiA9IGMsIHRoaXMueTIgPSBkLCB0aGlzLnJhZGl1cyA9IGU7CiAgfSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoYSkgewogICAgYS5hcmNUbyh0aGlzLngxLCB0aGlzLnkxLCB0aGlzLngyLCB0aGlzLnkyLCB0aGlzLnJhZGl1cyk7CiAgfSwgKGMuQXJjID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYpIHsKICAgIHRoaXMueCA9IGEsIHRoaXMueSA9IGIsIHRoaXMucmFkaXVzID0gYywgdGhpcy5zdGFydEFuZ2xlID0gZCwgdGhpcy5lbmRBbmdsZSA9IGUsIHRoaXMuYW50aWNsb2Nrd2lzZSA9ICEhZjsKICB9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMsIHRoaXMuc3RhcnRBbmdsZSwgdGhpcy5lbmRBbmdsZSwgdGhpcy5hbnRpY2xvY2t3aXNlKTsKICB9LCAoYy5RdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIHRoaXMuY3B4ID0gYSwgdGhpcy5jcHkgPSBiLCB0aGlzLnggPSBjLCB0aGlzLnkgPSBkOwogIH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKGEpIHsKICAgIGEucXVhZHJhdGljQ3VydmVUbyh0aGlzLmNweCwgdGhpcy5jcHksIHRoaXMueCwgdGhpcy55KTsKICB9LCAoYy5CZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYpIHsKICAgIHRoaXMuY3AxeCA9IGEsIHRoaXMuY3AxeSA9IGIsIHRoaXMuY3AyeCA9IGMsIHRoaXMuY3AyeSA9IGQsIHRoaXMueCA9IGUsIHRoaXMueSA9IGY7CiAgfSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoYSkgewogICAgYS5iZXppZXJDdXJ2ZVRvKHRoaXMuY3AxeCwgdGhpcy5jcDF5LCB0aGlzLmNwMngsIHRoaXMuY3AyeSwgdGhpcy54LCB0aGlzLnkpOwogIH0sIChjLlJlY3QgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgdGhpcy54ID0gYSwgdGhpcy55ID0gYiwgdGhpcy53ID0gYywgdGhpcy5oID0gZDsKICB9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLnJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMudywgdGhpcy5oKTsKICB9LCAoYy5DbG9zZVBhdGggPSBmdW5jdGlvbiAoKSB7fSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoYSkgewogICAgYS5jbG9zZVBhdGgoKTsKICB9LCAoYy5CZWdpblBhdGggPSBmdW5jdGlvbiAoKSB7fSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoYSkgewogICAgYS5iZWdpblBhdGgoKTsKICB9LCBiID0gKGMuRmlsbCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB0aGlzLnN0eWxlID0gYSwgdGhpcy5tYXRyaXggPSBiOwogIH0pLnByb3RvdHlwZSwgYi5leGVjID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmICh0aGlzLnN0eWxlKSB7CiAgICAgIGEuZmlsbFN0eWxlID0gdGhpcy5zdHlsZTsKICAgICAgdmFyIGIgPSB0aGlzLm1hdHJpeDsKICAgICAgYiAmJiAoYS5zYXZlKCksIGEudHJhbnNmb3JtKGIuYSwgYi5iLCBiLmMsIGIuZCwgYi50eCwgYi50eSkpLCBhLmZpbGwoKSwgYiAmJiBhLnJlc3RvcmUoKTsKICAgIH0KICB9LCBiLmxpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKGIsIGMsIGQsIGUsIGYsIGcpIHsKICAgIGZvciAodmFyIGggPSB0aGlzLnN0eWxlID0gYS5fY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGQsIGUsIGYsIGcpLCBpID0gMCwgaiA9IGIubGVuZ3RoOyBqID4gaTsgaSsrKSB7CiAgICAgIGguYWRkQ29sb3JTdG9wKGNbaV0sIGJbaV0pOwogICAgfQoKICAgIHJldHVybiBoLnByb3BzID0gewogICAgICBjb2xvcnM6IGIsCiAgICAgIHJhdGlvczogYywKICAgICAgeDA6IGQsCiAgICAgIHkwOiBlLAogICAgICB4MTogZiwKICAgICAgeTE6IGcsCiAgICAgIHR5cGU6ICJsaW5lYXIiCiAgICB9LCB0aGlzOwogIH0sIGIucmFkaWFsR3JhZGllbnQgPSBmdW5jdGlvbiAoYiwgYywgZCwgZSwgZiwgZywgaCwgaSkgewogICAgZm9yICh2YXIgaiA9IHRoaXMuc3R5bGUgPSBhLl9jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoZCwgZSwgZiwgZywgaCwgaSksIGsgPSAwLCBsID0gYi5sZW5ndGg7IGwgPiBrOyBrKyspIHsKICAgICAgai5hZGRDb2xvclN0b3AoY1trXSwgYltrXSk7CiAgICB9CgogICAgcmV0dXJuIGoucHJvcHMgPSB7CiAgICAgIGNvbG9yczogYiwKICAgICAgcmF0aW9zOiBjLAogICAgICB4MDogZCwKICAgICAgeTA6IGUsCiAgICAgIHIwOiBmLAogICAgICB4MTogZywKICAgICAgeTE6IGgsCiAgICAgIHIxOiBpLAogICAgICB0eXBlOiAicmFkaWFsIgogICAgfSwgdGhpczsKICB9LCBiLmJpdG1hcCA9IGZ1bmN0aW9uIChiLCBjKSB7CiAgICBpZiAoYi5uYXR1cmFsV2lkdGggfHwgYi5nZXRDb250ZXh0IHx8IGIucmVhZHlTdGF0ZSA+PSAyKSB7CiAgICAgIHZhciBkID0gdGhpcy5zdHlsZSA9IGEuX2N0eC5jcmVhdGVQYXR0ZXJuKGIsIGMgfHwgIiIpOwoKICAgICAgZC5wcm9wcyA9IHsKICAgICAgICBpbWFnZTogYiwKICAgICAgICByZXBldGl0aW9uOiBjLAogICAgICAgIHR5cGU6ICJiaXRtYXAiCiAgICAgIH07CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwgYi5wYXRoID0gITEsIGIgPSAoYy5TdHJva2UgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy5zdHlsZSA9IGEsIHRoaXMuaWdub3JlU2NhbGUgPSBiOwogIH0pLnByb3RvdHlwZSwgYi5leGVjID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuc3R5bGUgJiYgKGEuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0eWxlLCB0aGlzLmlnbm9yZVNjYWxlICYmIChhLnNhdmUoKSwgYS5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCkpLCBhLnN0cm9rZSgpLCB0aGlzLmlnbm9yZVNjYWxlICYmIGEucmVzdG9yZSgpKTsKICB9LCBiLmxpbmVhckdyYWRpZW50ID0gYy5GaWxsLnByb3RvdHlwZS5saW5lYXJHcmFkaWVudCwgYi5yYWRpYWxHcmFkaWVudCA9IGMuRmlsbC5wcm90b3R5cGUucmFkaWFsR3JhZGllbnQsIGIuYml0bWFwID0gYy5GaWxsLnByb3RvdHlwZS5iaXRtYXAsIGIucGF0aCA9ICExLCBiID0gKGMuU3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkgewogICAgdGhpcy53aWR0aCA9IGEsIHRoaXMuY2FwcyA9IGIsIHRoaXMuam9pbnRzID0gYywgdGhpcy5taXRlckxpbWl0ID0gZCwgdGhpcy5pZ25vcmVTY2FsZSA9IGU7CiAgfSkucHJvdG90eXBlLCBiLmV4ZWMgPSBmdW5jdGlvbiAoYikgewogICAgYi5saW5lV2lkdGggPSBudWxsID09IHRoaXMud2lkdGggPyAiMSIgOiB0aGlzLndpZHRoLCBiLmxpbmVDYXAgPSBudWxsID09IHRoaXMuY2FwcyA/ICJidXR0IiA6IGlzTmFOKHRoaXMuY2FwcykgPyB0aGlzLmNhcHMgOiBhLlNUUk9LRV9DQVBTX01BUFt0aGlzLmNhcHNdLCBiLmxpbmVKb2luID0gbnVsbCA9PSB0aGlzLmpvaW50cyA/ICJtaXRlciIgOiBpc05hTih0aGlzLmpvaW50cykgPyB0aGlzLmpvaW50cyA6IGEuU1RST0tFX0pPSU5UU19NQVBbdGhpcy5qb2ludHNdLCBiLm1pdGVyTGltaXQgPSBudWxsID09IHRoaXMubWl0ZXJMaW1pdCA/ICIxMCIgOiB0aGlzLm1pdGVyTGltaXQsIGIuaWdub3JlU2NhbGUgPSBudWxsID09IHRoaXMuaWdub3JlU2NhbGUgPyAhMSA6IHRoaXMuaWdub3JlU2NhbGU7CiAgfSwgYi5wYXRoID0gITEsIChjLlN0cm9rZURhc2ggPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy5zZWdtZW50cyA9IGEsIHRoaXMub2Zmc2V0ID0gYiB8fCAwOwogIH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKGEpIHsKICAgIGEuc2V0TGluZURhc2ggJiYgKGEuc2V0TGluZURhc2godGhpcy5zZWdtZW50cyB8fCBjLlN0cm9rZURhc2guRU1QVFlfU0VHTUVOVFMpLCBhLmxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5vZmZzZXQgfHwgMCk7CiAgfSwgYy5TdHJva2VEYXNoLkVNUFRZX1NFR01FTlRTID0gW10sIChjLlJvdW5kUmVjdCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7CiAgICB0aGlzLnggPSBhLCB0aGlzLnkgPSBiLCB0aGlzLncgPSBjLCB0aGlzLmggPSBkLCB0aGlzLnJhZGl1c1RMID0gZSwgdGhpcy5yYWRpdXNUUiA9IGYsIHRoaXMucmFkaXVzQlIgPSBnLCB0aGlzLnJhZGl1c0JMID0gaDsKICB9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IChqID4gaSA/IGkgOiBqKSAvIDIsCiAgICAgICAgYyA9IDAsCiAgICAgICAgZCA9IDAsCiAgICAgICAgZSA9IDAsCiAgICAgICAgZiA9IDAsCiAgICAgICAgZyA9IHRoaXMueCwKICAgICAgICBoID0gdGhpcy55LAogICAgICAgIGkgPSB0aGlzLncsCiAgICAgICAgaiA9IHRoaXMuaCwKICAgICAgICBrID0gdGhpcy5yYWRpdXNUTCwKICAgICAgICBsID0gdGhpcy5yYWRpdXNUUiwKICAgICAgICBtID0gdGhpcy5yYWRpdXNCUiwKICAgICAgICBuID0gdGhpcy5yYWRpdXNCTDsKICAgIDAgPiBrICYmIChrICo9IGMgPSAtMSksIGsgPiBiICYmIChrID0gYiksIDAgPiBsICYmIChsICo9IGQgPSAtMSksIGwgPiBiICYmIChsID0gYiksIDAgPiBtICYmIChtICo9IGUgPSAtMSksIG0gPiBiICYmIChtID0gYiksIDAgPiBuICYmIChuICo9IGYgPSAtMSksIG4gPiBiICYmIChuID0gYiksIGEubW92ZVRvKGcgKyBpIC0gbCwgaCksIGEuYXJjVG8oZyArIGkgKyBsICogZCwgaCAtIGwgKiBkLCBnICsgaSwgaCArIGwsIGwpLCBhLmxpbmVUbyhnICsgaSwgaCArIGogLSBtKSwgYS5hcmNUbyhnICsgaSArIG0gKiBlLCBoICsgaiArIG0gKiBlLCBnICsgaSAtIG0sIGggKyBqLCBtKSwgYS5saW5lVG8oZyArIG4sIGggKyBqKSwgYS5hcmNUbyhnIC0gbiAqIGYsIGggKyBqICsgbiAqIGYsIGcsIGggKyBqIC0gbiwgbiksIGEubGluZVRvKGcsIGggKyBrKSwgYS5hcmNUbyhnIC0gayAqIGMsIGggLSBrICogYywgZyArIGssIGgsIGspLCBhLmNsb3NlUGF0aCgpOwogIH0sIChjLkNpcmNsZSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB0aGlzLnggPSBhLCB0aGlzLnkgPSBiLCB0aGlzLnJhZGl1cyA9IGM7CiAgfSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoYSkgewogICAgYS5hcmModGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7CiAgfSwgKGMuRWxsaXBzZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICB0aGlzLnggPSBhLCB0aGlzLnkgPSBiLCB0aGlzLncgPSBjLCB0aGlzLmggPSBkOwogIH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy54LAogICAgICAgIGMgPSB0aGlzLnksCiAgICAgICAgZCA9IHRoaXMudywKICAgICAgICBlID0gdGhpcy5oLAogICAgICAgIGYgPSAuNTUyMjg0OCwKICAgICAgICBnID0gZCAvIDIgKiBmLAogICAgICAgIGggPSBlIC8gMiAqIGYsCiAgICAgICAgaSA9IGIgKyBkLAogICAgICAgIGogPSBjICsgZSwKICAgICAgICBrID0gYiArIGQgLyAyLAogICAgICAgIGwgPSBjICsgZSAvIDI7CiAgICBhLm1vdmVUbyhiLCBsKSwgYS5iZXppZXJDdXJ2ZVRvKGIsIGwgLSBoLCBrIC0gZywgYywgaywgYyksIGEuYmV6aWVyQ3VydmVUbyhrICsgZywgYywgaSwgbCAtIGgsIGksIGwpLCBhLmJlemllckN1cnZlVG8oaSwgbCArIGgsIGsgKyBnLCBqLCBrLCBqKSwgYS5iZXppZXJDdXJ2ZVRvKGsgLSBnLCBqLCBiLCBsICsgaCwgYiwgbCk7CiAgfSwgKGMuUG9seVN0YXIgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdGhpcy54ID0gYSwgdGhpcy55ID0gYiwgdGhpcy5yYWRpdXMgPSBjLCB0aGlzLnNpZGVzID0gZCwgdGhpcy5wb2ludFNpemUgPSBlLCB0aGlzLmFuZ2xlID0gZjsKICB9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMueCwKICAgICAgICBjID0gdGhpcy55LAogICAgICAgIGQgPSB0aGlzLnJhZGl1cywKICAgICAgICBlID0gKHRoaXMuYW5nbGUgfHwgMCkgLyAxODAgKiBNYXRoLlBJLAogICAgICAgIGYgPSB0aGlzLnNpZGVzLAogICAgICAgIGcgPSAxIC0gKHRoaXMucG9pbnRTaXplIHx8IDApLAogICAgICAgIGggPSBNYXRoLlBJIC8gZjsKICAgIGEubW92ZVRvKGIgKyBNYXRoLmNvcyhlKSAqIGQsIGMgKyBNYXRoLnNpbihlKSAqIGQpOwoKICAgIGZvciAodmFyIGkgPSAwOyBmID4gaTsgaSsrKSB7CiAgICAgIGUgKz0gaCwgMSAhPSBnICYmIGEubGluZVRvKGIgKyBNYXRoLmNvcyhlKSAqIGQgKiBnLCBjICsgTWF0aC5zaW4oZSkgKiBkICogZyksIGUgKz0gaCwgYS5saW5lVG8oYiArIE1hdGguY29zKGUpICogZCwgYyArIE1hdGguc2luKGUpICogZCk7CiAgICB9CgogICAgYS5jbG9zZVBhdGgoKTsKICB9LCBhLmJlZ2luQ21kID0gbmV3IGMuQmVnaW5QYXRoKCksIGNyZWF0ZWpzLkdyYXBoaWNzID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCksIHRoaXMuYWxwaGEgPSAxLCB0aGlzLmNhY2hlQ2FudmFzID0gbnVsbCwgdGhpcy5iaXRtYXBDYWNoZSA9IG51bGwsIHRoaXMuaWQgPSBjcmVhdGVqcy5VSUQuZ2V0KCksIHRoaXMubW91c2VFbmFibGVkID0gITAsIHRoaXMudGlja0VuYWJsZWQgPSAhMCwgdGhpcy5uYW1lID0gbnVsbCwgdGhpcy5wYXJlbnQgPSBudWxsLCB0aGlzLnJlZ1ggPSAwLCB0aGlzLnJlZ1kgPSAwLCB0aGlzLnJvdGF0aW9uID0gMCwgdGhpcy5zY2FsZVggPSAxLCB0aGlzLnNjYWxlWSA9IDEsIHRoaXMuc2tld1ggPSAwLCB0aGlzLnNrZXdZID0gMCwgdGhpcy5zaGFkb3cgPSBudWxsLCB0aGlzLnZpc2libGUgPSAhMCwgdGhpcy54ID0gMCwgdGhpcy55ID0gMCwgdGhpcy50cmFuc2Zvcm1NYXRyaXggPSBudWxsLCB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbiA9IG51bGwsIHRoaXMuc25hcFRvUGl4ZWwgPSAhMCwgdGhpcy5maWx0ZXJzID0gbnVsbCwgdGhpcy5tYXNrID0gbnVsbCwgdGhpcy5oaXRBcmVhID0gbnVsbCwgdGhpcy5jdXJzb3IgPSBudWxsLCB0aGlzLl9wcm9wcyA9IG5ldyBjcmVhdGVqcy5EaXNwbGF5UHJvcHMoKSwgdGhpcy5fcmVjdGFuZ2xlID0gbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSgpLCB0aGlzLl9ib3VuZHMgPSBudWxsLCB0aGlzLl93ZWJHTFJlbmRlclN0eWxlID0gYS5fU3RhZ2VHTF9OT05FOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTsKICBhLl9NT1VTRV9FVkVOVFMgPSBbImNsaWNrIiwgImRibGNsaWNrIiwgIm1vdXNlZG93biIsICJtb3VzZW91dCIsICJtb3VzZW92ZXIiLCAicHJlc3Ntb3ZlIiwgInByZXNzdXAiLCAicm9sbG91dCIsICJyb2xsb3ZlciJdLCBhLnN1cHByZXNzQ3Jvc3NEb21haW5FcnJvcnMgPSAhMSwgYS5fc25hcFRvUGl4ZWxFbmFibGVkID0gITEsIGEuX1N0YWdlR0xfTk9ORSA9IDAsIGEuX1N0YWdlR0xfU1BSSVRFID0gMSwgYS5fU3RhZ2VHTF9CSVRNQVAgPSAyOwogIHZhciBjID0gY3JlYXRlanMuY3JlYXRlQ2FudmFzID8gY3JlYXRlanMuY3JlYXRlQ2FudmFzKCkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICBjLmdldENvbnRleHQgJiYgKGEuX2hpdFRlc3RDYW52YXMgPSBjLCBhLl9oaXRUZXN0Q29udGV4dCA9IGMuZ2V0Q29udGV4dCgiMmQiKSwgYy53aWR0aCA9IGMuaGVpZ2h0ID0gMSksIGIuX2dldFN0YWdlID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgYSA9IHRoaXMsIGIgPSBjcmVhdGVqcy5TdGFnZTsgYS5wYXJlbnQ7KSB7CiAgICAgIGEgPSBhLnBhcmVudDsKICAgIH0KCiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIGIgPyBhIDogbnVsbDsKICB9LCBiLmdldFN0YWdlID0gY3JlYXRlanMuZGVwcmVjYXRlKGIuX2dldFN0YWdlLCAiRGlzcGxheU9iamVjdC5nZXRTdGFnZSIpOwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYiwgewogICAgICBzdGFnZTogewogICAgICAgIGdldDogYi5fZ2V0U3RhZ2UKICAgICAgfSwKICAgICAgY2FjaGVJRDogewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuYml0bWFwQ2FjaGUgJiYgdGhpcy5iaXRtYXBDYWNoZS5jYWNoZUlEOwogICAgICAgIH0sCiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYSkgewogICAgICAgICAgdGhpcy5iaXRtYXBDYWNoZSAmJiAodGhpcy5iaXRtYXBDYWNoZS5jYWNoZUlEID0gYSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzY2FsZTogewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVYOwogICAgICAgIH0sCiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYSkgewogICAgICAgICAgdGhpcy5zY2FsZVggPSB0aGlzLnNjYWxlWSA9IGE7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9IGNhdGNoIChkKSB7fQoKICBiLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgMCAhPSB0aGlzLnNjYWxlWCAmJiAwICE9IHRoaXMuc2NhbGVZKTsKICB9LCBiLmRyYXcgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSB0aGlzLmJpdG1hcENhY2hlOwogICAgcmV0dXJuIGMgJiYgIWIgPyBjLmRyYXcoYSkgOiAhMTsKICB9LCBiLnVwZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSB0aGlzLAogICAgICAgIGQgPSBjLm1hc2ssCiAgICAgICAgZSA9IGMuX3Byb3BzLm1hdHJpeDsKICAgIGQgJiYgZC5ncmFwaGljcyAmJiAhZC5ncmFwaGljcy5pc0VtcHR5KCkgJiYgKGQuZ2V0TWF0cml4KGUpLCBiLnRyYW5zZm9ybShlLmEsIGUuYiwgZS5jLCBlLmQsIGUudHgsIGUudHkpLCBkLmdyYXBoaWNzLmRyYXdBc1BhdGgoYiksIGIuY2xpcCgpLCBlLmludmVydCgpLCBiLnRyYW5zZm9ybShlLmEsIGUuYiwgZS5jLCBlLmQsIGUudHgsIGUudHkpKSwgdGhpcy5nZXRNYXRyaXgoZSk7CiAgICB2YXIgZiA9IGUudHgsCiAgICAgICAgZyA9IGUudHk7CiAgICBhLl9zbmFwVG9QaXhlbEVuYWJsZWQgJiYgYy5zbmFwVG9QaXhlbCAmJiAoZiA9IGYgKyAoMCA+IGYgPyAtLjUgOiAuNSkgfCAwLCBnID0gZyArICgwID4gZyA/IC0uNSA6IC41KSB8IDApLCBiLnRyYW5zZm9ybShlLmEsIGUuYiwgZS5jLCBlLmQsIGYsIGcpLCBiLmdsb2JhbEFscGhhICo9IGMuYWxwaGEsIGMuY29tcG9zaXRlT3BlcmF0aW9uICYmIChiLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGMuY29tcG9zaXRlT3BlcmF0aW9uKSwgYy5zaGFkb3cgJiYgdGhpcy5fYXBwbHlTaGFkb3coYiwgYy5zaGFkb3cpOwogIH0sIGIuY2FjaGUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdGhpcy5iaXRtYXBDYWNoZSB8fCAodGhpcy5iaXRtYXBDYWNoZSA9IG5ldyBjcmVhdGVqcy5CaXRtYXBDYWNoZSgpKSwgdGhpcy5iaXRtYXBDYWNoZS5kZWZpbmUodGhpcywgYSwgYiwgYywgZCwgZSwgZik7CiAgfSwgYi51cGRhdGVDYWNoZSA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoIXRoaXMuYml0bWFwQ2FjaGUpIHRocm93ICJjYWNoZSgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB1cGRhdGVDYWNoZSgpIjsKICAgIHRoaXMuYml0bWFwQ2FjaGUudXBkYXRlKGEpOwogIH0sIGIudW5jYWNoZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYml0bWFwQ2FjaGUgJiYgKHRoaXMuYml0bWFwQ2FjaGUucmVsZWFzZSgpLCB0aGlzLmJpdG1hcENhY2hlID0gdm9pZCAwKTsKICB9LCBiLmdldENhY2hlRGF0YVVSTCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmJpdG1hcENhY2hlID8gdGhpcy5iaXRtYXBDYWNoZS5nZXREYXRhVVJMKCkgOiBudWxsOwogIH0sIGIubG9jYWxUb0dsb2JhbCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICByZXR1cm4gdGhpcy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fcHJvcHMubWF0cml4KS50cmFuc2Zvcm1Qb2ludChhLCBiLCBjIHx8IG5ldyBjcmVhdGVqcy5Qb2ludCgpKTsKICB9LCBiLmdsb2JhbFRvTG9jYWwgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgcmV0dXJuIHRoaXMuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KHRoaXMuX3Byb3BzLm1hdHJpeCkuaW52ZXJ0KCkudHJhbnNmb3JtUG9pbnQoYSwgYiwgYyB8fCBuZXcgY3JlYXRlanMuUG9pbnQoKSk7CiAgfSwgYi5sb2NhbFRvTG9jYWwgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIGQgPSB0aGlzLmxvY2FsVG9HbG9iYWwoYSwgYiwgZCksIGMuZ2xvYmFsVG9Mb2NhbChkLngsIGQueSwgZCk7CiAgfSwgYi5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSkgewogICAgcmV0dXJuIHRoaXMueCA9IGEgfHwgMCwgdGhpcy55ID0gYiB8fCAwLCB0aGlzLnNjYWxlWCA9IG51bGwgPT0gYyA/IDEgOiBjLCB0aGlzLnNjYWxlWSA9IG51bGwgPT0gZCA/IDEgOiBkLCB0aGlzLnJvdGF0aW9uID0gZSB8fCAwLCB0aGlzLnNrZXdYID0gZiB8fCAwLCB0aGlzLnNrZXdZID0gZyB8fCAwLCB0aGlzLnJlZ1ggPSBoIHx8IDAsIHRoaXMucmVnWSA9IGkgfHwgMCwgdGhpczsKICB9LCBiLmdldE1hdHJpeCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMsCiAgICAgICAgYyA9IGEgJiYgYS5pZGVudGl0eSgpIHx8IG5ldyBjcmVhdGVqcy5NYXRyaXgyRCgpOwogICAgcmV0dXJuIGIudHJhbnNmb3JtTWF0cml4ID8gYy5jb3B5KGIudHJhbnNmb3JtTWF0cml4KSA6IGMuYXBwZW5kVHJhbnNmb3JtKGIueCwgYi55LCBiLnNjYWxlWCwgYi5zY2FsZVksIGIucm90YXRpb24sIGIuc2tld1gsIGIuc2tld1ksIGIucmVnWCwgYi5yZWdZKTsKICB9LCBiLmdldENvbmNhdGVuYXRlZE1hdHJpeCA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gdGhpcywgYyA9IHRoaXMuZ2V0TWF0cml4KGEpOyBiID0gYi5wYXJlbnQ7KSB7CiAgICAgIGMucHJlcGVuZE1hdHJpeChiLmdldE1hdHJpeChiLl9wcm9wcy5tYXRyaXgpKTsKICAgIH0KCiAgICByZXR1cm4gYzsKICB9LCBiLmdldENvbmNhdGVuYXRlZERpc3BsYXlQcm9wcyA9IGZ1bmN0aW9uIChhKSB7CiAgICBhID0gYSA/IGEuaWRlbnRpdHkoKSA6IG5ldyBjcmVhdGVqcy5EaXNwbGF5UHJvcHMoKTsKICAgIHZhciBiID0gdGhpcywKICAgICAgICBjID0gYi5nZXRNYXRyaXgoYS5tYXRyaXgpOwoKICAgIGRvIHsKICAgICAgYS5wcmVwZW5kKGIudmlzaWJsZSwgYi5hbHBoYSwgYi5zaGFkb3csIGIuY29tcG9zaXRlT3BlcmF0aW9uKSwgYiAhPSB0aGlzICYmIGMucHJlcGVuZE1hdHJpeChiLmdldE1hdHJpeChiLl9wcm9wcy5tYXRyaXgpKTsKICAgIH0gd2hpbGUgKGIgPSBiLnBhcmVudCk7CgogICAgcmV0dXJuIGE7CiAgfSwgYi5oaXRUZXN0ID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIHZhciBkID0gYS5faGl0VGVzdENvbnRleHQ7CiAgICBkLnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAtYiwgLWMpLCB0aGlzLmRyYXcoZCk7CgogICAgdmFyIGUgPSB0aGlzLl90ZXN0SGl0KGQpOwoKICAgIHJldHVybiBkLnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKSwgZC5jbGVhclJlY3QoMCwgMCwgMiwgMiksIGU7CiAgfSwgYi5zZXQgPSBmdW5jdGlvbiAoYSkgewogICAgZm9yICh2YXIgYiBpbiBhKSB7CiAgICAgIHRoaXNbYl0gPSBhW2JdOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0sIGIuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuX2JvdW5kcykgcmV0dXJuIHRoaXMuX3JlY3RhbmdsZS5jb3B5KHRoaXMuX2JvdW5kcyk7CiAgICB2YXIgYSA9IHRoaXMuY2FjaGVDYW52YXM7CgogICAgaWYgKGEpIHsKICAgICAgdmFyIGIgPSB0aGlzLl9jYWNoZVNjYWxlOwogICAgICByZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLnNldFZhbHVlcyh0aGlzLl9jYWNoZU9mZnNldFgsIHRoaXMuX2NhY2hlT2Zmc2V0WSwgYS53aWR0aCAvIGIsIGEuaGVpZ2h0IC8gYik7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwgYi5nZXRUcmFuc2Zvcm1lZEJvdW5kcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9nZXRCb3VuZHMoKTsKICB9LCBiLnNldEJvdW5kcyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICByZXR1cm4gbnVsbCA9PSBhID8gdm9pZCAodGhpcy5fYm91bmRzID0gYSkgOiB2b2lkICh0aGlzLl9ib3VuZHMgPSAodGhpcy5fYm91bmRzIHx8IG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUoKSkuc2V0VmFsdWVzKGEsIGIsIGMsIGQpKTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGEoKSk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0Rpc3BsYXlPYmplY3QgKG5hbWU9IiArIHRoaXMubmFtZSArICIpXSI7CiAgfSwgYi5fdXBkYXRlU3RhdGUgPSBudWxsLCBiLl9jbG9uZVByb3BzID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhLmFscGhhID0gdGhpcy5hbHBoYSwgYS5tb3VzZUVuYWJsZWQgPSB0aGlzLm1vdXNlRW5hYmxlZCwgYS50aWNrRW5hYmxlZCA9IHRoaXMudGlja0VuYWJsZWQsIGEubmFtZSA9IHRoaXMubmFtZSwgYS5yZWdYID0gdGhpcy5yZWdYLCBhLnJlZ1kgPSB0aGlzLnJlZ1ksIGEucm90YXRpb24gPSB0aGlzLnJvdGF0aW9uLCBhLnNjYWxlWCA9IHRoaXMuc2NhbGVYLCBhLnNjYWxlWSA9IHRoaXMuc2NhbGVZLCBhLnNoYWRvdyA9IHRoaXMuc2hhZG93LCBhLnNrZXdYID0gdGhpcy5za2V3WCwgYS5za2V3WSA9IHRoaXMuc2tld1ksIGEudmlzaWJsZSA9IHRoaXMudmlzaWJsZSwgYS54ID0gdGhpcy54LCBhLnkgPSB0aGlzLnksIGEuY29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5jb21wb3NpdGVPcGVyYXRpb24sIGEuc25hcFRvUGl4ZWwgPSB0aGlzLnNuYXBUb1BpeGVsLCBhLmZpbHRlcnMgPSBudWxsID09IHRoaXMuZmlsdGVycyA/IG51bGwgOiB0aGlzLmZpbHRlcnMuc2xpY2UoMCksIGEubWFzayA9IHRoaXMubWFzaywgYS5oaXRBcmVhID0gdGhpcy5oaXRBcmVhLCBhLmN1cnNvciA9IHRoaXMuY3Vyc29yLCBhLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHMsIGE7CiAgfSwgYi5fYXBwbHlTaGFkb3cgPSBmdW5jdGlvbiAoYSwgYikgewogICAgYiA9IGIgfHwgU2hhZG93LmlkZW50aXR5LCBhLnNoYWRvd0NvbG9yID0gYi5jb2xvciwgYS5zaGFkb3dPZmZzZXRYID0gYi5vZmZzZXRYLCBhLnNoYWRvd09mZnNldFkgPSBiLm9mZnNldFksIGEuc2hhZG93Qmx1ciA9IGIuYmx1cjsKICB9LCBiLl90aWNrID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fbGlzdGVuZXJzOwogICAgYiAmJiBiLnRpY2sgJiYgKGEudGFyZ2V0ID0gbnVsbCwgYS5wcm9wYWdhdGlvblN0b3BwZWQgPSBhLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9ICExLCB0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOwogIH0sIGIuX3Rlc3RIaXQgPSBmdW5jdGlvbiAoYikgewogICAgdHJ5IHsKICAgICAgdmFyIGMgPSBiLmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhWzNdID4gMTsKICAgIH0gY2F0Y2ggKGQpIHsKICAgICAgaWYgKCFhLnN1cHByZXNzQ3Jvc3NEb21haW5FcnJvcnMpIHRocm93ICJBbiBlcnJvciBoYXMgb2NjdXJyZWQuIFRoaXMgaXMgbW9zdCBsaWtlbHkgZHVlIHRvIHNlY3VyaXR5IHJlc3RyaWN0aW9ucyBvbiByZWFkaW5nIGNhbnZhcyBwaXhlbCBkYXRhIHdpdGggbG9jYWwgb3IgY3Jvc3MtZG9tYWluIGltYWdlcy4iOwogICAgfQoKICAgIHJldHVybiBjOwogIH0sIGIuX2dldEJvdW5kcyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtQm91bmRzKHRoaXMuZ2V0Qm91bmRzKCksIGEsIGIpOwogIH0sIGIuX3RyYW5zZm9ybUJvdW5kcyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICBpZiAoIWEpIHJldHVybiBhOwogICAgdmFyIGQgPSBhLngsCiAgICAgICAgZSA9IGEueSwKICAgICAgICBmID0gYS53aWR0aCwKICAgICAgICBnID0gYS5oZWlnaHQsCiAgICAgICAgaCA9IHRoaXMuX3Byb3BzLm1hdHJpeDsKICAgIGggPSBjID8gaC5pZGVudGl0eSgpIDogdGhpcy5nZXRNYXRyaXgoaCksIChkIHx8IGUpICYmIGguYXBwZW5kVHJhbnNmb3JtKDAsIDAsIDEsIDEsIDAsIDAsIDAsIC1kLCAtZSksIGIgJiYgaC5wcmVwZW5kTWF0cml4KGIpOwogICAgdmFyIGkgPSBmICogaC5hLAogICAgICAgIGogPSBmICogaC5iLAogICAgICAgIGsgPSBnICogaC5jLAogICAgICAgIGwgPSBnICogaC5kLAogICAgICAgIG0gPSBoLnR4LAogICAgICAgIG4gPSBoLnR5LAogICAgICAgIG8gPSBtLAogICAgICAgIHAgPSBtLAogICAgICAgIHEgPSBuLAogICAgICAgIHIgPSBuOwogICAgcmV0dXJuIChkID0gaSArIG0pIDwgbyA/IG8gPSBkIDogZCA+IHAgJiYgKHAgPSBkKSwgKGQgPSBpICsgayArIG0pIDwgbyA/IG8gPSBkIDogZCA+IHAgJiYgKHAgPSBkKSwgKGQgPSBrICsgbSkgPCBvID8gbyA9IGQgOiBkID4gcCAmJiAocCA9IGQpLCAoZSA9IGogKyBuKSA8IHEgPyBxID0gZSA6IGUgPiByICYmIChyID0gZSksIChlID0gaiArIGwgKyBuKSA8IHEgPyBxID0gZSA6IGUgPiByICYmIChyID0gZSksIChlID0gbCArIG4pIDwgcSA/IHEgPSBlIDogZSA+IHIgJiYgKHIgPSBlKSwgYS5zZXRWYWx1ZXMobywgcSwgcCAtIG8sIHIgLSBxKTsKICB9LCBiLl9oYXNNb3VzZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBiID0gYS5fTU9VU0VfRVZFTlRTLCBjID0gMCwgZCA9IGIubGVuZ3RoOyBkID4gYzsgYysrKSB7CiAgICAgIGlmICh0aGlzLmhhc0V2ZW50TGlzdGVuZXIoYltjXSkpIHJldHVybiAhMDsKICAgIH0KCiAgICByZXR1cm4gISF0aGlzLmN1cnNvcjsKICB9LCBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0ID0gY3JlYXRlanMucHJvbW90ZShhLCAiRXZlbnREaXNwYXRjaGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLkRpc3BsYXlPYmplY3RfY29uc3RydWN0b3IoKSwgdGhpcy5jaGlsZHJlbiA9IFtdLCB0aGlzLm1vdXNlQ2hpbGRyZW4gPSAhMCwgdGhpcy50aWNrQ2hpbGRyZW4gPSAhMDsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpOwogIGIuX2dldE51bUNoaWxkcmVuID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwogIH0sIGIuZ2V0TnVtQ2hpbGRyZW4gPSBjcmVhdGVqcy5kZXByZWNhdGUoYi5fZ2V0TnVtQ2hpbGRyZW4sICJDb250YWluZXIuZ2V0TnVtQ2hpbGRyZW4iKTsKCiAgdHJ5IHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGIsIHsKICAgICAgbnVtQ2hpbGRyZW46IHsKICAgICAgICBnZXQ6IGIuX2dldE51bUNoaWxkcmVuCiAgICAgIH0KICAgIH0pOwogIH0gY2F0Y2ggKGMpIHt9CgogIGIuaW5pdGlhbGl6ZSA9IGEsIGIuaXNWaXNpYmxlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLmNhY2hlQ2FudmFzIHx8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOwogICAgcmV0dXJuICEhKHRoaXMudmlzaWJsZSAmJiB0aGlzLmFscGhhID4gMCAmJiAwICE9IHRoaXMuc2NhbGVYICYmIDAgIT0gdGhpcy5zY2FsZVkgJiYgYSk7CiAgfSwgYi5kcmF3ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmICh0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyhhLCBiKSkgcmV0dXJuICEwOwoKICAgIGZvciAodmFyIGMgPSB0aGlzLmNoaWxkcmVuLnNsaWNlKCksIGQgPSAwLCBlID0gYy5sZW5ndGg7IGUgPiBkOyBkKyspIHsKICAgICAgdmFyIGYgPSBjW2RdOwogICAgICBmLmlzVmlzaWJsZSgpICYmIChhLnNhdmUoKSwgZi51cGRhdGVDb250ZXh0KGEpLCBmLmRyYXcoYSksIGEucmVzdG9yZSgpKTsKICAgIH0KCiAgICByZXR1cm4gITA7CiAgfSwgYi5hZGRDaGlsZCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAobnVsbCA9PSBhKSByZXR1cm4gYTsKICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aDsKCiAgICBpZiAoYiA+IDEpIHsKICAgICAgZm9yICh2YXIgYyA9IDA7IGIgPiBjOyBjKyspIHsKICAgICAgICB0aGlzLmFkZENoaWxkKGFyZ3VtZW50c1tjXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhcmd1bWVudHNbYiAtIDFdOwogICAgfQoKICAgIHZhciBkID0gYS5wYXJlbnQsCiAgICAgICAgZSA9IGQgPT09IHRoaXM7CiAgICByZXR1cm4gZCAmJiBkLl9yZW1vdmVDaGlsZEF0KGNyZWF0ZWpzLmluZGV4T2YoZC5jaGlsZHJlbiwgYSksIGUpLCBhLnBhcmVudCA9IHRoaXMsIHRoaXMuY2hpbGRyZW4ucHVzaChhKSwgZSB8fCBhLmRpc3BhdGNoRXZlbnQoImFkZGVkIiksIGE7CiAgfSwgYi5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwKICAgICAgICBkID0gYXJndW1lbnRzW2MgLSAxXTsKICAgIGlmICgwID4gZCB8fCBkID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHJldHVybiBhcmd1bWVudHNbYyAtIDJdOwoKICAgIGlmIChjID4gMikgewogICAgICBmb3IgKHZhciBlID0gMDsgYyAtIDEgPiBlOyBlKyspIHsKICAgICAgICB0aGlzLmFkZENoaWxkQXQoYXJndW1lbnRzW2VdLCBkICsgZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhcmd1bWVudHNbYyAtIDJdOwogICAgfQoKICAgIHZhciBmID0gYS5wYXJlbnQsCiAgICAgICAgZyA9IGYgPT09IHRoaXM7CiAgICByZXR1cm4gZiAmJiBmLl9yZW1vdmVDaGlsZEF0KGNyZWF0ZWpzLmluZGV4T2YoZi5jaGlsZHJlbiwgYSksIGcpLCBhLnBhcmVudCA9IHRoaXMsIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGIsIDAsIGEpLCBnIHx8IGEuZGlzcGF0Y2hFdmVudCgiYWRkZWQiKSwgYTsKICB9LCBiLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aDsKCiAgICBpZiAoYiA+IDEpIHsKICAgICAgZm9yICh2YXIgYyA9ICEwLCBkID0gMDsgYiA+IGQ7IGQrKykgewogICAgICAgIGMgPSBjICYmIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzW2RdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuX3JlbW92ZUNoaWxkQXQoY3JlYXRlanMuaW5kZXhPZih0aGlzLmNoaWxkcmVuLCBhKSk7CiAgfSwgYi5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aDsKCiAgICBpZiAoYiA+IDEpIHsKICAgICAgZm9yICh2YXIgYyA9IFtdLCBkID0gMDsgYiA+IGQ7IGQrKykgewogICAgICAgIGNbZF0gPSBhcmd1bWVudHNbZF07CiAgICAgIH0KCiAgICAgIGMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBiIC0gYTsKICAgICAgfSk7CgogICAgICBmb3IgKHZhciBlID0gITAsIGQgPSAwOyBiID4gZDsgZCsrKSB7CiAgICAgICAgZSA9IGUgJiYgdGhpcy5fcmVtb3ZlQ2hpbGRBdChjW2RdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGU7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuX3JlbW92ZUNoaWxkQXQoYSk7CiAgfSwgYi5yZW1vdmVBbGxDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGEgPSB0aGlzLmNoaWxkcmVuOyBhLmxlbmd0aDspIHsKICAgICAgdGhpcy5fcmVtb3ZlQ2hpbGRBdCgwKTsKICAgIH0KICB9LCBiLmdldENoaWxkQXQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5bYV07CiAgfSwgYi5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gdGhpcy5jaGlsZHJlbiwgYyA9IDAsIGQgPSBiLmxlbmd0aDsgZCA+IGM7IGMrKykgewogICAgICBpZiAoYltjXS5uYW1lID09IGEpIHJldHVybiBiW2NdOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sIGIuc29ydENoaWxkcmVuID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuY2hpbGRyZW4uc29ydChhKTsKICB9LCBiLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGNyZWF0ZWpzLmluZGV4T2YodGhpcy5jaGlsZHJlbiwgYSk7CiAgfSwgYi5zd2FwQ2hpbGRyZW5BdCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IHRoaXMuY2hpbGRyZW4sCiAgICAgICAgZCA9IGNbYV0sCiAgICAgICAgZSA9IGNbYl07CiAgICBkICYmIGUgJiYgKGNbYV0gPSBlLCBjW2JdID0gZCk7CiAgfSwgYi5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiAoYSwgYikgewogICAgZm9yICh2YXIgYywgZCwgZSA9IHRoaXMuY2hpbGRyZW4sIGYgPSAwLCBnID0gZS5sZW5ndGg7IGcgPiBmICYmIChlW2ZdID09IGEgJiYgKGMgPSBmKSwgZVtmXSA9PSBiICYmIChkID0gZiksIG51bGwgPT0gYyB8fCBudWxsID09IGQpOyBmKyspIHsKICAgICAgOwogICAgfQoKICAgIGYgIT0gZyAmJiAoZVtjXSA9IGIsIGVbZF0gPSBhKTsKICB9LCBiLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSB0aGlzLmNoaWxkcmVuLAogICAgICAgIGQgPSBjLmxlbmd0aDsKCiAgICBpZiAoIShhLnBhcmVudCAhPSB0aGlzIHx8IDAgPiBiIHx8IGIgPj0gZCkpIHsKICAgICAgZm9yICh2YXIgZSA9IDA7IGQgPiBlICYmIGNbZV0gIT0gYTsgZSsrKSB7CiAgICAgICAgOwogICAgICB9CgogICAgICBlICE9IGQgJiYgZSAhPSBiICYmIChjLnNwbGljZShlLCAxKSwgYy5zcGxpY2UoYiwgMCwgYSkpOwogICAgfQogIH0sIGIuY29udGFpbnMgPSBmdW5jdGlvbiAoYSkgewogICAgZm9yICg7IGE7KSB7CiAgICAgIGlmIChhID09IHRoaXMpIHJldHVybiAhMDsKICAgICAgYSA9IGEucGFyZW50OwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LCBiLmhpdFRlc3QgPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIG51bGwgIT0gdGhpcy5nZXRPYmplY3RVbmRlclBvaW50KGEsIGIpOwogIH0sIGIuZ2V0T2JqZWN0c1VuZGVyUG9pbnQgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdmFyIGQgPSBbXSwKICAgICAgICBlID0gdGhpcy5sb2NhbFRvR2xvYmFsKGEsIGIpOwogICAgcmV0dXJuIHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KGUueCwgZS55LCBkLCBjID4gMCwgMSA9PSBjKSwgZDsKICB9LCBiLmdldE9iamVjdFVuZGVyUG9pbnQgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdmFyIGQgPSB0aGlzLmxvY2FsVG9HbG9iYWwoYSwgYik7CiAgICByZXR1cm4gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoZC54LCBkLnksIG51bGwsIGMgPiAwLCAxID09IGMpOwogIH0sIGIuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2dldEJvdW5kcyhudWxsLCAhMCk7CiAgfSwgYi5nZXRUcmFuc2Zvcm1lZEJvdW5kcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9nZXRCb3VuZHMoKTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKGIpIHsKICAgIHZhciBjID0gdGhpcy5fY2xvbmVQcm9wcyhuZXcgYSgpKTsKCiAgICByZXR1cm4gYiAmJiB0aGlzLl9jbG9uZUNoaWxkcmVuKGMpLCBjOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltDb250YWluZXIgKG5hbWU9IiArIHRoaXMubmFtZSArICIpXSI7CiAgfSwgYi5fdGljayA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAodGhpcy50aWNrQ2hpbGRyZW4pIGZvciAodmFyIGIgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGIgPj0gMDsgYi0tKSB7CiAgICAgIHZhciBjID0gdGhpcy5jaGlsZHJlbltiXTsKICAgICAgYy50aWNrRW5hYmxlZCAmJiBjLl90aWNrICYmIGMuX3RpY2soYSk7CiAgICB9CiAgICB0aGlzLkRpc3BsYXlPYmplY3RfX3RpY2soYSk7CiAgfSwgYi5fY2xvbmVDaGlsZHJlbiA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLmNoaWxkcmVuLmxlbmd0aCAmJiBhLnJlbW92ZUFsbENoaWxkcmVuKCk7CgogICAgZm9yICh2YXIgYiA9IGEuY2hpbGRyZW4sIGMgPSAwLCBkID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgdmFyIGUgPSB0aGlzLmNoaWxkcmVuW2NdLmNsb25lKCEwKTsKICAgICAgZS5wYXJlbnQgPSBhLCBiLnB1c2goZSk7CiAgICB9CiAgfSwgYi5fcmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAoMCA+IGEgfHwgYSA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSkgcmV0dXJuICExOwogICAgdmFyIGMgPSB0aGlzLmNoaWxkcmVuW2FdOwogICAgcmV0dXJuIGMgJiYgKGMucGFyZW50ID0gbnVsbCksIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsIDEpLCBiIHx8IGMuZGlzcGF0Y2hFdmVudCgicmVtb3ZlZCIpLCAhMDsKICB9LCBiLl9nZXRPYmplY3RzVW5kZXJQb2ludCA9IGZ1bmN0aW9uIChiLCBjLCBkLCBlLCBmLCBnKSB7CiAgICBpZiAoZyA9IGcgfHwgMCwgIWcgJiYgIXRoaXMuX3Rlc3RNYXNrKHRoaXMsIGIsIGMpKSByZXR1cm4gbnVsbDsKICAgIHZhciBoLAogICAgICAgIGkgPSBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0Ll9oaXRUZXN0Q29udGV4dDsKICAgIGYgPSBmIHx8IGUgJiYgdGhpcy5faGFzTW91c2VFdmVudExpc3RlbmVyKCk7CgogICAgZm9yICh2YXIgaiA9IHRoaXMuY2hpbGRyZW4sIGsgPSBqLmxlbmd0aCwgbCA9IGsgLSAxOyBsID49IDA7IGwtLSkgewogICAgICB2YXIgbSA9IGpbbF0sCiAgICAgICAgICBuID0gbS5oaXRBcmVhOwogICAgICBpZiAobS52aXNpYmxlICYmIChuIHx8IG0uaXNWaXNpYmxlKCkpICYmICghZSB8fCBtLm1vdXNlRW5hYmxlZCkgJiYgKG4gfHwgdGhpcy5fdGVzdE1hc2sobSwgYiwgYykpKSBpZiAoIW4gJiYgbSBpbnN0YW5jZW9mIGEpIHsKICAgICAgICB2YXIgbyA9IG0uX2dldE9iamVjdHNVbmRlclBvaW50KGIsIGMsIGQsIGUsIGYsIGcgKyAxKTsKCiAgICAgICAgaWYgKCFkICYmIG8pIHJldHVybiBlICYmICF0aGlzLm1vdXNlQ2hpbGRyZW4gPyB0aGlzIDogbzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZSAmJiAhZiAmJiAhbS5faGFzTW91c2VFdmVudExpc3RlbmVyKCkpIGNvbnRpbnVlOwogICAgICAgIHZhciBwID0gbS5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHMobS5fcHJvcHMpOwogICAgICAgIGlmIChoID0gcC5tYXRyaXgsIG4gJiYgKGguYXBwZW5kTWF0cml4KG4uZ2V0TWF0cml4KG4uX3Byb3BzLm1hdHJpeCkpLCBwLmFscGhhID0gbi5hbHBoYSksIGkuZ2xvYmFsQWxwaGEgPSBwLmFscGhhLCBpLnNldFRyYW5zZm9ybShoLmEsIGguYiwgaC5jLCBoLmQsIGgudHggLSBiLCBoLnR5IC0gYyksIChuIHx8IG0pLmRyYXcoaSksICF0aGlzLl90ZXN0SGl0KGkpKSBjb250aW51ZTsKICAgICAgICBpZiAoaS5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCksIGkuY2xlYXJSZWN0KDAsIDAsIDIsIDIpLCAhZCkgcmV0dXJuIGUgJiYgIXRoaXMubW91c2VDaGlsZHJlbiA/IHRoaXMgOiBtOwogICAgICAgIGQucHVzaChtKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sIGIuX3Rlc3RNYXNrID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHZhciBkID0gYS5tYXNrOwogICAgaWYgKCFkIHx8ICFkLmdyYXBoaWNzIHx8IGQuZ3JhcGhpY3MuaXNFbXB0eSgpKSByZXR1cm4gITA7CiAgICB2YXIgZSA9IHRoaXMuX3Byb3BzLm1hdHJpeCwKICAgICAgICBmID0gYS5wYXJlbnQ7CiAgICBlID0gZiA/IGYuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KGUpIDogZS5pZGVudGl0eSgpLCBlID0gZC5nZXRNYXRyaXgoZC5fcHJvcHMubWF0cml4KS5wcmVwZW5kTWF0cml4KGUpOwogICAgdmFyIGcgPSBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0Ll9oaXRUZXN0Q29udGV4dDsKICAgIHJldHVybiBnLnNldFRyYW5zZm9ybShlLmEsIGUuYiwgZS5jLCBlLmQsIGUudHggLSBiLCBlLnR5IC0gYyksIGQuZ3JhcGhpY3MuZHJhd0FzUGF0aChnKSwgZy5maWxsU3R5bGUgPSAiIzAwMCIsIGcuZmlsbCgpLCB0aGlzLl90ZXN0SGl0KGcpID8gKGcuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApLCBnLmNsZWFyUmVjdCgwLCAwLCAyLCAyKSwgITApIDogITE7CiAgfSwgYi5fZ2V0Qm91bmRzID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpOwogICAgaWYgKGMpIHJldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHMoYywgYSwgYik7CiAgICB2YXIgZCA9IHRoaXMuX3Byb3BzLm1hdHJpeDsKICAgIGQgPSBiID8gZC5pZGVudGl0eSgpIDogdGhpcy5nZXRNYXRyaXgoZCksIGEgJiYgZC5wcmVwZW5kTWF0cml4KGEpOwoKICAgIGZvciAodmFyIGUgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgZiA9IG51bGwsIGcgPSAwOyBlID4gZzsgZysrKSB7CiAgICAgIHZhciBoID0gdGhpcy5jaGlsZHJlbltnXTsKICAgICAgaC52aXNpYmxlICYmIChjID0gaC5fZ2V0Qm91bmRzKGQpKSAmJiAoZiA/IGYuZXh0ZW5kKGMueCwgYy55LCBjLndpZHRoLCBjLmhlaWdodCkgOiBmID0gYy5jbG9uZSgpKTsKICAgIH0KCiAgICByZXR1cm4gZjsKICB9LCBjcmVhdGVqcy5Db250YWluZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJEaXNwbGF5T2JqZWN0Iik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSkgewogICAgdGhpcy5Db250YWluZXJfY29uc3RydWN0b3IoKSwgdGhpcy5hdXRvQ2xlYXIgPSAhMCwgdGhpcy5jYW52YXMgPSAic3RyaW5nIiA9PSB0eXBlb2YgYSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpIDogYSwgdGhpcy5tb3VzZVggPSAwLCB0aGlzLm1vdXNlWSA9IDAsIHRoaXMuZHJhd1JlY3QgPSBudWxsLCB0aGlzLnNuYXBUb1BpeGVsRW5hYmxlZCA9ICExLCB0aGlzLm1vdXNlSW5Cb3VuZHMgPSAhMSwgdGhpcy50aWNrT25VcGRhdGUgPSAhMCwgdGhpcy5tb3VzZU1vdmVPdXRzaWRlID0gITEsIHRoaXMucHJldmVudFNlbGVjdGlvbiA9ICEwLCB0aGlzLl9wb2ludGVyRGF0YSA9IHt9LCB0aGlzLl9wb2ludGVyQ291bnQgPSAwLCB0aGlzLl9wcmltYXJ5UG9pbnRlcklEID0gbnVsbCwgdGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRCA9IG51bGwsIHRoaXMuX25leHRTdGFnZSA9IG51bGwsIHRoaXMuX3ByZXZTdGFnZSA9IG51bGwsIHRoaXMuZW5hYmxlRE9NRXZlbnRzKCEwKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkNvbnRhaW5lcik7CiAgYi5fZ2V0X25leHRTdGFnZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9uZXh0U3RhZ2U7CiAgfSwgYi5fc2V0X25leHRTdGFnZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9uZXh0U3RhZ2UgJiYgKHRoaXMuX25leHRTdGFnZS5fcHJldlN0YWdlID0gbnVsbCksIGEgJiYgKGEuX3ByZXZTdGFnZSA9IHRoaXMpLCB0aGlzLl9uZXh0U3RhZ2UgPSBhOwogIH07CgogIHRyeSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhiLCB7CiAgICAgIG5leHRTdGFnZTogewogICAgICAgIGdldDogYi5fZ2V0X25leHRTdGFnZSwKICAgICAgICBzZXQ6IGIuX3NldF9uZXh0U3RhZ2UKICAgICAgfQogICAgfSk7CiAgfSBjYXRjaCAoYykge30KCiAgYi51cGRhdGUgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKHRoaXMuY2FudmFzICYmICh0aGlzLnRpY2tPblVwZGF0ZSAmJiB0aGlzLnRpY2soYSksIHRoaXMuZGlzcGF0Y2hFdmVudCgiZHJhd3N0YXJ0IiwgITEsICEwKSAhPT0gITEpKSB7CiAgICAgIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX3NuYXBUb1BpeGVsRW5hYmxlZCA9IHRoaXMuc25hcFRvUGl4ZWxFbmFibGVkOwogICAgICB2YXIgYiA9IHRoaXMuZHJhd1JlY3QsCiAgICAgICAgICBjID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgYy5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCksIHRoaXMuYXV0b0NsZWFyICYmIChiID8gYy5jbGVhclJlY3QoYi54LCBiLnksIGIud2lkdGgsIGIuaGVpZ2h0KSA6IGMuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoICsgMSwgdGhpcy5jYW52YXMuaGVpZ2h0ICsgMSkpLCBjLnNhdmUoKSwgdGhpcy5kcmF3UmVjdCAmJiAoYy5iZWdpblBhdGgoKSwgYy5yZWN0KGIueCwgYi55LCBiLndpZHRoLCBiLmhlaWdodCksIGMuY2xpcCgpKSwgdGhpcy51cGRhdGVDb250ZXh0KGMpLCB0aGlzLmRyYXcoYywgITEpLCBjLnJlc3RvcmUoKSwgdGhpcy5kaXNwYXRjaEV2ZW50KCJkcmF3ZW5kIik7CiAgICB9CiAgfSwgYi50aWNrID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmICh0aGlzLnRpY2tFbmFibGVkICYmIHRoaXMuZGlzcGF0Y2hFdmVudCgidGlja3N0YXJ0IiwgITEsICEwKSAhPT0gITEpIHsKICAgICAgdmFyIGIgPSBuZXcgY3JlYXRlanMuRXZlbnQoInRpY2siKTsKICAgICAgaWYgKGEpIGZvciAodmFyIGMgaW4gYSkgewogICAgICAgIGEuaGFzT3duUHJvcGVydHkoYykgJiYgKGJbY10gPSBhW2NdKTsKICAgICAgfQogICAgICB0aGlzLl90aWNrKGIpLCB0aGlzLmRpc3BhdGNoRXZlbnQoInRpY2tlbmQiKTsKICAgIH0KICB9LCBiLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKGEpIHsKICAgICJ0aWNrIiA9PSBhLnR5cGUgJiYgdGhpcy51cGRhdGUoYSk7CiAgfSwgYi5jbGVhciA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmNhbnZhcykgewogICAgICB2YXIgYSA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIGEuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApLCBhLmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCArIDEsIHRoaXMuY2FudmFzLmhlaWdodCArIDEpOwogICAgfQogIH0sIGIudG9EYXRhVVJMID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpLAogICAgICAgIGUgPSB0aGlzLmNhbnZhcy53aWR0aCwKICAgICAgICBmID0gdGhpcy5jYW52YXMuaGVpZ2h0OwoKICAgIGlmIChhKSB7CiAgICAgIGMgPSBkLmdldEltYWdlRGF0YSgwLCAwLCBlLCBmKTsKICAgICAgdmFyIGcgPSBkLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjsKICAgICAgZC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAiZGVzdGluYXRpb24tb3ZlciIsIGQuZmlsbFN0eWxlID0gYSwgZC5maWxsUmVjdCgwLCAwLCBlLCBmKTsKICAgIH0KCiAgICB2YXIgaCA9IHRoaXMuY2FudmFzLnRvRGF0YVVSTChiIHx8ICJpbWFnZS9wbmciKTsKICAgIHJldHVybiBhICYmIChkLnB1dEltYWdlRGF0YShjLCAwLCAwKSwgZC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBnKSwgaDsKICB9LCBiLmVuYWJsZU1vdXNlT3ZlciA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAodGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRCAmJiAoY2xlYXJJbnRlcnZhbCh0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEKSwgdGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRCA9IG51bGwsIDAgPT0gYSAmJiB0aGlzLl90ZXN0TW91c2VPdmVyKCEwKSksIG51bGwgPT0gYSkgYSA9IDIwO2Vsc2UgaWYgKDAgPj0gYSkgcmV0dXJuOwogICAgdmFyIGIgPSB0aGlzOwogICAgdGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgYi5fdGVzdE1vdXNlT3ZlcigpOwogICAgfSwgMWUzIC8gTWF0aC5taW4oNTAsIGEpKTsKICB9LCBiLmVuYWJsZURPTUV2ZW50cyA9IGZ1bmN0aW9uIChhKSB7CiAgICBudWxsID09IGEgJiYgKGEgPSAhMCk7CiAgICB2YXIgYiwKICAgICAgICBjLAogICAgICAgIGQgPSB0aGlzLl9ldmVudExpc3RlbmVyczsKCiAgICBpZiAoIWEgJiYgZCkgewogICAgICBmb3IgKGIgaW4gZCkgewogICAgICAgIGMgPSBkW2JdLCBjLnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLCBjLmYsICExKTsKICAgICAgfQoKICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMgPSBudWxsOwogICAgfSBlbHNlIGlmIChhICYmICFkICYmIHRoaXMuY2FudmFzKSB7CiAgICAgIHZhciBlID0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPyB3aW5kb3cgOiBkb2N1bWVudCwKICAgICAgICAgIF9mID0gdGhpczsKCiAgICAgIGQgPSB0aGlzLl9ldmVudExpc3RlbmVycyA9IHt9LCBkLm1vdXNldXAgPSB7CiAgICAgICAgdDogZSwKICAgICAgICBmOiBmdW5jdGlvbiBmKGEpIHsKICAgICAgICAgIF9mLl9oYW5kbGVNb3VzZVVwKGEpOwogICAgICAgIH0KICAgICAgfSwgZC5tb3VzZW1vdmUgPSB7CiAgICAgICAgdDogZSwKICAgICAgICBmOiBmdW5jdGlvbiBmKGEpIHsKICAgICAgICAgIF9mLl9oYW5kbGVNb3VzZU1vdmUoYSk7CiAgICAgICAgfQogICAgICB9LCBkLmRibGNsaWNrID0gewogICAgICAgIHQ6IHRoaXMuY2FudmFzLAogICAgICAgIGY6IGZ1bmN0aW9uIGYoYSkgewogICAgICAgICAgX2YuX2hhbmRsZURvdWJsZUNsaWNrKGEpOwogICAgICAgIH0KICAgICAgfSwgZC5tb3VzZWRvd24gPSB7CiAgICAgICAgdDogdGhpcy5jYW52YXMsCiAgICAgICAgZjogZnVuY3Rpb24gZihhKSB7CiAgICAgICAgICBfZi5faGFuZGxlTW91c2VEb3duKGEpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGZvciAoYiBpbiBkKSB7CiAgICAgICAgYyA9IGRbYl0sIGMudC5hZGRFdmVudExpc3RlbmVyKGIsIGMuZiwgITEpOwogICAgICB9CiAgICB9CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93ICJTdGFnZSBjYW5ub3QgYmUgY2xvbmVkLiI7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1N0YWdlIChuYW1lPSIgKyB0aGlzLm5hbWUgKyAiKV0iOwogIH0sIGIuX2dldEVsZW1lbnRSZWN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiOwoKICAgIHRyeSB7CiAgICAgIGIgPSBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgfSBjYXRjaCAoYykgewogICAgICBiID0gewogICAgICAgIHRvcDogYS5vZmZzZXRUb3AsCiAgICAgICAgbGVmdDogYS5vZmZzZXRMZWZ0LAogICAgICAgIHdpZHRoOiBhLm9mZnNldFdpZHRoLAogICAgICAgIGhlaWdodDogYS5vZmZzZXRIZWlnaHQKICAgICAgfTsKICAgIH0KCiAgICB2YXIgZCA9ICh3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuc2Nyb2xsTGVmdCB8fCAwKSAtIChkb2N1bWVudC5jbGllbnRMZWZ0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50TGVmdCB8fCAwKSwKICAgICAgICBlID0gKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5zY3JvbGxUb3AgfHwgMCkgLSAoZG9jdW1lbnQuY2xpZW50VG9wIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50VG9wIHx8IDApLAogICAgICAgIGYgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IGdldENvbXB1dGVkU3R5bGUoYSwgbnVsbCkgOiBhLmN1cnJlbnRTdHlsZSwKICAgICAgICBnID0gcGFyc2VJbnQoZi5wYWRkaW5nTGVmdCkgKyBwYXJzZUludChmLmJvcmRlckxlZnRXaWR0aCksCiAgICAgICAgaCA9IHBhcnNlSW50KGYucGFkZGluZ1RvcCkgKyBwYXJzZUludChmLmJvcmRlclRvcFdpZHRoKSwKICAgICAgICBpID0gcGFyc2VJbnQoZi5wYWRkaW5nUmlnaHQpICsgcGFyc2VJbnQoZi5ib3JkZXJSaWdodFdpZHRoKSwKICAgICAgICBqID0gcGFyc2VJbnQoZi5wYWRkaW5nQm90dG9tKSArIHBhcnNlSW50KGYuYm9yZGVyQm90dG9tV2lkdGgpOwogICAgcmV0dXJuIHsKICAgICAgbGVmdDogYi5sZWZ0ICsgZCArIGcsCiAgICAgIHJpZ2h0OiBiLnJpZ2h0ICsgZCAtIGksCiAgICAgIHRvcDogYi50b3AgKyBlICsgaCwKICAgICAgYm90dG9tOiBiLmJvdHRvbSArIGUgLSBqCiAgICB9OwogIH0sIGIuX2dldFBvaW50ZXJEYXRhID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fcG9pbnRlckRhdGFbYV07CiAgICByZXR1cm4gYiB8fCAoYiA9IHRoaXMuX3BvaW50ZXJEYXRhW2FdID0gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9KSwgYjsKICB9LCBiLl9oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiAoYSkgewogICAgYSB8fCAoYSA9IHdpbmRvdy5ldmVudCksIHRoaXMuX2hhbmRsZVBvaW50ZXJNb3ZlKC0xLCBhLCBhLnBhZ2VYLCBhLnBhZ2VZKTsKICB9LCBiLl9oYW5kbGVQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7CiAgICBpZiAoKCF0aGlzLl9wcmV2U3RhZ2UgfHwgdm9pZCAwICE9PSBlKSAmJiB0aGlzLmNhbnZhcykgewogICAgICB2YXIgZiA9IHRoaXMuX25leHRTdGFnZSwKICAgICAgICAgIGcgPSB0aGlzLl9nZXRQb2ludGVyRGF0YShhKSwKICAgICAgICAgIGggPSBnLmluQm91bmRzOwoKICAgICAgdGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEsIGIsIGMsIGQpLCAoaCB8fCBnLmluQm91bmRzIHx8IHRoaXMubW91c2VNb3ZlT3V0c2lkZSkgJiYgKC0xID09PSBhICYmIGcuaW5Cb3VuZHMgPT0gIWggJiYgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsIGggPyAibW91c2VsZWF2ZSIgOiAibW91c2VlbnRlciIsICExLCBhLCBnLCBiKSwgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsICJzdGFnZW1vdXNlbW92ZSIsICExLCBhLCBnLCBiKSwgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGcudGFyZ2V0LCAicHJlc3Ntb3ZlIiwgITAsIGEsIGcsIGIpKSwgZiAmJiBmLl9oYW5kbGVQb2ludGVyTW92ZShhLCBiLCBjLCBkLCBudWxsKTsKICAgIH0KICB9LCBiLl91cGRhdGVQb2ludGVyUG9zaXRpb24gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgdmFyIGUgPSB0aGlzLl9nZXRFbGVtZW50UmVjdCh0aGlzLmNhbnZhcyk7CgogICAgYyAtPSBlLmxlZnQsIGQgLT0gZS50b3A7CiAgICB2YXIgZiA9IHRoaXMuY2FudmFzLndpZHRoLAogICAgICAgIGcgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7CiAgICBjIC89IChlLnJpZ2h0IC0gZS5sZWZ0KSAvIGYsIGQgLz0gKGUuYm90dG9tIC0gZS50b3ApIC8gZzsKCiAgICB2YXIgaCA9IHRoaXMuX2dldFBvaW50ZXJEYXRhKGEpOwoKICAgIChoLmluQm91bmRzID0gYyA+PSAwICYmIGQgPj0gMCAmJiBmIC0gMSA+PSBjICYmIGcgLSAxID49IGQpID8gKGgueCA9IGMsIGgueSA9IGQpIDogdGhpcy5tb3VzZU1vdmVPdXRzaWRlICYmIChoLnggPSAwID4gYyA/IDAgOiBjID4gZiAtIDEgPyBmIC0gMSA6IGMsIGgueSA9IDAgPiBkID8gMCA6IGQgPiBnIC0gMSA/IGcgLSAxIDogZCksIGgucG9zRXZ0T2JqID0gYiwgaC5yYXdYID0gYywgaC5yYXdZID0gZCwgKGEgPT09IHRoaXMuX3ByaW1hcnlQb2ludGVySUQgfHwgLTEgPT09IGEpICYmICh0aGlzLm1vdXNlWCA9IGgueCwgdGhpcy5tb3VzZVkgPSBoLnksIHRoaXMubW91c2VJbkJvdW5kcyA9IGguaW5Cb3VuZHMpOwogIH0sIGIuX2hhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5faGFuZGxlUG9pbnRlclVwKC0xLCBhLCAhMSk7CiAgfSwgYi5faGFuZGxlUG9pbnRlclVwID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIHZhciBlID0gdGhpcy5fbmV4dFN0YWdlLAogICAgICAgIGYgPSB0aGlzLl9nZXRQb2ludGVyRGF0YShhKTsKCiAgICBpZiAoIXRoaXMuX3ByZXZTdGFnZSB8fCB2b2lkIDAgIT09IGQpIHsKICAgICAgdmFyIGcgPSBudWxsLAogICAgICAgICAgaCA9IGYudGFyZ2V0OwogICAgICBkIHx8ICFoICYmICFlIHx8IChnID0gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoZi54LCBmLnksIG51bGwsICEwKSksIGYuZG93biAmJiAodGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsICJzdGFnZW1vdXNldXAiLCAhMSwgYSwgZiwgYiwgZyksIGYuZG93biA9ICExKSwgZyA9PSBoICYmIHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChoLCAiY2xpY2siLCAhMCwgYSwgZiwgYiksIHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChoLCAicHJlc3N1cCIsICEwLCBhLCBmLCBiKSwgYyA/IChhID09IHRoaXMuX3ByaW1hcnlQb2ludGVySUQgJiYgKHRoaXMuX3ByaW1hcnlQb2ludGVySUQgPSBudWxsKSwgZGVsZXRlIHRoaXMuX3BvaW50ZXJEYXRhW2FdKSA6IGYudGFyZ2V0ID0gbnVsbCwgZSAmJiBlLl9oYW5kbGVQb2ludGVyVXAoYSwgYiwgYywgZCB8fCBnICYmIHRoaXMpOwogICAgfQogIH0sIGIuX2hhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9oYW5kbGVQb2ludGVyRG93bigtMSwgYSwgYS5wYWdlWCwgYS5wYWdlWSk7CiAgfSwgYi5faGFuZGxlUG9pbnRlckRvd24gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkgewogICAgdGhpcy5wcmV2ZW50U2VsZWN0aW9uICYmIGIucHJldmVudERlZmF1bHQoKSwgKG51bGwgPT0gdGhpcy5fcHJpbWFyeVBvaW50ZXJJRCB8fCAtMSA9PT0gYSkgJiYgKHRoaXMuX3ByaW1hcnlQb2ludGVySUQgPSBhKSwgbnVsbCAhPSBkICYmIHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhLCBiLCBjLCBkKTsKCiAgICB2YXIgZiA9IG51bGwsCiAgICAgICAgZyA9IHRoaXMuX25leHRTdGFnZSwKICAgICAgICBoID0gdGhpcy5fZ2V0UG9pbnRlckRhdGEoYSk7CgogICAgZSB8fCAoZiA9IGgudGFyZ2V0ID0gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoaC54LCBoLnksIG51bGwsICEwKSksIGguaW5Cb3VuZHMgJiYgKHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLCAic3RhZ2Vtb3VzZWRvd24iLCAhMSwgYSwgaCwgYiwgZiksIGguZG93biA9ICEwKSwgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGYsICJtb3VzZWRvd24iLCAhMCwgYSwgaCwgYiksIGcgJiYgZy5faGFuZGxlUG9pbnRlckRvd24oYSwgYiwgYywgZCwgZSB8fCBmICYmIHRoaXMpOwogIH0sIGIuX3Rlc3RNb3VzZU92ZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgaWYgKCF0aGlzLl9wcmV2U3RhZ2UgfHwgdm9pZCAwICE9PSBiKSB7CiAgICAgIHZhciBkID0gdGhpcy5fbmV4dFN0YWdlOwogICAgICBpZiAoIXRoaXMuX21vdXNlT3ZlckludGVydmFsSUQpIHJldHVybiB2b2lkIChkICYmIGQuX3Rlc3RNb3VzZU92ZXIoYSwgYiwgYykpOwoKICAgICAgdmFyIGUgPSB0aGlzLl9nZXRQb2ludGVyRGF0YSgtMSk7CgogICAgICBpZiAoZSAmJiAoYSB8fCB0aGlzLm1vdXNlWCAhPSB0aGlzLl9tb3VzZU92ZXJYIHx8IHRoaXMubW91c2VZICE9IHRoaXMuX21vdXNlT3ZlclkgfHwgIXRoaXMubW91c2VJbkJvdW5kcykpIHsKICAgICAgICB2YXIgZiwKICAgICAgICAgICAgZywKICAgICAgICAgICAgaCwKICAgICAgICAgICAgaSA9IGUucG9zRXZ0T2JqLAogICAgICAgICAgICBqID0gYyB8fCBpICYmIGkudGFyZ2V0ID09IHRoaXMuY2FudmFzLAogICAgICAgICAgICBrID0gbnVsbCwKICAgICAgICAgICAgbCA9IC0xLAogICAgICAgICAgICBtID0gIiI7CiAgICAgICAgIWIgJiYgKGEgfHwgdGhpcy5tb3VzZUluQm91bmRzICYmIGopICYmIChrID0gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQodGhpcy5tb3VzZVgsIHRoaXMubW91c2VZLCBudWxsLCAhMCksIHRoaXMuX21vdXNlT3ZlclggPSB0aGlzLm1vdXNlWCwgdGhpcy5fbW91c2VPdmVyWSA9IHRoaXMubW91c2VZKTsKICAgICAgICB2YXIgbiA9IHRoaXMuX21vdXNlT3ZlclRhcmdldCB8fCBbXSwKICAgICAgICAgICAgbyA9IG5bbi5sZW5ndGggLSAxXSwKICAgICAgICAgICAgcCA9IHRoaXMuX21vdXNlT3ZlclRhcmdldCA9IFtdOwoKICAgICAgICBmb3IgKGYgPSBrOyBmOykgewogICAgICAgICAgcC51bnNoaWZ0KGYpLCBtIHx8IChtID0gZi5jdXJzb3IpLCBmID0gZi5wYXJlbnQ7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHRoaXMuY2FudmFzLnN0eWxlLmN1cnNvciA9IG0sICFiICYmIGMgJiYgKGMuY2FudmFzLnN0eWxlLmN1cnNvciA9IG0pLCBnID0gMCwgaCA9IHAubGVuZ3RoOyBoID4gZyAmJiBwW2ddID09IG5bZ107IGcrKykgewogICAgICAgICAgbCA9IGc7CiAgICAgICAgfQoKICAgICAgICBmb3IgKG8gIT0gayAmJiB0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQobywgIm1vdXNlb3V0IiwgITAsIC0xLCBlLCBpLCBrKSwgZyA9IG4ubGVuZ3RoIC0gMTsgZyA+IGw7IGctLSkgewogICAgICAgICAgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KG5bZ10sICJyb2xsb3V0IiwgITEsIC0xLCBlLCBpLCBrKTsKICAgICAgICB9CgogICAgICAgIGZvciAoZyA9IHAubGVuZ3RoIC0gMTsgZyA+IGw7IGctLSkgewogICAgICAgICAgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHBbZ10sICJyb2xsb3ZlciIsICExLCAtMSwgZSwgaSwgbyk7CiAgICAgICAgfQoKICAgICAgICBvICE9IGsgJiYgdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGssICJtb3VzZW92ZXIiLCAhMCwgLTEsIGUsIGksIG8pLCBkICYmIGQuX3Rlc3RNb3VzZU92ZXIoYSwgYiB8fCBrICYmIHRoaXMsIGMgfHwgaiAmJiB0aGlzKTsKICAgICAgfQogICAgfQogIH0sIGIuX2hhbmRsZURvdWJsZUNsaWNrID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gbnVsbCwKICAgICAgICBkID0gdGhpcy5fbmV4dFN0YWdlLAogICAgICAgIGUgPSB0aGlzLl9nZXRQb2ludGVyRGF0YSgtMSk7CgogICAgYiB8fCAoYyA9IHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KGUueCwgZS55LCBudWxsLCAhMCksIHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChjLCAiZGJsY2xpY2siLCAhMCwgLTEsIGUsIGEpKSwgZCAmJiBkLl9oYW5kbGVEb3VibGVDbGljayhhLCBiIHx8IGMgJiYgdGhpcyk7CiAgfSwgYi5fZGlzcGF0Y2hNb3VzZUV2ZW50ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHsKICAgIGlmIChhICYmIChjIHx8IGEuaGFzRXZlbnRMaXN0ZW5lcihiKSkpIHsKICAgICAgdmFyIGggPSBuZXcgY3JlYXRlanMuTW91c2VFdmVudChiLCBjLCAhMSwgZS54LCBlLnksIGYsIGQsIGQgPT09IHRoaXMuX3ByaW1hcnlQb2ludGVySUQgfHwgLTEgPT09IGQsIGUucmF3WCwgZS5yYXdZLCBnKTsKICAgICAgYS5kaXNwYXRjaEV2ZW50KGgpOwogICAgfQogIH0sIGNyZWF0ZWpzLlN0YWdlID0gY3JlYXRlanMucHJvbW90ZShhLCAiQ29udGFpbmVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYiwgYykgewogICAgaWYgKHRoaXMuU3RhZ2VfY29uc3RydWN0b3IoYiksIHZvaWQgMCAhPT0gYykgewogICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihjKSkgdGhyb3cgIkludmFsaWQgb3B0aW9ucyBvYmplY3QiOwogICAgICB2YXIgZCA9IGMucHJlbXVsdGlwbHksCiAgICAgICAgICBlID0gYy50cmFuc3BhcmVudCwKICAgICAgICAgIGYgPSBjLmFudGlhbGlhcywKICAgICAgICAgIGcgPSBjLnByZXNlcnZlQnVmZmVyLAogICAgICAgICAgaCA9IGMuYXV0b1B1cmdlOwogICAgfQoKICAgIHRoaXMudm9jYWxEZWJ1ZyA9ICExLCB0aGlzLl9wcmVzZXJ2ZUJ1ZmZlciA9IGcgfHwgITEsIHRoaXMuX2FudGlhbGlhcyA9IGYgfHwgITEsIHRoaXMuX3RyYW5zcGFyZW50ID0gZSB8fCAhMSwgdGhpcy5fcHJlbXVsdGlwbHkgPSBkIHx8ICExLCB0aGlzLl9hdXRvUHVyZ2UgPSB2b2lkIDAsIHRoaXMuYXV0b1B1cmdlID0gaCwgdGhpcy5fdmlld3BvcnRXaWR0aCA9IDAsIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0ID0gMCwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCA9IG51bGwsIHRoaXMuX3dlYkdMQ29udGV4dCA9IG51bGwsIHRoaXMuX2NsZWFyQ29sb3IgPSB7CiAgICAgIHI6IC41LAogICAgICBnOiAuNSwKICAgICAgYjogLjUsCiAgICAgIGE6IDAKICAgIH0sIHRoaXMuX21heENhcmRzUGVyQmF0Y2ggPSBhLkRFRkFVTFRfTUFYX0JBVENIX1NJWkUsIHRoaXMuX2FjdGl2ZVNoYWRlciA9IG51bGwsIHRoaXMuX3ZlcnRpY2VzID0gbnVsbCwgdGhpcy5fdmVydGV4UG9zaXRpb25CdWZmZXIgPSBudWxsLCB0aGlzLl91dnMgPSBudWxsLCB0aGlzLl91dlBvc2l0aW9uQnVmZmVyID0gbnVsbCwgdGhpcy5faW5kaWNlcyA9IG51bGwsIHRoaXMuX3RleHR1cmVJbmRleEJ1ZmZlciA9IG51bGwsIHRoaXMuX2FscGhhcyA9IG51bGwsIHRoaXMuX2FscGhhQnVmZmVyID0gbnVsbCwgdGhpcy5fdGV4dHVyZURpY3Rpb25hcnkgPSBbXSwgdGhpcy5fdGV4dHVyZUlEcyA9IHt9LCB0aGlzLl9iYXRjaFRleHR1cmVzID0gW10sIHRoaXMuX2Jhc2VUZXh0dXJlcyA9IFtdLCB0aGlzLl9iYXRjaFRleHR1cmVDb3VudCA9IDgsIHRoaXMuX2xhc3RUZXh0dXJlSW5zZXJ0ID0gLTEsIHRoaXMuX2JhdGNoSUQgPSAwLCB0aGlzLl9kcmF3SUQgPSAwLCB0aGlzLl9zbG90QmxhY2tsaXN0ID0gW10sIHRoaXMuX2lzRHJhd2luZyA9IDAsIHRoaXMuX2xhc3RUcmFja2VkQ2FudmFzID0gMCwgdGhpcy5pc0NhY2hlQ29udHJvbGxlZCA9ICExLCB0aGlzLl9jYWNoZUNvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKSwgdGhpcy5faW5pdGlhbGl6ZVdlYkdMKCk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5TdGFnZSk7CiAgYS5idWlsZFVWUmVjdHMgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgaWYgKCFhIHx8ICFhLl9mcmFtZXMpIHJldHVybiBudWxsOwogICAgdm9pZCAwID09PSBiICYmIChiID0gLTEpLCB2b2lkIDAgPT09IGMgJiYgKGMgPSAhMSk7CgogICAgZm9yICh2YXIgZCA9IC0xICE9IGIgJiYgYyA/IGIgOiAwLCBlID0gLTEgIT0gYiAmJiBjID8gYiArIDEgOiBhLl9mcmFtZXMubGVuZ3RoLCBmID0gZDsgZSA+IGY7IGYrKykgewogICAgICB2YXIgZyA9IGEuX2ZyYW1lc1tmXTsKCiAgICAgIGlmICghKGcudXZSZWN0IHx8IGcuaW1hZ2Uud2lkdGggPD0gMCB8fCBnLmltYWdlLmhlaWdodCA8PSAwKSkgewogICAgICAgIHZhciBoID0gZy5yZWN0OwogICAgICAgIGcudXZSZWN0ID0gewogICAgICAgICAgdDogaC55IC8gZy5pbWFnZS5oZWlnaHQsCiAgICAgICAgICBsOiBoLnggLyBnLmltYWdlLndpZHRoLAogICAgICAgICAgYjogKGgueSArIGguaGVpZ2h0KSAvIGcuaW1hZ2UuaGVpZ2h0LAogICAgICAgICAgcjogKGgueCArIGgud2lkdGgpIC8gZy5pbWFnZS53aWR0aAogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYS5fZnJhbWVzWy0xICE9IGIgPyBiIDogMF0udXZSZWN0IHx8IHsKICAgICAgdDogMCwKICAgICAgbDogMCwKICAgICAgYjogMSwKICAgICAgcjogMQogICAgfTsKICB9LCBhLmlzV2ViR0xBY3RpdmUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEgJiYgYSBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0OwogIH0sIGEuVkVSVEVYX1BST1BFUlRZX0NPVU5UID0gNiwgYS5JTkRJQ0lFU19QRVJfQ0FSRCA9IDYsIGEuREVGQVVMVF9NQVhfQkFUQ0hfU0laRSA9IDFlNCwgYS5XRUJHTF9NQVhfSU5ERVhfTlVNID0gTWF0aC5wb3coMiwgMTYpLCBhLlVWX1JFQ1QgPSB7CiAgICB0OiAwLAogICAgbDogMCwKICAgIGI6IDEsCiAgICByOiAxCiAgfTsKCiAgdHJ5IHsKICAgIGEuQ09WRVJfVkVSVCA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAxLCAxLCAxLCAtMSwgLTEsIDEsIDEsIDEsIC0xLCAtMSwgLTFdKSwgYS5DT1ZFUl9VViA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDAsIDEsIDEsIDAsIDEsIDEsIDAsIDFdKSwgYS5DT1ZFUl9VVl9GTElQID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMSwgMSwgMSwgMCwgMCwgMSwgMSwgMSwgMCwgMCwgMF0pOwogIH0gY2F0Y2ggKGMpIHt9CgogIGEuUkVHVUxBUl9WQVJZSU5HX0hFQURFUiA9ICJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDt2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDt2YXJ5aW5nIGxvd3AgZmxvYXQgaW5kZXhQaWNrZXI7dmFyeWluZyBsb3dwIGZsb2F0IGFscGhhVmFsdWU7IiwgYS5SRUdVTEFSX1ZFUlRFWF9IRUFERVIgPSBhLlJFR1VMQVJfVkFSWUlOR19IRUFERVIgKyAiYXR0cmlidXRlIHZlYzIgdmVydGV4UG9zaXRpb247YXR0cmlidXRlIHZlYzIgdXZQb3NpdGlvbjthdHRyaWJ1dGUgbG93cCBmbG9hdCB0ZXh0dXJlSW5kZXg7YXR0cmlidXRlIGxvd3AgZmxvYXQgb2JqZWN0QWxwaGE7dW5pZm9ybSBtYXQ0IHBNYXRyaXg7IiwgYS5SRUdVTEFSX0ZSQUdNRU5UX0hFQURFUiA9IGEuUkVHVUxBUl9WQVJZSU5HX0hFQURFUiArICJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlclt7e2NvdW50fX1dOyIsIGEuUkVHVUxBUl9WRVJURVhfQk9EWSA9ICJ2b2lkIG1haW4odm9pZCkge2dsX1Bvc2l0aW9uID0gdmVjNCgodmVydGV4UG9zaXRpb24ueCAqIHBNYXRyaXhbMF1bMF0pICsgcE1hdHJpeFszXVswXSwodmVydGV4UG9zaXRpb24ueSAqIHBNYXRyaXhbMV1bMV0pICsgcE1hdHJpeFszXVsxXSxwTWF0cml4WzNdWzJdLDEuMCk7YWxwaGFWYWx1ZSA9IG9iamVjdEFscGhhO2luZGV4UGlja2VyID0gdGV4dHVyZUluZGV4O3ZUZXh0dXJlQ29vcmQgPSB1dlBvc2l0aW9uO30iLCBhLlJFR1VMQVJfRlJBR01FTlRfQk9EWSA9ICJ2b2lkIG1haW4odm9pZCkge3ZlYzQgY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7aWYgKGluZGV4UGlja2VyIDw9IDAuNSkge2NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyWzBdLCB2VGV4dHVyZUNvb3JkKTt7e2FsdGVybmF0ZXN9fX17e2ZyYWdDb2xvcn19fSIsIGEuUkVHVUxBUl9GUkFHX0NPTE9SX05PUk1BTCA9ICJnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIGFscGhhVmFsdWUpOyIsIGEuUkVHVUxBUl9GUkFHX0NPTE9SX1BSRU1VTFRJUExZID0gImlmKGNvbG9yLmEgPiAwLjAwMzUpIHtnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYi9jb2xvci5hLCBjb2xvci5hICogYWxwaGFWYWx1ZSk7fSBlbHNlIHtnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7fSIsIGEuUEFSVElDTEVfVkVSVEVYX0JPRFkgPSBhLlJFR1VMQVJfVkVSVEVYX0JPRFksIGEuUEFSVElDTEVfRlJBR01FTlRfQk9EWSA9IGEuUkVHVUxBUl9GUkFHTUVOVF9CT0RZLCBhLkNPVkVSX1ZBUllJTkdfSEVBREVSID0gInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O3ZhcnlpbmcgaGlnaHAgdmVjMiB2UmVuZGVyQ29vcmQ7dmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7IiwgYS5DT1ZFUl9WRVJURVhfSEVBREVSID0gYS5DT1ZFUl9WQVJZSU5HX0hFQURFUiArICJhdHRyaWJ1dGUgdmVjMiB2ZXJ0ZXhQb3NpdGlvbjthdHRyaWJ1dGUgdmVjMiB1dlBvc2l0aW9uO3VuaWZvcm0gZmxvYXQgdVVwcmlnaHQ7IiwgYS5DT1ZFUl9GUkFHTUVOVF9IRUFERVIgPSBhLkNPVkVSX1ZBUllJTkdfSEVBREVSICsgInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOyIsIGEuQ09WRVJfVkVSVEVYX0JPRFkgPSAidm9pZCBtYWluKHZvaWQpIHtnbF9Qb3NpdGlvbiA9IHZlYzQodmVydGV4UG9zaXRpb24ueCwgdmVydGV4UG9zaXRpb24ueSwgMC4wLCAxLjApO3ZSZW5kZXJDb29yZCA9IHV2UG9zaXRpb247dlRleHR1cmVDb29yZCA9IHZlYzIodXZQb3NpdGlvbi54LCBhYnModVVwcmlnaHQgLSB1dlBvc2l0aW9uLnkpKTt9IiwgYS5DT1ZFUl9GUkFHTUVOVF9CT0RZID0gInZvaWQgbWFpbih2b2lkKSB7dmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlJlbmRlckNvb3JkKTtnbF9GcmFnQ29sb3IgPSBjb2xvcjt9IiwgYi5fZ2V0X2lzV2ViR0wgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gISF0aGlzLl93ZWJHTENvbnRleHQ7CiAgfSwgYi5fc2V0X2F1dG9QdXJnZSA9IGZ1bmN0aW9uIChhKSB7CiAgICBhID0gaXNOYU4oYSkgPyAxMjAwIDogYSwgLTEgIT0gYSAmJiAoYSA9IDEwID4gYSA/IDEwIDogYSksIHRoaXMuX2F1dG9QdXJnZSA9IGE7CiAgfSwgYi5fZ2V0X2F1dG9QdXJnZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBOdW1iZXIodGhpcy5fYXV0b1B1cmdlKTsKICB9OwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYiwgewogICAgICBpc1dlYkdMOiB7CiAgICAgICAgZ2V0OiBiLl9nZXRfaXNXZWJHTAogICAgICB9LAogICAgICBhdXRvUHVyZ2U6IHsKICAgICAgICBnZXQ6IGIuX2dldF9hdXRvUHVyZ2UsCiAgICAgICAgc2V0OiBiLl9zZXRfYXV0b1B1cmdlCiAgICAgIH0KICAgIH0pOwogIH0gY2F0Y2ggKGMpIHt9CgogIGIuX2luaXRpYWxpemVXZWJHTCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmNhbnZhcykgewogICAgICBpZiAoIXRoaXMuX3dlYkdMQ29udGV4dCB8fCB0aGlzLl93ZWJHTENvbnRleHQuY2FudmFzICE9PSB0aGlzLmNhbnZhcykgewogICAgICAgIHZhciBhID0gewogICAgICAgICAgZGVwdGg6ICExLAogICAgICAgICAgYWxwaGE6IHRoaXMuX3RyYW5zcGFyZW50LAogICAgICAgICAgc3RlbmNpbDogITAsCiAgICAgICAgICBhbnRpYWxpYXM6IHRoaXMuX2FudGlhbGlhcywKICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy5fcHJlbXVsdGlwbHksCiAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRoaXMuX3ByZXNlcnZlQnVmZmVyCiAgICAgICAgfSwKICAgICAgICAgICAgYiA9IHRoaXMuX3dlYkdMQ29udGV4dCA9IHRoaXMuX2ZldGNoV2ViR0xDb250ZXh0KHRoaXMuY2FudmFzLCBhKTsKCiAgICAgICAgaWYgKCFiKSByZXR1cm4gbnVsbDsKICAgICAgICB0aGlzLnVwZGF0ZVNpbXVsdGFuZW91c1RleHR1cmVDb3VudChiLmdldFBhcmFtZXRlcihiLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSksIHRoaXMuX21heFRleHR1cmVTbG90cyA9IGIuZ2V0UGFyYW1ldGVyKGIuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCB0aGlzLl9jcmVhdGVCdWZmZXJzKGIpLCB0aGlzLl9pbml0VGV4dHVyZXMoYiksIGIuZGlzYWJsZShiLkRFUFRIX1RFU1QpLCBiLmVuYWJsZShiLkJMRU5EKSwgYi5ibGVuZEZ1bmNTZXBhcmF0ZShiLlNSQ19BTFBIQSwgYi5PTkVfTUlOVVNfU1JDX0FMUEhBLCBiLk9ORSwgYi5PTkVfTUlOVVNfU1JDX0FMUEhBKSwgYi5waXhlbFN0b3JlaShiLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5fcHJlbXVsdGlwbHkpLCB0aGlzLl93ZWJHTENvbnRleHQuY2xlYXJDb2xvcih0aGlzLl9jbGVhckNvbG9yLnIsIHRoaXMuX2NsZWFyQ29sb3IuZywgdGhpcy5fY2xlYXJDb2xvci5iLCB0aGlzLl9jbGVhckNvbG9yLmEpLCB0aGlzLnVwZGF0ZVZpZXdwb3J0KHRoaXMuX3ZpZXdwb3J0V2lkdGggfHwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0IHx8IHRoaXMuY2FudmFzLmhlaWdodCk7CiAgICAgIH0KICAgIH0gZWxzZSB0aGlzLl93ZWJHTENvbnRleHQgPSBudWxsOwoKICAgIHJldHVybiB0aGlzLl93ZWJHTENvbnRleHQ7CiAgfSwgYi51cGRhdGUgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKHRoaXMuY2FudmFzKSB7CiAgICAgIGlmICh0aGlzLnRpY2tPblVwZGF0ZSAmJiB0aGlzLnRpY2soYSksIHRoaXMuZGlzcGF0Y2hFdmVudCgiZHJhd3N0YXJ0IiksIHRoaXMuYXV0b0NsZWFyICYmIHRoaXMuY2xlYXIoKSwgdGhpcy5fd2ViR0xDb250ZXh0KSB0aGlzLl9iYXRjaERyYXcodGhpcywgdGhpcy5fd2ViR0xDb250ZXh0KSwgLTEgPT0gdGhpcy5fYXV0b1B1cmdlIHx8IHRoaXMuX2RyYXdJRCAlICh0aGlzLl9hdXRvUHVyZ2UgLyAyIHwgMCkgfHwgdGhpcy5wdXJnZVRleHR1cmVzKHRoaXMuX2F1dG9QdXJnZSk7ZWxzZSB7CiAgICAgICAgdmFyIGIgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgIGIuc2F2ZSgpLCB0aGlzLnVwZGF0ZUNvbnRleHQoYiksIHRoaXMuZHJhdyhiLCAhMSksIGIucmVzdG9yZSgpOwogICAgICB9CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgiZHJhd2VuZCIpOwogICAgfQogIH0sIGIuY2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5jYW52YXMpIGlmIChhLmlzV2ViR0xBY3RpdmUodGhpcy5fd2ViR0xDb250ZXh0KSkgewogICAgICB2YXIgYiA9IHRoaXMuX3dlYkdMQ29udGV4dCwKICAgICAgICAgIGMgPSB0aGlzLl9jbGVhckNvbG9yLAogICAgICAgICAgZCA9IHRoaXMuX3RyYW5zcGFyZW50ID8gYy5hIDogMTsKICAgICAgdGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IoYy5yICogZCwgYy5nICogZCwgYy5iICogZCwgZCksIGIuY2xlYXIoYi5DT0xPUl9CVUZGRVJfQklUKSwgdGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IoYy5yLCBjLmcsIGMuYiwgYy5hKTsKICAgIH0gZWxzZSB0aGlzLlN0YWdlX2NsZWFyKCk7CiAgfSwgYi5kcmF3ID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIGlmIChiID09PSB0aGlzLl93ZWJHTENvbnRleHQgJiYgYS5pc1dlYkdMQWN0aXZlKHRoaXMuX3dlYkdMQ29udGV4dCkpIHsKICAgICAgdmFyIGQgPSB0aGlzLl93ZWJHTENvbnRleHQ7CiAgICAgIHJldHVybiB0aGlzLl9iYXRjaERyYXcodGhpcywgZCwgYyksICEwOwogICAgfQoKICAgIHJldHVybiB0aGlzLlN0YWdlX2RyYXcoYiwgYyk7CiAgfSwgYi5jYWNoZURyYXcgPSBmdW5jdGlvbiAoYiwgYywgZCkgewogICAgaWYgKGEuaXNXZWJHTEFjdGl2ZSh0aGlzLl93ZWJHTENvbnRleHQpKSB7CiAgICAgIHZhciBlID0gdGhpcy5fd2ViR0xDb250ZXh0OwogICAgICByZXR1cm4gdGhpcy5fY2FjaGVEcmF3KGUsIGIsIGMsIGQpLCAhMDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfSwgYi5wcm90ZWN0VGV4dHVyZVNsb3QgPSBmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKGEgPiB0aGlzLl9tYXhUZXh0dXJlU2xvdHMgfHwgMCA+IGEpIHRocm93ICJTbG90IG91dHNpZGUgb2YgYWNjZXB0YWJsZSByYW5nZSI7CiAgICB0aGlzLl9zbG90QmxhY2tsaXN0W2FdID0gISFiOwogIH0sIGIuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB2YXIgZCwKICAgICAgICBlID0gITEsCiAgICAgICAgZiA9IHRoaXMuX3dlYkdMQ29udGV4dDsKICAgIGlmICh2b2lkIDAgIT09IGEuX19sYXN0UlQgJiYgYS5fX2xhc3RSVCA9PT0gYS5fX3J0QSAmJiAoZSA9ICEwKSwgZSA/ICh2b2lkIDAgPT09IGEuX19ydEIgPyBhLl9fcnRCID0gdGhpcy5nZXRSZW5kZXJCdWZmZXJUZXh0dXJlKGIsIGMpIDogKChiICE9IGEuX19ydEIuX3dpZHRoIHx8IGMgIT0gYS5fX3J0Qi5faGVpZ2h0KSAmJiB0aGlzLnJlc2l6ZVRleHR1cmUoYS5fX3J0QiwgYiwgYyksIHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhmKSksIGQgPSBhLl9fcnRCKSA6ICh2b2lkIDAgPT09IGEuX19ydEEgPyBhLl9fcnRBID0gdGhpcy5nZXRSZW5kZXJCdWZmZXJUZXh0dXJlKGIsIGMpIDogKChiICE9IGEuX19ydEEuX3dpZHRoIHx8IGMgIT0gYS5fX3J0QS5faGVpZ2h0KSAmJiB0aGlzLnJlc2l6ZVRleHR1cmUoYS5fX3J0QSwgYiwgYyksIHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhmKSksIGQgPSBhLl9fcnRBKSwgIWQpIHRocm93ICJQcm9ibGVtcyBjcmVhdGluZyByZW5kZXIgdGV4dHVyZXMsIGtub3duIGNhdXNlcyBpbmNsdWRlIHVzaW5nIHRvbyBtdWNoIFZSQU0gYnkgbm90IHJlbGVhc2luZyBXZWJHTCB0ZXh0dXJlIGluc3RhbmNlcyI7CiAgICByZXR1cm4gYS5fX2xhc3RSVCA9IGQsIGQ7CiAgfSwgYi5yZWxlYXNlVGV4dHVyZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiwgYzsKCiAgICBpZiAoYSkgewogICAgICBpZiAoYS5jaGlsZHJlbikgZm9yIChiID0gMCwgYyA9IGEuY2hpbGRyZW4ubGVuZ3RoOyBjID4gYjsgYisrKSB7CiAgICAgICAgdGhpcy5yZWxlYXNlVGV4dHVyZShhLmNoaWxkcmVuW2JdKTsKICAgICAgfQogICAgICBhLmNhY2hlQ2FudmFzICYmIGEudW5jYWNoZSgpOwogICAgICB2YXIgZCA9IHZvaWQgMDsKCiAgICAgIGlmICh2b2lkIDAgIT09IGEuX3N0b3JlSUQpIHsKICAgICAgICBpZiAoYSA9PT0gdGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbYS5fc3RvcmVJRF0pIHJldHVybiB0aGlzLl9raWxsVGV4dHVyZU9iamVjdChhKSwgdm9pZCAoYS5fc3RvcmVJRCA9IHZvaWQgMCk7CiAgICAgICAgZCA9IGE7CiAgICAgIH0gZWxzZSBpZiAoMiA9PT0gYS5fd2ViR0xSZW5kZXJTdHlsZSkgZCA9IGEuaW1hZ2U7ZWxzZSBpZiAoMSA9PT0gYS5fd2ViR0xSZW5kZXJTdHlsZSkgewogICAgICAgIGZvciAoYiA9IDAsIGMgPSBhLnNwcml0ZVNoZWV0Ll9pbWFnZXMubGVuZ3RoOyBjID4gYjsgYisrKSB7CiAgICAgICAgICB0aGlzLnJlbGVhc2VUZXh0dXJlKGEuc3ByaXRlU2hlZXQuX2ltYWdlc1tiXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh2b2lkIDAgPT09IGQpIHJldHVybiB2b2lkICh0aGlzLnZvY2FsRGVidWcgJiYgY29uc29sZS5sb2coIk5vIGFzc29jaWF0ZWQgdGV4dHVyZSBmb3VuZCBvbiByZWxlYXNlIikpOwogICAgICB0aGlzLl9raWxsVGV4dHVyZU9iamVjdCh0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtkLl9zdG9yZUlEXSksIGQuX3N0b3JlSUQgPSB2b2lkIDA7CiAgICB9CiAgfSwgYi5wdXJnZVRleHR1cmVzID0gZnVuY3Rpb24gKGEpIHsKICAgIHZvaWQgMCA9PSBhICYmIChhID0gMTAwKTsKCiAgICBmb3IgKHZhciBiID0gdGhpcy5fdGV4dHVyZURpY3Rpb25hcnksIGMgPSBiLmxlbmd0aCwgZCA9IDA7IGMgPiBkOyBkKyspIHsKICAgICAgdmFyIGUgPSBiW2RdOwogICAgICBlICYmIGUuX2RyYXdJRCArIGEgPD0gdGhpcy5fZHJhd0lEICYmIHRoaXMuX2tpbGxUZXh0dXJlT2JqZWN0KGUpOwogICAgfQogIH0sIGIudXBkYXRlU2ltdWx0YW5lb3VzVGV4dHVyZUNvdW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fd2ViR0xDb250ZXh0LAogICAgICAgIGMgPSAhMTsKCiAgICBmb3IgKCgxID4gYSB8fCBpc05hTihhKSkgJiYgKGEgPSAxKSwgdGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQgPSBhOyAhYzspIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSB0aGlzLl9mZXRjaFNoYWRlclByb2dyYW0oYiksIGMgPSAhMDsKICAgICAgfSBjYXRjaCAoZCkgewogICAgICAgIGlmICgxID09IHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50KSB0aHJvdyAiQ2Fubm90IGNvbXBpbGUgc2hhZGVyICIgKyBkOwogICAgICAgIHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50IC09IDQsIHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50IDwgMSAmJiAodGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQgPSAxKSwgdGhpcy52b2NhbERlYnVnICYmIGNvbnNvbGUubG9nKCJSZWR1Y2luZyBkZXNpcmVkIHRleHR1cmUgY291bnQgZHVlIHRvIGVycm9yczogIiArIHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50KTsKICAgICAgfQogICAgfQogIH0sIGIudXBkYXRlVmlld3BvcnQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy5fdmlld3BvcnRXaWR0aCA9IDAgfCBhLCB0aGlzLl92aWV3cG9ydEhlaWdodCA9IDAgfCBiOwogICAgdmFyIGMgPSB0aGlzLl93ZWJHTENvbnRleHQ7CiAgICBjICYmIChjLnZpZXdwb3J0KDAsIDAsIHRoaXMuX3ZpZXdwb3J0V2lkdGgsIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0KSwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeCA9IG5ldyBGbG9hdDMyQXJyYXkoWzIgLyB0aGlzLl92aWV3cG9ydFdpZHRoLCAwLCAwLCAwLCAwLCAtMiAvIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0LCAxLCAwLCAwLCAwLCAxLCAwLCAtMSwgMSwgLjEsIDBdKSwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeEZsaXAgPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSksIHRoaXMuX3Byb2plY3Rpb25NYXRyaXhGbGlwLnNldCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSwgdGhpcy5fcHJvamVjdGlvbk1hdHJpeEZsaXBbNV0gKj0gLTEsIHRoaXMuX3Byb2plY3Rpb25NYXRyaXhGbGlwWzEzXSAqPSAtMSk7CiAgfSwgYi5nZXRGaWx0ZXJTaGFkZXIgPSBmdW5jdGlvbiAoYSkgewogICAgYSB8fCAoYSA9IHRoaXMpOwogICAgdmFyIGIgPSB0aGlzLl93ZWJHTENvbnRleHQsCiAgICAgICAgYyA9IHRoaXMuX2FjdGl2ZVNoYWRlcjsKICAgIGlmIChhLl9idWlsdFNoYWRlcikgYyA9IGEuX2J1aWx0U2hhZGVyLCBhLnNoYWRlclBhcmFtU2V0dXAgJiYgKGIudXNlUHJvZ3JhbShjKSwgYS5zaGFkZXJQYXJhbVNldHVwKGIsIHRoaXMsIGMpKTtlbHNlIHRyeSB7CiAgICAgIGMgPSB0aGlzLl9mZXRjaFNoYWRlclByb2dyYW0oYiwgImZpbHRlciIsIGEuVlRYX1NIQURFUl9CT0RZLCBhLkZSQUdfU0hBREVSX0JPRFksIGEuc2hhZGVyUGFyYW1TZXR1cCAmJiBhLnNoYWRlclBhcmFtU2V0dXAuYmluZChhKSksIGEuX2J1aWx0U2hhZGVyID0gYywgYy5fbmFtZSA9IGEudG9TdHJpbmcoKTsKICAgIH0gY2F0Y2ggKGQpIHsKICAgICAgY29uc29sZSAmJiBjb25zb2xlLmxvZygiU0hBREVSIFNXSVRDSCBGQUlMVVJFIiwgZCk7CiAgICB9CiAgICByZXR1cm4gYzsKICB9LCBiLmdldEJhc2VUZXh0dXJlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gTWF0aC5jZWlsKGEgPiAwID8gYSA6IDEpIHx8IDEsCiAgICAgICAgZCA9IE1hdGguY2VpbChiID4gMCA/IGIgOiAxKSB8fCAxLAogICAgICAgIGUgPSB0aGlzLl93ZWJHTENvbnRleHQsCiAgICAgICAgZiA9IGUuY3JlYXRlVGV4dHVyZSgpOwogICAgcmV0dXJuIHRoaXMucmVzaXplVGV4dHVyZShmLCBjLCBkKSwgdGhpcy5zZXRUZXh0dXJlUGFyYW1zKGUsICExKSwgZjsKICB9LCBiLnJlc2l6ZVRleHR1cmUgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdmFyIGQgPSB0aGlzLl93ZWJHTENvbnRleHQ7CiAgICBkLmJpbmRUZXh0dXJlKGQuVEVYVFVSRV8yRCwgYSksIGQudGV4SW1hZ2UyRChkLlRFWFRVUkVfMkQsIDAsIGQuUkdCQSwgYiwgYywgMCwgZC5SR0JBLCBkLlVOU0lHTkVEX0JZVEUsIG51bGwpLCBhLndpZHRoID0gYiwgYS5oZWlnaHQgPSBjOwogIH0sIGIuZ2V0UmVuZGVyQnVmZmVyVGV4dHVyZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IHRoaXMuX3dlYkdMQ29udGV4dCwKICAgICAgICBkID0gdGhpcy5nZXRCYXNlVGV4dHVyZShhLCBiKTsKICAgIGlmICghZCkgcmV0dXJuIG51bGw7CiAgICB2YXIgZSA9IGMuY3JlYXRlRnJhbWVidWZmZXIoKTsKICAgIHJldHVybiBlID8gKGQud2lkdGggPSBhLCBkLmhlaWdodCA9IGIsIGMuYmluZEZyYW1lYnVmZmVyKGMuRlJBTUVCVUZGRVIsIGUpLCBjLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGMuRlJBTUVCVUZGRVIsIGMuQ09MT1JfQVRUQUNITUVOVDAsIGMuVEVYVFVSRV8yRCwgZCwgMCksIGUuX3JlbmRlclRleHR1cmUgPSBkLCBkLl9mcmFtZUJ1ZmZlciA9IGUsIGQuX3N0b3JlSUQgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeS5sZW5ndGgsIHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W2QuX3N0b3JlSURdID0gZCwgYy5iaW5kRnJhbWVidWZmZXIoYy5GUkFNRUJVRkZFUiwgbnVsbCksIGQpIDogbnVsbDsKICB9LCBiLnNldFRleHR1cmVQYXJhbXMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgYiAmJiB0aGlzLl9hbnRpYWxpYXMgPyAoYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCwgYS5URVhUVVJFX01JTl9GSUxURVIsIGEuTElORUFSKSwgYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCwgYS5URVhUVVJFX01BR19GSUxURVIsIGEuTElORUFSKSkgOiAoYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCwgYS5URVhUVVJFX01JTl9GSUxURVIsIGEuTkVBUkVTVCksIGEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfMkQsIGEuVEVYVFVSRV9NQUdfRklMVEVSLCBhLk5FQVJFU1QpKSwgYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCwgYS5URVhUVVJFX1dSQVBfUywgYS5DTEFNUF9UT19FREdFKSwgYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCwgYS5URVhUVVJFX1dSQVBfVCwgYS5DTEFNUF9UT19FREdFKTsKICB9LCBiLnNldENsZWFyQ29sb3IgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIsIGMsIGQsIGUsIGY7CiAgICAic3RyaW5nIiA9PSB0eXBlb2YgYSA/IDAgPT0gYS5pbmRleE9mKCIjIikgPyAoNCA9PSBhLmxlbmd0aCAmJiAoYSA9ICIjIiArIGEuY2hhckF0KDEpICsgYS5jaGFyQXQoMSkgKyBhLmNoYXJBdCgyKSArIGEuY2hhckF0KDIpICsgYS5jaGFyQXQoMykgKyBhLmNoYXJBdCgzKSksIGIgPSBOdW1iZXIoIjB4IiArIGEuc2xpY2UoMSwgMykpIC8gMjU1LCBjID0gTnVtYmVyKCIweCIgKyBhLnNsaWNlKDMsIDUpKSAvIDI1NSwgZCA9IE51bWJlcigiMHgiICsgYS5zbGljZSg1LCA3KSkgLyAyNTUsIGUgPSBOdW1iZXIoIjB4IiArIGEuc2xpY2UoNywgOSkpIC8gMjU1KSA6IDAgPT0gYS5pbmRleE9mKCJyZ2JhKCIpICYmIChmID0gYS5zbGljZSg1LCAtMSkuc3BsaXQoIiwiKSwgYiA9IE51bWJlcihmWzBdKSAvIDI1NSwgYyA9IE51bWJlcihmWzFdKSAvIDI1NSwgZCA9IE51bWJlcihmWzJdKSAvIDI1NSwgZSA9IE51bWJlcihmWzNdKSkgOiAoYiA9ICgoNDI3ODE5MDA4MCAmIGEpID4+PiAyNCkgLyAyNTUsIGMgPSAoKDE2NzExNjgwICYgYSkgPj4+IDE2KSAvIDI1NSwgZCA9ICgoNjUyODAgJiBhKSA+Pj4gOCkgLyAyNTUsIGUgPSAoMjU1ICYgYSkgLyAyNTUpLCB0aGlzLl9jbGVhckNvbG9yLnIgPSBiIHx8IDAsIHRoaXMuX2NsZWFyQ29sb3IuZyA9IGMgfHwgMCwgdGhpcy5fY2xlYXJDb2xvci5iID0gZCB8fCAwLCB0aGlzLl9jbGVhckNvbG9yLmEgPSBlIHx8IDAsIHRoaXMuX3dlYkdMQ29udGV4dCAmJiB0aGlzLl93ZWJHTENvbnRleHQuY2xlYXJDb2xvcih0aGlzLl9jbGVhckNvbG9yLnIsIHRoaXMuX2NsZWFyQ29sb3IuZywgdGhpcy5fY2xlYXJDb2xvci5iLCB0aGlzLl9jbGVhckNvbG9yLmEpOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltTdGFnZUdMIChuYW1lPSIgKyB0aGlzLm5hbWUgKyAiKV0iOwogIH0sIGIuX2ZldGNoV2ViR0xDb250ZXh0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjOwoKICAgIHRyeSB7CiAgICAgIGMgPSBhLmdldENvbnRleHQoIndlYmdsIiwgYikgfHwgYS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLCBiKTsKICAgIH0gY2F0Y2ggKGQpIHt9CgogICAgaWYgKGMpIGMudmlld3BvcnRXaWR0aCA9IGEud2lkdGgsIGMudmlld3BvcnRIZWlnaHQgPSBhLmhlaWdodDtlbHNlIHsKICAgICAgdmFyIGUgPSAiQ291bGQgbm90IGluaXRpYWxpemUgV2ViR0wiOwogICAgICBjb25zb2xlLmVycm9yID8gY29uc29sZS5lcnJvcihlKSA6IGNvbnNvbGUubG9nKGUpOwogICAgfQogICAgcmV0dXJuIGM7CiAgfSwgYi5fZmV0Y2hTaGFkZXJQcm9ncmFtID0gZnVuY3Rpb24gKGIsIGMsIGQsIGUsIGYpIHsKICAgIGIudXNlUHJvZ3JhbShudWxsKTsKICAgIHZhciBnLCBoOwoKICAgIHN3aXRjaCAoYykgewogICAgICBjYXNlICJmaWx0ZXIiOgogICAgICAgIGggPSBhLkNPVkVSX1ZFUlRFWF9IRUFERVIgKyAoZCB8fCBhLkNPVkVSX1ZFUlRFWF9CT0RZKSwgZyA9IGEuQ09WRVJfRlJBR01FTlRfSEVBREVSICsgKGUgfHwgYS5DT1ZFUl9GUkFHTUVOVF9CT0RZKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInBhcnRpY2xlIjoKICAgICAgICBoID0gYS5SRUdVTEFSX1ZFUlRFWF9IRUFERVIgKyBhLlBBUlRJQ0xFX1ZFUlRFWF9CT0RZLCBnID0gYS5SRUdVTEFSX0ZSQUdNRU5UX0hFQURFUiArIGEuUEFSVElDTEVfRlJBR01FTlRfQk9EWTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIm92ZXJyaWRlIjoKICAgICAgICBoID0gYS5SRUdVTEFSX1ZFUlRFWF9IRUFERVIgKyAoZCB8fCBhLlJFR1VMQVJfVkVSVEVYX0JPRFkpLCBnID0gYS5SRUdVTEFSX0ZSQUdNRU5UX0hFQURFUiArIChlIHx8IGEuUkVHVUxBUl9GUkFHTUVOVF9CT0RZKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInJlZ3VsYXIiOgogICAgICBkZWZhdWx0OgogICAgICAgIGggPSBhLlJFR1VMQVJfVkVSVEVYX0hFQURFUiArIGEuUkVHVUxBUl9WRVJURVhfQk9EWSwgZyA9IGEuUkVHVUxBUl9GUkFHTUVOVF9IRUFERVIgKyBhLlJFR1VMQVJfRlJBR01FTlRfQk9EWTsKICAgIH0KCiAgICB2YXIgaSA9IHRoaXMuX2NyZWF0ZVNoYWRlcihiLCBiLlZFUlRFWF9TSEFERVIsIGgpLAogICAgICAgIGogPSB0aGlzLl9jcmVhdGVTaGFkZXIoYiwgYi5GUkFHTUVOVF9TSEFERVIsIGcpLAogICAgICAgIGsgPSBiLmNyZWF0ZVByb2dyYW0oKTsKCiAgICBpZiAoYi5hdHRhY2hTaGFkZXIoaywgaSksIGIuYXR0YWNoU2hhZGVyKGssIGopLCBiLmxpbmtQcm9ncmFtKGspLCBrLl90eXBlID0gYywgIWIuZ2V0UHJvZ3JhbVBhcmFtZXRlcihrLCBiLkxJTktfU1RBVFVTKSkgdGhyb3cgYi51c2VQcm9ncmFtKHRoaXMuX2FjdGl2ZVNoYWRlciksIGIuZ2V0UHJvZ3JhbUluZm9Mb2coayk7CgogICAgc3dpdGNoIChiLnVzZVByb2dyYW0oayksIGMpIHsKICAgICAgY2FzZSAiZmlsdGVyIjoKICAgICAgICBrLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlID0gYi5nZXRBdHRyaWJMb2NhdGlvbihrLCAidmVydGV4UG9zaXRpb24iKSwgYi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShrLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlKSwgay51dlBvc2l0aW9uQXR0cmlidXRlID0gYi5nZXRBdHRyaWJMb2NhdGlvbihrLCAidXZQb3NpdGlvbiIpLCBiLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGsudXZQb3NpdGlvbkF0dHJpYnV0ZSksIGsuc2FtcGxlclVuaWZvcm0gPSBiLmdldFVuaWZvcm1Mb2NhdGlvbihrLCAidVNhbXBsZXIiKSwgYi51bmlmb3JtMWkoay5zYW1wbGVyVW5pZm9ybSwgMCksIGsudXByaWdodFVuaWZvcm0gPSBiLmdldFVuaWZvcm1Mb2NhdGlvbihrLCAidVVwcmlnaHQiKSwgYi51bmlmb3JtMWYoay51cHJpZ2h0VW5pZm9ybSwgMCksIGYgJiYgZihiLCB0aGlzLCBrKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIm92ZXJyaWRlIjoKICAgICAgY2FzZSAicGFydGljbGUiOgogICAgICBjYXNlICJyZWd1bGFyIjoKICAgICAgZGVmYXVsdDoKICAgICAgICBrLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlID0gYi5nZXRBdHRyaWJMb2NhdGlvbihrLCAidmVydGV4UG9zaXRpb24iKSwgYi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShrLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlKSwgay51dlBvc2l0aW9uQXR0cmlidXRlID0gYi5nZXRBdHRyaWJMb2NhdGlvbihrLCAidXZQb3NpdGlvbiIpLCBiLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGsudXZQb3NpdGlvbkF0dHJpYnV0ZSksIGsudGV4dHVyZUluZGV4QXR0cmlidXRlID0gYi5nZXRBdHRyaWJMb2NhdGlvbihrLCAidGV4dHVyZUluZGV4IiksIGIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoay50ZXh0dXJlSW5kZXhBdHRyaWJ1dGUpLCBrLmFscGhhQXR0cmlidXRlID0gYi5nZXRBdHRyaWJMb2NhdGlvbihrLCAib2JqZWN0QWxwaGEiKSwgYi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShrLmFscGhhQXR0cmlidXRlKTsKCiAgICAgICAgZm9yICh2YXIgbCA9IFtdLCBtID0gMDsgbSA8IHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50OyBtKyspIHsKICAgICAgICAgIGxbbV0gPSBtOwogICAgICAgIH0KCiAgICAgICAgay5zYW1wbGVyRGF0YSA9IGwsIGsuc2FtcGxlclVuaWZvcm0gPSBiLmdldFVuaWZvcm1Mb2NhdGlvbihrLCAidVNhbXBsZXIiKSwgYi51bmlmb3JtMWl2KGsuc2FtcGxlclVuaWZvcm0sIGwpLCBrLnBNYXRyaXhVbmlmb3JtID0gYi5nZXRVbmlmb3JtTG9jYXRpb24oaywgInBNYXRyaXgiKTsKICAgIH0KCiAgICByZXR1cm4gYi51c2VQcm9ncmFtKHRoaXMuX2FjdGl2ZVNoYWRlciksIGs7CiAgfSwgYi5fY3JlYXRlU2hhZGVyID0gZnVuY3Rpb24gKGIsIGMsIGQpIHsKICAgIGQgPSBkLnJlcGxhY2UoL3t7Y291bnR9fS9nLCB0aGlzLl9iYXRjaFRleHR1cmVDb3VudCk7CgogICAgZm9yICh2YXIgZSA9ICIiLCBmID0gMTsgZiA8IHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50OyBmKyspIHsKICAgICAgZSArPSAifSBlbHNlIGlmIChpbmRleFBpY2tlciA8PSAiICsgZiArICIuNSkgeyBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlclsiICsgZiArICJdLCB2VGV4dHVyZUNvb3JkKTsiOwogICAgfQoKICAgIGQgPSBkLnJlcGxhY2UoL3t7YWx0ZXJuYXRlc319L2csIGUpLCBkID0gZC5yZXBsYWNlKC97e2ZyYWdDb2xvcn19L2csIHRoaXMuX3ByZW11bHRpcGx5ID8gYS5SRUdVTEFSX0ZSQUdfQ09MT1JfUFJFTVVMVElQTFkgOiBhLlJFR1VMQVJfRlJBR19DT0xPUl9OT1JNQUwpOwogICAgdmFyIGcgPSBiLmNyZWF0ZVNoYWRlcihjKTsKICAgIGlmIChiLnNoYWRlclNvdXJjZShnLCBkKSwgYi5jb21waWxlU2hhZGVyKGcpLCAhYi5nZXRTaGFkZXJQYXJhbWV0ZXIoZywgYi5DT01QSUxFX1NUQVRVUykpIHRocm93IGIuZ2V0U2hhZGVySW5mb0xvZyhnKTsKICAgIHJldHVybiBnOwogIH0sIGIuX2NyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMsCiAgICAgICAgZCwKICAgICAgICBlLAogICAgICAgIGYgPSB0aGlzLl9tYXhDYXJkc1BlckJhdGNoICogYS5JTkRJQ0lFU19QRVJfQ0FSRCwKICAgICAgICBnID0gdGhpcy5fdmVydGV4UG9zaXRpb25CdWZmZXIgPSBiLmNyZWF0ZUJ1ZmZlcigpOwogICAgYi5iaW5kQnVmZmVyKGIuQVJSQVlfQlVGRkVSLCBnKSwgYyA9IDI7CiAgICB2YXIgaCA9IHRoaXMuX3ZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShmICogYyk7CgogICAgZm9yIChkID0gMCwgZSA9IGgubGVuZ3RoOyBlID4gZDsgZCArPSBjKSB7CiAgICAgIGhbZF0gPSBoW2QgKyAxXSA9IDA7CiAgICB9CgogICAgYi5idWZmZXJEYXRhKGIuQVJSQVlfQlVGRkVSLCBoLCBiLkRZTkFNSUNfRFJBVyksIGcuaXRlbVNpemUgPSBjLCBnLm51bUl0ZW1zID0gZjsKICAgIHZhciBpID0gdGhpcy5fdXZQb3NpdGlvbkJ1ZmZlciA9IGIuY3JlYXRlQnVmZmVyKCk7CiAgICBiLmJpbmRCdWZmZXIoYi5BUlJBWV9CVUZGRVIsIGkpLCBjID0gMjsKICAgIHZhciBqID0gdGhpcy5fdXZzID0gbmV3IEZsb2F0MzJBcnJheShmICogYyk7CgogICAgZm9yIChkID0gMCwgZSA9IGoubGVuZ3RoOyBlID4gZDsgZCArPSBjKSB7CiAgICAgIGpbZF0gPSBqW2QgKyAxXSA9IDA7CiAgICB9CgogICAgYi5idWZmZXJEYXRhKGIuQVJSQVlfQlVGRkVSLCBqLCBiLkRZTkFNSUNfRFJBVyksIGkuaXRlbVNpemUgPSBjLCBpLm51bUl0ZW1zID0gZjsKICAgIHZhciBrID0gdGhpcy5fdGV4dHVyZUluZGV4QnVmZmVyID0gYi5jcmVhdGVCdWZmZXIoKTsKICAgIGIuYmluZEJ1ZmZlcihiLkFSUkFZX0JVRkZFUiwgayksIGMgPSAxOwogICAgdmFyIGwgPSB0aGlzLl9pbmRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShmICogYyk7CgogICAgZm9yIChkID0gMCwgZSA9IGwubGVuZ3RoOyBlID4gZDsgZCsrKSB7CiAgICAgIGxbZF0gPSAwOwogICAgfQoKICAgIGIuYnVmZmVyRGF0YShiLkFSUkFZX0JVRkZFUiwgbCwgYi5EWU5BTUlDX0RSQVcpLCBrLml0ZW1TaXplID0gYywgay5udW1JdGVtcyA9IGY7CiAgICB2YXIgbSA9IHRoaXMuX2FscGhhQnVmZmVyID0gYi5jcmVhdGVCdWZmZXIoKTsKICAgIGIuYmluZEJ1ZmZlcihiLkFSUkFZX0JVRkZFUiwgbSksIGMgPSAxOwogICAgdmFyIG4gPSB0aGlzLl9hbHBoYXMgPSBuZXcgRmxvYXQzMkFycmF5KGYgKiBjKTsKCiAgICBmb3IgKGQgPSAwLCBlID0gbi5sZW5ndGg7IGUgPiBkOyBkKyspIHsKICAgICAgbltkXSA9IDE7CiAgICB9CgogICAgYi5idWZmZXJEYXRhKGIuQVJSQVlfQlVGRkVSLCBuLCBiLkRZTkFNSUNfRFJBVyksIG0uaXRlbVNpemUgPSBjLCBtLm51bUl0ZW1zID0gZjsKICB9LCBiLl9pbml0VGV4dHVyZXMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9sYXN0VGV4dHVyZUluc2VydCA9IC0xLCB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeSA9IFtdLCB0aGlzLl90ZXh0dXJlSURzID0ge30sIHRoaXMuX2Jhc2VUZXh0dXJlcyA9IFtdLCB0aGlzLl9iYXRjaFRleHR1cmVzID0gW107CgogICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLl9iYXRjaFRleHR1cmVDb3VudDsgYSsrKSB7CiAgICAgIHZhciBiID0gdGhpcy5nZXRCYXNlVGV4dHVyZSgpOwogICAgICBpZiAodGhpcy5fYmFzZVRleHR1cmVzW2FdID0gdGhpcy5fYmF0Y2hUZXh0dXJlc1thXSA9IGIsICFiKSB0aHJvdyAiUHJvYmxlbXMgY3JlYXRpbmcgYmFzaWMgdGV4dHVyZXMsIGtub3duIGNhdXNlcyBpbmNsdWRlIHVzaW5nIHRvbyBtdWNoIFZSQU0gYnkgbm90IHJlbGVhc2luZyBXZWJHTCB0ZXh0dXJlIGluc3RhbmNlcyI7CiAgICB9CiAgfSwgYi5fbG9hZFRleHR1cmVJbWFnZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IGIuc3JjOwogICAgYyB8fCAoYi5faXNDYW52YXMgPSAhMCwgYyA9IGIuc3JjID0gImNhbnZhc18iICsgdGhpcy5fbGFzdFRyYWNrZWRDYW52YXMrKyk7CiAgICB2YXIgZCA9IHRoaXMuX3RleHR1cmVJRHNbY107CiAgICB2b2lkIDAgPT09IGQgJiYgKGQgPSB0aGlzLl90ZXh0dXJlSURzW2NdID0gdGhpcy5fdGV4dHVyZURpY3Rpb25hcnkubGVuZ3RoKSwgdm9pZCAwID09PSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtkXSAmJiAodGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbZF0gPSB0aGlzLmdldEJhc2VUZXh0dXJlKCkpOwogICAgdmFyIGUgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtkXTsKICAgIGlmIChlKSBlLl9iYXRjaElEID0gdGhpcy5fYmF0Y2hJRCwgZS5fc3RvcmVJRCA9IGQsIGUuX2ltYWdlRGF0YSA9IGIsIHRoaXMuX2luc2VydFRleHR1cmVJbkJhdGNoKGEsIGUpLCBiLl9zdG9yZUlEID0gZCwgYi5jb21wbGV0ZSB8fCBiLm5hdHVyYWxXaWR0aCB8fCBiLl9pc0NhbnZhcyA/IHRoaXMuX3VwZGF0ZVRleHR1cmVJbWFnZURhdGEoYSwgYikgOiBiLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhLmJpbmQodGhpcywgYSwgYikpO2Vsc2UgewogICAgICB2YXIgZiA9ICJQcm9ibGVtIGNyZWF0aW5nIGRlc2lyZWQgdGV4dHVyZSwga25vd24gY2F1c2VzIGluY2x1ZGUgdXNpbmcgdG9vIG11Y2ggVlJBTSBieSBub3QgcmVsZWFzaW5nIFdlYkdMIHRleHR1cmUgaW5zdGFuY2VzIjsKICAgICAgY29uc29sZS5lcnJvciAmJiBjb25zb2xlLmVycm9yKGYpIHx8IGNvbnNvbGUubG9nKGYpLCBlID0gdGhpcy5fYmFzZVRleHR1cmVzWzBdLCBlLl9iYXRjaElEID0gdGhpcy5fYmF0Y2hJRCwgZS5fc3RvcmVJRCA9IC0xLCBlLl9pbWFnZURhdGEgPSBlLCB0aGlzLl9pbnNlcnRUZXh0dXJlSW5CYXRjaChhLCBlKTsKICAgIH0KICAgIHJldHVybiBlOwogIH0sIGIuX3VwZGF0ZVRleHR1cmVJbWFnZURhdGEgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSBiLndpZHRoICYgYi53aWR0aCAtIDEgfHwgYi5oZWlnaHQgJiBiLmhlaWdodCAtIDEsCiAgICAgICAgZCA9IHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W2IuX3N0b3JlSURdOwogICAgYS5hY3RpdmVUZXh0dXJlKGEuVEVYVFVSRTAgKyBkLl9hY3RpdmVJbmRleCksIGEuYmluZFRleHR1cmUoYS5URVhUVVJFXzJELCBkKSwgZC5pc1BPVCA9ICFjLCB0aGlzLnNldFRleHR1cmVQYXJhbXMoYSwgZC5pc1BPVCk7CgogICAgdHJ5IHsKICAgICAgYS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwgMCwgYS5SR0JBLCBhLlJHQkEsIGEuVU5TSUdORURfQllURSwgYik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHZhciBmID0gIlxuQW4gZXJyb3IgaGFzIG9jY3VycmVkLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBzZWN1cml0eSByZXN0cmljdGlvbnMgb24gV2ViR0wgaW1hZ2VzIHdpdGggbG9jYWwgb3IgY3Jvc3MtZG9tYWluIG9yaWdpbnMiOwogICAgICBjb25zb2xlLmVycm9yID8gKGNvbnNvbGUuZXJyb3IoZiksIGNvbnNvbGUuZXJyb3IoZSkpIDogY29uc29sZSAmJiAoY29uc29sZS5sb2coZiksIGNvbnNvbGUubG9nKGUpKTsKICAgIH0KCiAgICBiLl9pbnZhbGlkID0gITEsIGQuX3cgPSBiLndpZHRoLCBkLl9oID0gYi5oZWlnaHQsIHRoaXMudm9jYWxEZWJ1ZyAmJiAoYyAmJiBjb25zb2xlLndhcm4oIk5QT1QoTm9uIFBvd2VyIG9mIFR3bykgVGV4dHVyZTogIiArIGIuc3JjKSwgKGIud2lkdGggPiBhLk1BWF9URVhUVVJFX1NJWkUgfHwgYi5oZWlnaHQgPiBhLk1BWF9URVhUVVJFX1NJWkUpICYmIGNvbnNvbGUgJiYgY29uc29sZS5lcnJvcigiT3ZlcnNpemVkIFRleHR1cmU6ICIgKyBiLndpZHRoICsgIngiICsgYi5oZWlnaHQgKyAiIHZzICIgKyBhLk1BWF9URVhUVVJFX1NJWkUgKyAibWF4IikpOwogIH0sIGIuX2luc2VydFRleHR1cmVJbkJhdGNoID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmICh0aGlzLl9iYXRjaFRleHR1cmVzW2IuX2FjdGl2ZUluZGV4XSAhPT0gYikgewogICAgICB2YXIgYyA9IC0xLAogICAgICAgICAgZCA9ICh0aGlzLl9sYXN0VGV4dHVyZUluc2VydCArIDEpICUgdGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQsCiAgICAgICAgICBlID0gZDsKCiAgICAgIGRvIHsKICAgICAgICBpZiAodGhpcy5fYmF0Y2hUZXh0dXJlc1tlXS5fYmF0Y2hJRCAhPSB0aGlzLl9iYXRjaElEICYmICF0aGlzLl9zbG90QmxhY2tsaXN0W2VdKSB7CiAgICAgICAgICBjID0gZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgZSA9IChlICsgMSkgJSB0aGlzLl9iYXRjaFRleHR1cmVDb3VudDsKICAgICAgfSB3aGlsZSAoZSAhPT0gZCk7CgogICAgICAtMSA9PT0gYyAmJiAodGhpcy5iYXRjaFJlYXNvbiA9ICJ0ZXh0dXJlT3ZlcmZsb3ciLCB0aGlzLl9kcmF3QnVmZmVycyhhKSwgdGhpcy5iYXRjaENhcmRDb3VudCA9IDAsIGMgPSBkKSwgdGhpcy5fYmF0Y2hUZXh0dXJlc1tjXSA9IGIsIGIuX2FjdGl2ZUluZGV4ID0gYzsKICAgICAgdmFyIGYgPSBiLl9pbWFnZURhdGE7CiAgICAgIGYgJiYgZi5faW52YWxpZCAmJiB2b2lkIDAgIT09IGIuX2RyYXdJRCA/IHRoaXMuX3VwZGF0ZVRleHR1cmVJbWFnZURhdGEoYSwgZikgOiAoYS5hY3RpdmVUZXh0dXJlKGEuVEVYVFVSRTAgKyBjKSwgYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsIGIpLCB0aGlzLnNldFRleHR1cmVQYXJhbXMoYSkpLCB0aGlzLl9sYXN0VGV4dHVyZUluc2VydCA9IGM7CiAgICB9IGVsc2UgewogICAgICB2YXIgZiA9IGIuX2ltYWdlRGF0YTsKICAgICAgdm9pZCAwICE9IGIuX3N0b3JlSUQgJiYgZiAmJiBmLl9pbnZhbGlkICYmIHRoaXMuX3VwZGF0ZVRleHR1cmVJbWFnZURhdGEoYSwgZik7CiAgICB9CgogICAgYi5fZHJhd0lEID0gdGhpcy5fZHJhd0lELCBiLl9iYXRjaElEID0gdGhpcy5fYmF0Y2hJRDsKICB9LCBiLl9raWxsVGV4dHVyZU9iamVjdCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoYSkgewogICAgICB2YXIgYiA9IHRoaXMuX3dlYkdMQ29udGV4dDsKCiAgICAgIGlmICh2b2lkIDAgIT09IGEuX3N0b3JlSUQgJiYgYS5fc3RvcmVJRCA+PSAwKSB7CiAgICAgICAgdGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbYS5fc3RvcmVJRF0gPSB2b2lkIDA7CgogICAgICAgIGZvciAodmFyIGMgaW4gdGhpcy5fdGV4dHVyZUlEcykgewogICAgICAgICAgdGhpcy5fdGV4dHVyZUlEc1tjXSA9PSBhLl9zdG9yZUlEICYmIGRlbGV0ZSB0aGlzLl90ZXh0dXJlSURzW2NdOwogICAgICAgIH0KCiAgICAgICAgYS5faW1hZ2VEYXRhICYmIChhLl9pbWFnZURhdGEuX3N0b3JlSUQgPSB2b2lkIDApLCBhLl9pbWFnZURhdGEgPSBhLl9zdG9yZUlEID0gdm9pZCAwOwogICAgICB9CgogICAgICB2b2lkIDAgIT09IGEuX2FjdGl2ZUluZGV4ICYmIHRoaXMuX2JhdGNoVGV4dHVyZXNbYS5fYWN0aXZlSW5kZXhdID09PSBhICYmICh0aGlzLl9iYXRjaFRleHR1cmVzW2EuX2FjdGl2ZUluZGV4XSA9IHRoaXMuX2Jhc2VUZXh0dXJlc1thLl9hY3RpdmVJbmRleF0pOwoKICAgICAgdHJ5IHsKICAgICAgICBhLl9mcmFtZUJ1ZmZlciAmJiBiLmRlbGV0ZUZyYW1lYnVmZmVyKGEuX2ZyYW1lQnVmZmVyKSwgYS5fZnJhbWVCdWZmZXIgPSB2b2lkIDA7CiAgICAgIH0gY2F0Y2ggKGQpIHsKICAgICAgICB0aGlzLnZvY2FsRGVidWcgJiYgY29uc29sZS5sb2coZCk7CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgYi5kZWxldGVUZXh0dXJlKGEpOwogICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgdGhpcy52b2NhbERlYnVnICYmIGNvbnNvbGUubG9nKGQpOwogICAgICB9CiAgICB9CiAgfSwgYi5fYmFja3VwQmF0Y2hUZXh0dXJlcyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IHRoaXMuX3dlYkdMQ29udGV4dDsKICAgIHRoaXMuX2JhY2t1cFRleHR1cmVzIHx8ICh0aGlzLl9iYWNrdXBUZXh0dXJlcyA9IFtdKSwgdm9pZCAwID09PSBiICYmIChiID0gdGhpcy5fYmFja3VwVGV4dHVyZXMpOwoKICAgIGZvciAodmFyIGQgPSAwOyBkIDwgdGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7IGQrKykgewogICAgICBjLmFjdGl2ZVRleHR1cmUoYy5URVhUVVJFMCArIGQpLCBhID8gdGhpcy5fYmF0Y2hUZXh0dXJlc1tkXSA9IGJbZF0gOiAoYltkXSA9IHRoaXMuX2JhdGNoVGV4dHVyZXNbZF0sIHRoaXMuX2JhdGNoVGV4dHVyZXNbZF0gPSB0aGlzLl9iYXNlVGV4dHVyZXNbZF0pLCBjLmJpbmRUZXh0dXJlKGMuVEVYVFVSRV8yRCwgdGhpcy5fYmF0Y2hUZXh0dXJlc1tkXSksIHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhjLCB0aGlzLl9iYXRjaFRleHR1cmVzW2RdLmlzUE9UKTsKICAgIH0KCiAgICBhICYmIGIgPT09IHRoaXMuX2JhY2t1cFRleHR1cmVzICYmICh0aGlzLl9iYWNrdXBUZXh0dXJlcyA9IFtdKTsKICB9LCBiLl9iYXRjaERyYXcgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdGhpcy5faXNEcmF3aW5nID4gMCAmJiB0aGlzLl9kcmF3QnVmZmVycyhiKSwgdGhpcy5faXNEcmF3aW5nKyssIHRoaXMuX2RyYXdJRCsrLCB0aGlzLmJhdGNoQ2FyZENvdW50ID0gMCwgdGhpcy5kZXB0aCA9IDAsIHRoaXMuX2FwcGVuZFRvQmF0Y2hHcm91cChhLCBiLCBuZXcgY3JlYXRlanMuTWF0cml4MkQoKSwgdGhpcy5hbHBoYSwgYyksIHRoaXMuYmF0Y2hSZWFzb24gPSAiZHJhd0ZpbmlzaCIsIHRoaXMuX2RyYXdCdWZmZXJzKGIpLCB0aGlzLl9pc0RyYXdpbmctLTsKICB9LCBiLl9jYWNoZURyYXcgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgdmFyIGUsCiAgICAgICAgZiA9IHRoaXMuX2FjdGl2ZVNoYWRlciwKICAgICAgICBnID0gdGhpcy5fc2xvdEJsYWNrbGlzdCwKICAgICAgICBoID0gdGhpcy5fbWF4VGV4dHVyZVNsb3RzIC0gMSwKICAgICAgICBpID0gdGhpcy5fdmlld3BvcnRXaWR0aCwKICAgICAgICBqID0gdGhpcy5fdmlld3BvcnRIZWlnaHQ7CiAgICB0aGlzLnByb3RlY3RUZXh0dXJlU2xvdChoLCAhMCk7CiAgICB2YXIgayA9IGIuZ2V0TWF0cml4KCk7CiAgICBrID0gay5jbG9uZSgpLCBrLnNjYWxlKDEgLyBkLnNjYWxlLCAxIC8gZC5zY2FsZSksIGsgPSBrLmludmVydCgpLCBrLnRyYW5zbGF0ZSgtZC5vZmZYIC8gZC5zY2FsZSAqIGIuc2NhbGVYLCAtZC5vZmZZIC8gZC5zY2FsZSAqIGIuc2NhbGVZKTsKICAgIHZhciBsID0gdGhpcy5fY2FjaGVDb250YWluZXI7CiAgICBsLmNoaWxkcmVuID0gW2JdLCBsLnRyYW5zZm9ybU1hdHJpeCA9IGssIHRoaXMuX2JhY2t1cEJhdGNoVGV4dHVyZXMoITEpLCBjICYmIGMubGVuZ3RoID8gdGhpcy5fZHJhd0ZpbHRlcnMoYiwgYywgZCkgOiB0aGlzLmlzQ2FjaGVDb250cm9sbGVkID8gKGEuY2xlYXIoYS5DT0xPUl9CVUZGRVJfQklUKSwgdGhpcy5fYmF0Y2hEcmF3KGwsIGEsICEwKSkgOiAoYS5hY3RpdmVUZXh0dXJlKGEuVEVYVFVSRTAgKyBoKSwgYi5jYWNoZUNhbnZhcyA9IHRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZShiLCBkLl9kcmF3V2lkdGgsIGQuX2RyYXdIZWlnaHQpLCBlID0gYi5jYWNoZUNhbnZhcywgYS5iaW5kRnJhbWVidWZmZXIoYS5GUkFNRUJVRkZFUiwgZS5fZnJhbWVCdWZmZXIpLCB0aGlzLnVwZGF0ZVZpZXdwb3J0KGQuX2RyYXdXaWR0aCwgZC5fZHJhd0hlaWdodCksIHRoaXMuX3Byb2plY3Rpb25NYXRyaXggPSB0aGlzLl9wcm9qZWN0aW9uTWF0cml4RmxpcCwgYS5jbGVhcihhLkNPTE9SX0JVRkZFUl9CSVQpLCB0aGlzLl9iYXRjaERyYXcobCwgYSwgITApLCBhLmJpbmRGcmFtZWJ1ZmZlcihhLkZSQU1FQlVGRkVSLCBudWxsKSwgdGhpcy51cGRhdGVWaWV3cG9ydChpLCBqKSksIHRoaXMuX2JhY2t1cEJhdGNoVGV4dHVyZXMoITApLCB0aGlzLnByb3RlY3RUZXh0dXJlU2xvdChoLCAhMSksIHRoaXMuX2FjdGl2ZVNoYWRlciA9IGYsIHRoaXMuX3Nsb3RCbGFja2xpc3QgPSBnOwogIH0sIGIuX2RyYXdGaWx0ZXJzID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHZhciBkLAogICAgICAgIGUgPSB0aGlzLl93ZWJHTENvbnRleHQsCiAgICAgICAgZiA9IHRoaXMuX21heFRleHR1cmVTbG90cyAtIDEsCiAgICAgICAgZyA9IHRoaXMuX3ZpZXdwb3J0V2lkdGgsCiAgICAgICAgaCA9IHRoaXMuX3ZpZXdwb3J0SGVpZ2h0LAogICAgICAgIGkgPSB0aGlzLl9jYWNoZUNvbnRhaW5lciwKICAgICAgICBqID0gYi5sZW5ndGg7CiAgICBlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCArIGYpLCBkID0gdGhpcy5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlKGEsIGMuX2RyYXdXaWR0aCwgYy5fZHJhd0hlaWdodCksIGUuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsIGQuX2ZyYW1lQnVmZmVyKSwgdGhpcy51cGRhdGVWaWV3cG9ydChjLl9kcmF3V2lkdGgsIGMuX2RyYXdIZWlnaHQpLCBlLmNsZWFyKGUuQ09MT1JfQlVGRkVSX0JJVCksIHRoaXMuX2JhdGNoRHJhdyhpLCBlLCAhMCksIGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSwgZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsIGQpLCB0aGlzLnNldFRleHR1cmVQYXJhbXMoZSk7CiAgICB2YXIgayA9ICExLAogICAgICAgIGwgPSAwLAogICAgICAgIG0gPSBiW2xdOwoKICAgIGRvIHsKICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gdGhpcy5nZXRGaWx0ZXJTaGFkZXIobSksIHRoaXMuX2FjdGl2ZVNoYWRlciAmJiAoZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTAgKyBmKSwgZCA9IHRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZShhLCBjLl9kcmF3V2lkdGgsIGMuX2RyYXdIZWlnaHQpLCBlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLCBkLl9mcmFtZUJ1ZmZlciksIGUudmlld3BvcnQoMCwgMCwgYy5fZHJhd1dpZHRoLCBjLl9kcmF3SGVpZ2h0KSwgZS5jbGVhcihlLkNPTE9SX0JVRkZFUl9CSVQpLCB0aGlzLl9kcmF3Q292ZXIoZSwgayksIGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSwgZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsIGQpLCB0aGlzLnNldFRleHR1cmVQYXJhbXMoZSksIChqID4gMSB8fCBiWzBdLl9tdWx0aVBhc3MpICYmIChrID0gIWspLCBtID0gbnVsbCAhPT0gbS5fbXVsdGlQYXNzID8gbS5fbXVsdGlQYXNzIDogYlsrK2xdKTsKICAgIH0gd2hpbGUgKG0pOwoKICAgIHRoaXMuaXNDYWNoZUNvbnRyb2xsZWQgPyAoZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUiwgbnVsbCksIHRoaXMudXBkYXRlVmlld3BvcnQoZywgaCksIHRoaXMuX2FjdGl2ZVNoYWRlciA9IHRoaXMuZ2V0RmlsdGVyU2hhZGVyKHRoaXMpLCBlLmNsZWFyKGUuQ09MT1JfQlVGRkVSX0JJVCksIHRoaXMuX2RyYXdDb3ZlcihlLCBrKSkgOiAoayAmJiAoZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTAgKyBmKSwgZCA9IHRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZShhLCBjLl9kcmF3V2lkdGgsIGMuX2RyYXdIZWlnaHQpLCBlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLCBkLl9mcmFtZUJ1ZmZlciksIHRoaXMuX2FjdGl2ZVNoYWRlciA9IHRoaXMuZ2V0RmlsdGVyU2hhZGVyKHRoaXMpLCBlLnZpZXdwb3J0KDAsIDAsIGMuX2RyYXdXaWR0aCwgYy5fZHJhd0hlaWdodCksIGUuY2xlYXIoZS5DT0xPUl9CVUZGRVJfQklUKSwgdGhpcy5fZHJhd0NvdmVyKGUsICFrKSksIGUuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsIG51bGwpLCB0aGlzLnVwZGF0ZVZpZXdwb3J0KGcsIGgpLCBhLmNhY2hlQ2FudmFzID0gZCk7CiAgfSwgYi5fYXBwZW5kVG9CYXRjaEdyb3VwID0gZnVuY3Rpb24gKGIsIGMsIGQsIGUsIGYpIHsKICAgIGIuX2dsTXR4IHx8IChiLl9nbE10eCA9IG5ldyBjcmVhdGVqcy5NYXRyaXgyRCgpKTsKICAgIHZhciBnID0gYi5fZ2xNdHg7CiAgICBnLmNvcHkoZCksIGIudHJhbnNmb3JtTWF0cml4ID8gZy5hcHBlbmRNYXRyaXgoYi50cmFuc2Zvcm1NYXRyaXgpIDogZy5hcHBlbmRUcmFuc2Zvcm0oYi54LCBiLnksIGIuc2NhbGVYLCBiLnNjYWxlWSwgYi5yb3RhdGlvbiwgYi5za2V3WCwgYi5za2V3WSwgYi5yZWdYLCBiLnJlZ1kpOwoKICAgIGZvciAodmFyIGgsIGksIGosIGssIGwgPSBiLmNoaWxkcmVuLmxlbmd0aCwgbSA9IDA7IGwgPiBtOyBtKyspIHsKICAgICAgdmFyIG4gPSBiLmNoaWxkcmVuW21dOwogICAgICBpZiAobi52aXNpYmxlICYmIGUpIGlmIChuLmNhY2hlQ2FudmFzICYmICFmIHx8IChuLl91cGRhdGVTdGF0ZSAmJiBuLl91cGRhdGVTdGF0ZSgpLCAhbi5jaGlsZHJlbikpIHsKICAgICAgICB0aGlzLmJhdGNoQ2FyZENvdW50ICsgMSA+IHRoaXMuX21heENhcmRzUGVyQmF0Y2ggJiYgKHRoaXMuYmF0Y2hSZWFzb24gPSAidmVydGV4T3ZlcmZsb3ciLCB0aGlzLl9kcmF3QnVmZmVycyhjKSwgdGhpcy5iYXRjaENhcmRDb3VudCA9IDApLCBuLl9nbE10eCB8fCAobi5fZ2xNdHggPSBuZXcgY3JlYXRlanMuTWF0cml4MkQoKSk7CiAgICAgICAgdmFyIG8gPSBuLl9nbE10eDsKICAgICAgICBvLmNvcHkoZyksIG4udHJhbnNmb3JtTWF0cml4ID8gby5hcHBlbmRNYXRyaXgobi50cmFuc2Zvcm1NYXRyaXgpIDogby5hcHBlbmRUcmFuc2Zvcm0obi54LCBuLnksIG4uc2NhbGVYLCBuLnNjYWxlWSwgbi5yb3RhdGlvbiwgbi5za2V3WCwgbi5za2V3WSwgbi5yZWdYLCBuLnJlZ1kpOwogICAgICAgIHZhciBwLAogICAgICAgICAgICBxLAogICAgICAgICAgICByLAogICAgICAgICAgICBzLAogICAgICAgICAgICB0LAogICAgICAgICAgICB1LAogICAgICAgICAgICB2ID0gbi5jYWNoZUNhbnZhcyAmJiAhZjsKICAgICAgICBpZiAoMiA9PT0gbi5fd2ViR0xSZW5kZXJTdHlsZSB8fCB2KSByID0gKGYgPyAhMSA6IG4uY2FjaGVDYW52YXMpIHx8IG4uaW1hZ2U7ZWxzZSB7CiAgICAgICAgICBpZiAoMSAhPT0gbi5fd2ViR0xSZW5kZXJTdHlsZSkgY29udGludWU7CiAgICAgICAgICBpZiAocyA9IG4uc3ByaXRlU2hlZXQuZ2V0RnJhbWUobi5jdXJyZW50RnJhbWUpLCBudWxsID09PSBzKSBjb250aW51ZTsKICAgICAgICAgIHIgPSBzLmltYWdlOwogICAgICAgIH0KICAgICAgICB2YXIgdyA9IHRoaXMuX3V2cywKICAgICAgICAgICAgeCA9IHRoaXMuX3ZlcnRpY2VzLAogICAgICAgICAgICB5ID0gdGhpcy5faW5kaWNlcywKICAgICAgICAgICAgeiA9IHRoaXMuX2FscGhhczsKCiAgICAgICAgaWYgKHIpIHsKICAgICAgICAgIGlmICh2b2lkIDAgPT09IHIuX3N0b3JlSUQpIHQgPSB0aGlzLl9sb2FkVGV4dHVyZUltYWdlKGMsIHIpLCB0aGlzLl9pbnNlcnRUZXh0dXJlSW5CYXRjaChjLCB0KTtlbHNlIHsKICAgICAgICAgICAgaWYgKHQgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtyLl9zdG9yZUlEXSwgIXQpIHsKICAgICAgICAgICAgICB0aGlzLnZvY2FsRGVidWcgJiYgY29uc29sZS5sb2coIlRleHR1cmUgc2hvdWxkIG5vdCBiZSBsb29rZWQgdXAgd2hpbGUgbm90IGJlaW5nIHN0b3JlZC4iKTsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdC5fYmF0Y2hJRCAhPT0gdGhpcy5fYmF0Y2hJRCAmJiB0aGlzLl9pbnNlcnRUZXh0dXJlSW5CYXRjaChjLCB0KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChxID0gdC5fYWN0aXZlSW5kZXgsIDIgPT09IG4uX3dlYkdMUmVuZGVyU3R5bGUgfHwgdikgIXYgJiYgbi5zb3VyY2VSZWN0ID8gKG4uX3V2UmVjdCB8fCAobi5fdXZSZWN0ID0ge30pLCB1ID0gbi5zb3VyY2VSZWN0LCBwID0gbi5fdXZSZWN0LCBwLnQgPSB1LnkgLyByLmhlaWdodCwgcC5sID0gdS54IC8gci53aWR0aCwgcC5iID0gKHUueSArIHUuaGVpZ2h0KSAvIHIuaGVpZ2h0LCBwLnIgPSAodS54ICsgdS53aWR0aCkgLyByLndpZHRoLCBoID0gMCwgaSA9IDAsIGogPSB1LndpZHRoICsgaCwgayA9IHUuaGVpZ2h0ICsgaSkgOiAocCA9IGEuVVZfUkVDVCwgdiA/ICh1ID0gbi5iaXRtYXBDYWNoZSwgaCA9IHUueCArIHUuX2ZpbHRlck9mZlggLyB1LnNjYWxlLCBpID0gdS55ICsgdS5fZmlsdGVyT2ZmWSAvIHUuc2NhbGUsIGogPSB1Ll9kcmF3V2lkdGggLyB1LnNjYWxlICsgaCwgayA9IHUuX2RyYXdIZWlnaHQgLyB1LnNjYWxlICsgaSkgOiAoaCA9IDAsIGkgPSAwLCBqID0gci53aWR0aCArIGgsIGsgPSByLmhlaWdodCArIGkpKTtlbHNlIGlmICgxID09PSBuLl93ZWJHTFJlbmRlclN0eWxlKSB7CiAgICAgICAgICAgIHZhciBBID0gcy5yZWN0OwogICAgICAgICAgICBwID0gcy51dlJlY3QsIHAgfHwgKHAgPSBhLmJ1aWxkVVZSZWN0cyhuLnNwcml0ZVNoZWV0LCBuLmN1cnJlbnRGcmFtZSwgITEpKSwgaCA9IC1zLnJlZ1gsIGkgPSAtcy5yZWdZLCBqID0gQS53aWR0aCAtIHMucmVnWCwgayA9IEEuaGVpZ2h0IC0gcy5yZWdZOwogICAgICAgICAgfQogICAgICAgICAgdmFyIEIgPSB0aGlzLmJhdGNoQ2FyZENvdW50ICogYS5JTkRJQ0lFU19QRVJfQ0FSRCwKICAgICAgICAgICAgICBDID0gMiAqIEI7CiAgICAgICAgICB4W0NdID0gaCAqIG8uYSArIGkgKiBvLmMgKyBvLnR4LCB4W0MgKyAxXSA9IGggKiBvLmIgKyBpICogby5kICsgby50eSwgeFtDICsgMl0gPSBoICogby5hICsgayAqIG8uYyArIG8udHgsIHhbQyArIDNdID0gaCAqIG8uYiArIGsgKiBvLmQgKyBvLnR5LCB4W0MgKyA0XSA9IGogKiBvLmEgKyBpICogby5jICsgby50eCwgeFtDICsgNV0gPSBqICogby5iICsgaSAqIG8uZCArIG8udHksIHhbQyArIDZdID0geFtDICsgMl0sIHhbQyArIDddID0geFtDICsgM10sIHhbQyArIDhdID0geFtDICsgNF0sIHhbQyArIDldID0geFtDICsgNV0sIHhbQyArIDEwXSA9IGogKiBvLmEgKyBrICogby5jICsgby50eCwgeFtDICsgMTFdID0gaiAqIG8uYiArIGsgKiBvLmQgKyBvLnR5LCB3W0NdID0gcC5sLCB3W0MgKyAxXSA9IHAudCwgd1tDICsgMl0gPSBwLmwsIHdbQyArIDNdID0gcC5iLCB3W0MgKyA0XSA9IHAuciwgd1tDICsgNV0gPSBwLnQsIHdbQyArIDZdID0gcC5sLCB3W0MgKyA3XSA9IHAuYiwgd1tDICsgOF0gPSBwLnIsIHdbQyArIDldID0gcC50LCB3W0MgKyAxMF0gPSBwLnIsIHdbQyArIDExXSA9IHAuYiwgeVtCXSA9IHlbQiArIDFdID0geVtCICsgMl0gPSB5W0IgKyAzXSA9IHlbQiArIDRdID0geVtCICsgNV0gPSBxLCB6W0JdID0geltCICsgMV0gPSB6W0IgKyAyXSA9IHpbQiArIDNdID0geltCICsgNF0gPSB6W0IgKyA1XSA9IG4uYWxwaGEgKiBlLCB0aGlzLmJhdGNoQ2FyZENvdW50Kys7CiAgICAgICAgfQogICAgICB9IGVsc2UgdGhpcy5fYXBwZW5kVG9CYXRjaEdyb3VwKG4sIGMsIGcsIG4uYWxwaGEgKiBlKTsKICAgIH0KICB9LCBiLl9kcmF3QnVmZmVycyA9IGZ1bmN0aW9uIChiKSB7CiAgICBpZiAoISh0aGlzLmJhdGNoQ2FyZENvdW50IDw9IDApKSB7CiAgICAgIHRoaXMudm9jYWxEZWJ1ZyAmJiBjb25zb2xlLmxvZygiRHJhd1siICsgdGhpcy5fZHJhd0lEICsgIjoiICsgdGhpcy5fYmF0Y2hJRCArICJdIDogIiArIHRoaXMuYmF0Y2hSZWFzb24pOwogICAgICB2YXIgYyA9IHRoaXMuX2FjdGl2ZVNoYWRlciwKICAgICAgICAgIGQgPSB0aGlzLl92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciwKICAgICAgICAgIGUgPSB0aGlzLl90ZXh0dXJlSW5kZXhCdWZmZXIsCiAgICAgICAgICBmID0gdGhpcy5fdXZQb3NpdGlvbkJ1ZmZlciwKICAgICAgICAgIGcgPSB0aGlzLl9hbHBoYUJ1ZmZlcjsKICAgICAgYi51c2VQcm9ncmFtKGMpLCBiLmJpbmRCdWZmZXIoYi5BUlJBWV9CVUZGRVIsIGQpLCBiLnZlcnRleEF0dHJpYlBvaW50ZXIoYy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSwgZC5pdGVtU2l6ZSwgYi5GTE9BVCwgITEsIDAsIDApLCBiLmJ1ZmZlclN1YkRhdGEoYi5BUlJBWV9CVUZGRVIsIDAsIHRoaXMuX3ZlcnRpY2VzKSwgYi5iaW5kQnVmZmVyKGIuQVJSQVlfQlVGRkVSLCBlKSwgYi52ZXJ0ZXhBdHRyaWJQb2ludGVyKGMudGV4dHVyZUluZGV4QXR0cmlidXRlLCBlLml0ZW1TaXplLCBiLkZMT0FULCAhMSwgMCwgMCksIGIuYnVmZmVyU3ViRGF0YShiLkFSUkFZX0JVRkZFUiwgMCwgdGhpcy5faW5kaWNlcyksIGIuYmluZEJ1ZmZlcihiLkFSUkFZX0JVRkZFUiwgZiksIGIudmVydGV4QXR0cmliUG9pbnRlcihjLnV2UG9zaXRpb25BdHRyaWJ1dGUsIGYuaXRlbVNpemUsIGIuRkxPQVQsICExLCAwLCAwKSwgYi5idWZmZXJTdWJEYXRhKGIuQVJSQVlfQlVGRkVSLCAwLCB0aGlzLl91dnMpLCBiLmJpbmRCdWZmZXIoYi5BUlJBWV9CVUZGRVIsIGcpLCBiLnZlcnRleEF0dHJpYlBvaW50ZXIoYy5hbHBoYUF0dHJpYnV0ZSwgZy5pdGVtU2l6ZSwgYi5GTE9BVCwgITEsIDAsIDApLCBiLmJ1ZmZlclN1YkRhdGEoYi5BUlJBWV9CVUZGRVIsIDAsIHRoaXMuX2FscGhhcyksIGIudW5pZm9ybU1hdHJpeDRmdihjLnBNYXRyaXhVbmlmb3JtLCBiLkZBTFNFLCB0aGlzLl9wcm9qZWN0aW9uTWF0cml4KTsKCiAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgdGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7IGgrKykgewogICAgICAgIHZhciBpID0gdGhpcy5fYmF0Y2hUZXh0dXJlc1toXTsKICAgICAgICBiLmFjdGl2ZVRleHR1cmUoYi5URVhUVVJFMCArIGgpLCBiLmJpbmRUZXh0dXJlKGIuVEVYVFVSRV8yRCwgaSksIHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhiLCBpLmlzUE9UKTsKICAgICAgfQoKICAgICAgYi5kcmF3QXJyYXlzKGIuVFJJQU5HTEVTLCAwLCB0aGlzLmJhdGNoQ2FyZENvdW50ICogYS5JTkRJQ0lFU19QRVJfQ0FSRCksIHRoaXMuX2JhdGNoSUQrKzsKICAgIH0KICB9LCBiLl9kcmF3Q292ZXIgPSBmdW5jdGlvbiAoYiwgYykgewogICAgdGhpcy5faXNEcmF3aW5nID4gMCAmJiB0aGlzLl9kcmF3QnVmZmVycyhiKSwgdGhpcy52b2NhbERlYnVnICYmIGNvbnNvbGUubG9nKCJEcmF3WyIgKyB0aGlzLl9kcmF3SUQgKyAiOiIgKyB0aGlzLl9iYXRjaElEICsgIl0gOiBDb3ZlciIpOwogICAgdmFyIGQgPSB0aGlzLl9hY3RpdmVTaGFkZXIsCiAgICAgICAgZSA9IHRoaXMuX3ZlcnRleFBvc2l0aW9uQnVmZmVyLAogICAgICAgIGYgPSB0aGlzLl91dlBvc2l0aW9uQnVmZmVyOwogICAgYi5jbGVhcihiLkNPTE9SX0JVRkZFUl9CSVQpLCBiLnVzZVByb2dyYW0oZCksIGIuYmluZEJ1ZmZlcihiLkFSUkFZX0JVRkZFUiwgZSksIGIudmVydGV4QXR0cmliUG9pbnRlcihkLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlLCBlLml0ZW1TaXplLCBiLkZMT0FULCAhMSwgMCwgMCksIGIuYnVmZmVyU3ViRGF0YShiLkFSUkFZX0JVRkZFUiwgMCwgYS5DT1ZFUl9WRVJUKSwgYi5iaW5kQnVmZmVyKGIuQVJSQVlfQlVGRkVSLCBmKSwgYi52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQudXZQb3NpdGlvbkF0dHJpYnV0ZSwgZi5pdGVtU2l6ZSwgYi5GTE9BVCwgITEsIDAsIDApLCBiLmJ1ZmZlclN1YkRhdGEoYi5BUlJBWV9CVUZGRVIsIDAsIGMgPyBhLkNPVkVSX1VWX0ZMSVAgOiBhLkNPVkVSX1VWKSwgYi51bmlmb3JtMWkoZC5zYW1wbGVyVW5pZm9ybSwgMCksIGIudW5pZm9ybTFmKGQudXByaWdodFVuaWZvcm0sIGMgPyAwIDogMSksIGIuZHJhd0FycmF5cyhiLlRSSUFOR0xFUywgMCwgYS5JTkRJQ0lFU19QRVJfQ0FSRCk7CiAgfSwgY3JlYXRlanMuU3RhZ2VHTCA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIlN0YWdlIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuRGlzcGxheU9iamVjdF9jb25zdHJ1Y3RvcigpLCAic3RyaW5nIiA9PSB0eXBlb2YgYSA/ICh0aGlzLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksIHRoaXMuaW1hZ2Uuc3JjID0gYSkgOiB0aGlzLmltYWdlID0gYSwgdGhpcy5zb3VyY2VSZWN0ID0gbnVsbCwgdGhpcy5fd2ViR0xSZW5kZXJTdHlsZSA9IGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX1N0YWdlR0xfQklUTUFQOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRGlzcGxheU9iamVjdCk7CiAgYi5pbml0aWFsaXplID0gYSwgYi5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuaW1hZ2UsCiAgICAgICAgYiA9IHRoaXMuY2FjaGVDYW52YXMgfHwgYSAmJiAoYS5uYXR1cmFsV2lkdGggfHwgYS5nZXRDb250ZXh0IHx8IGEucmVhZHlTdGF0ZSA+PSAyKTsKICAgIHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgMCAhPSB0aGlzLnNjYWxlWCAmJiAwICE9IHRoaXMuc2NhbGVZICYmIGIpOwogIH0sIGIuZHJhdyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSwgYikpIHJldHVybiAhMDsKICAgIHZhciBjID0gdGhpcy5pbWFnZSwKICAgICAgICBkID0gdGhpcy5zb3VyY2VSZWN0OwogICAgaWYgKGMuZ2V0SW1hZ2UgJiYgKGMgPSBjLmdldEltYWdlKCkpLCAhYykgcmV0dXJuICEwOwoKICAgIGlmIChkKSB7CiAgICAgIHZhciBlID0gZC54LAogICAgICAgICAgZiA9IGQueSwKICAgICAgICAgIGcgPSBlICsgZC53aWR0aCwKICAgICAgICAgIGggPSBmICsgZC5oZWlnaHQsCiAgICAgICAgICBpID0gMCwKICAgICAgICAgIGogPSAwLAogICAgICAgICAgayA9IGMud2lkdGgsCiAgICAgICAgICBsID0gYy5oZWlnaHQ7CiAgICAgIDAgPiBlICYmIChpIC09IGUsIGUgPSAwKSwgZyA+IGsgJiYgKGcgPSBrKSwgMCA+IGYgJiYgKGogLT0gZiwgZiA9IDApLCBoID4gbCAmJiAoaCA9IGwpLCBhLmRyYXdJbWFnZShjLCBlLCBmLCBnIC0gZSwgaCAtIGYsIGksIGosIGcgLSBlLCBoIC0gZik7CiAgICB9IGVsc2UgYS5kcmF3SW1hZ2UoYywgMCwgMCk7CgogICAgcmV0dXJuICEwOwogIH0sIGIuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCk7CiAgICBpZiAoYSkgcmV0dXJuIGE7CiAgICB2YXIgYiA9IHRoaXMuaW1hZ2UsCiAgICAgICAgYyA9IHRoaXMuc291cmNlUmVjdCB8fCBiLAogICAgICAgIGQgPSBiICYmIChiLm5hdHVyYWxXaWR0aCB8fCBiLmdldENvbnRleHQgfHwgYi5yZWFkeVN0YXRlID49IDIpOwogICAgcmV0dXJuIGQgPyB0aGlzLl9yZWN0YW5nbGUuc2V0VmFsdWVzKDAsIDAsIGMud2lkdGgsIGMuaGVpZ2h0KSA6IG51bGw7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IHRoaXMuaW1hZ2U7CiAgICBjICYmIGIgJiYgKGMgPSBjLmNsb25lTm9kZSgpKTsKICAgIHZhciBkID0gbmV3IGEoYyk7CiAgICByZXR1cm4gdGhpcy5zb3VyY2VSZWN0ICYmIChkLnNvdXJjZVJlY3QgPSB0aGlzLnNvdXJjZVJlY3QuY2xvbmUoKSksIHRoaXMuX2Nsb25lUHJvcHMoZCksIGQ7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0JpdG1hcCAobmFtZT0iICsgdGhpcy5uYW1lICsgIildIjsKICB9LCBjcmVhdGVqcy5CaXRtYXAgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJEaXNwbGF5T2JqZWN0Iik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgdGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCksIHRoaXMuY3VycmVudEZyYW1lID0gMCwgdGhpcy5jdXJyZW50QW5pbWF0aW9uID0gbnVsbCwgdGhpcy5wYXVzZWQgPSAhMCwgdGhpcy5zcHJpdGVTaGVldCA9IGEsIHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lID0gMCwgdGhpcy5mcmFtZXJhdGUgPSAwLCB0aGlzLl9hbmltYXRpb24gPSBudWxsLCB0aGlzLl9jdXJyZW50RnJhbWUgPSBudWxsLCB0aGlzLl9za2lwQWR2YW5jZSA9ICExLCB0aGlzLl93ZWJHTFJlbmRlclN0eWxlID0gY3JlYXRlanMuRGlzcGxheU9iamVjdC5fU3RhZ2VHTF9TUFJJVEUsIG51bGwgIT0gYiAmJiB0aGlzLmdvdG9BbmRQbGF5KGIpOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRGlzcGxheU9iamVjdCk7CiAgYi5pbml0aWFsaXplID0gYSwgYi5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuY2FjaGVDYW52YXMgfHwgdGhpcy5zcHJpdGVTaGVldC5jb21wbGV0ZTsKICAgIHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgMCAhPSB0aGlzLnNjYWxlWCAmJiAwICE9IHRoaXMuc2NhbGVZICYmIGEpOwogIH0sIGIuZHJhdyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSwgYikpIHJldHVybiAhMDsKCiAgICB0aGlzLl9ub3JtYWxpemVGcmFtZSgpOwoKICAgIHZhciBjID0gdGhpcy5zcHJpdGVTaGVldC5nZXRGcmFtZSgwIHwgdGhpcy5fY3VycmVudEZyYW1lKTsKICAgIGlmICghYykgcmV0dXJuICExOwogICAgdmFyIGQgPSBjLnJlY3Q7CiAgICByZXR1cm4gZC53aWR0aCAmJiBkLmhlaWdodCAmJiBhLmRyYXdJbWFnZShjLmltYWdlLCBkLngsIGQueSwgZC53aWR0aCwgZC5oZWlnaHQsIC1jLnJlZ1gsIC1jLnJlZ1ksIGQud2lkdGgsIGQuaGVpZ2h0KSwgITA7CiAgfSwgYi5wbGF5ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wYXVzZWQgPSAhMTsKICB9LCBiLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBhdXNlZCA9ICEwOwogIH0sIGIuZ290b0FuZFBsYXkgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5wYXVzZWQgPSAhMSwgdGhpcy5fc2tpcEFkdmFuY2UgPSAhMCwgdGhpcy5fZ290byhhKTsKICB9LCBiLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMucGF1c2VkID0gITAsIHRoaXMuX2dvdG8oYSk7CiAgfSwgYi5hZHZhbmNlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5mcmFtZXJhdGUgfHwgdGhpcy5zcHJpdGVTaGVldC5mcmFtZXJhdGUsCiAgICAgICAgYyA9IGIgJiYgbnVsbCAhPSBhID8gYSAvICgxZTMgLyBiKSA6IDE7CgogICAgdGhpcy5fbm9ybWFsaXplRnJhbWUoYyk7CiAgfSwgYi5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpIHx8IHRoaXMuc3ByaXRlU2hlZXQuZ2V0RnJhbWVCb3VuZHModGhpcy5jdXJyZW50RnJhbWUsIHRoaXMuX3JlY3RhbmdsZSk7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9jbG9uZVByb3BzKG5ldyBhKHRoaXMuc3ByaXRlU2hlZXQpKTsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbU3ByaXRlIChuYW1lPSIgKyB0aGlzLm5hbWUgKyAiKV0iOwogIH0sIGIuX2Nsb25lUHJvcHMgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuRGlzcGxheU9iamVjdF9fY2xvbmVQcm9wcyhhKSwgYS5jdXJyZW50RnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZSwgYS5jdXJyZW50QW5pbWF0aW9uID0gdGhpcy5jdXJyZW50QW5pbWF0aW9uLCBhLnBhdXNlZCA9IHRoaXMucGF1c2VkLCBhLmN1cnJlbnRBbmltYXRpb25GcmFtZSA9IHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lLCBhLmZyYW1lcmF0ZSA9IHRoaXMuZnJhbWVyYXRlLCBhLl9hbmltYXRpb24gPSB0aGlzLl9hbmltYXRpb24sIGEuX2N1cnJlbnRGcmFtZSA9IHRoaXMuX2N1cnJlbnRGcmFtZSwgYS5fc2tpcEFkdmFuY2UgPSB0aGlzLl9za2lwQWR2YW5jZSwgYTsKICB9LCBiLl90aWNrID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMucGF1c2VkIHx8ICh0aGlzLl9za2lwQWR2YW5jZSB8fCB0aGlzLmFkdmFuY2UoYSAmJiBhLmRlbHRhKSwgdGhpcy5fc2tpcEFkdmFuY2UgPSAhMSksIHRoaXMuRGlzcGxheU9iamVjdF9fdGljayhhKTsKICB9LCBiLl9ub3JtYWxpemVGcmFtZSA9IGZ1bmN0aW9uIChhKSB7CiAgICBhID0gYSB8fCAwOwogICAgdmFyIGIsCiAgICAgICAgYyA9IHRoaXMuX2FuaW1hdGlvbiwKICAgICAgICBkID0gdGhpcy5wYXVzZWQsCiAgICAgICAgZSA9IHRoaXMuX2N1cnJlbnRGcmFtZTsKCiAgICBpZiAoYykgewogICAgICB2YXIgZiA9IGMuc3BlZWQgfHwgMSwKICAgICAgICAgIGcgPSB0aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZTsKCiAgICAgIGlmIChiID0gYy5mcmFtZXMubGVuZ3RoLCBnICsgYSAqIGYgPj0gYikgewogICAgICAgIHZhciBoID0gYy5uZXh0OwogICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaEFuaW1hdGlvbkVuZChjLCBlLCBkLCBoLCBiIC0gMSkpIHJldHVybjsKICAgICAgICBpZiAoaCkgcmV0dXJuIHRoaXMuX2dvdG8oaCwgYSAtIChiIC0gZykgLyBmKTsKICAgICAgICB0aGlzLnBhdXNlZCA9ICEwLCBnID0gYy5mcmFtZXMubGVuZ3RoIC0gMTsKICAgICAgfSBlbHNlIGcgKz0gYSAqIGY7CgogICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSA9IGcsIHRoaXMuX2N1cnJlbnRGcmFtZSA9IGMuZnJhbWVzWzAgfCBnXTsKICAgIH0gZWxzZSBpZiAoZSA9IHRoaXMuX2N1cnJlbnRGcmFtZSArPSBhLCBiID0gdGhpcy5zcHJpdGVTaGVldC5nZXROdW1GcmFtZXMoKSwgZSA+PSBiICYmIGIgPiAwICYmICF0aGlzLl9kaXNwYXRjaEFuaW1hdGlvbkVuZChjLCBlLCBkLCBiIC0gMSkgJiYgKHRoaXMuX2N1cnJlbnRGcmFtZSAtPSBiKSA+PSBiKSByZXR1cm4gdGhpcy5fbm9ybWFsaXplRnJhbWUoKTsKCiAgICBlID0gMCB8IHRoaXMuX2N1cnJlbnRGcmFtZSwgdGhpcy5jdXJyZW50RnJhbWUgIT0gZSAmJiAodGhpcy5jdXJyZW50RnJhbWUgPSBlLCB0aGlzLmRpc3BhdGNoRXZlbnQoImNoYW5nZSIpKTsKICB9LCBiLl9kaXNwYXRjaEFuaW1hdGlvbkVuZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7CiAgICB2YXIgZiA9IGEgPyBhLm5hbWUgOiBudWxsOwoKICAgIGlmICh0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImFuaW1hdGlvbmVuZCIpKSB7CiAgICAgIHZhciBnID0gbmV3IGNyZWF0ZWpzLkV2ZW50KCJhbmltYXRpb25lbmQiKTsKICAgICAgZy5uYW1lID0gZiwgZy5uZXh0ID0gZCwgdGhpcy5kaXNwYXRjaEV2ZW50KGcpOwogICAgfQoKICAgIHZhciBoID0gdGhpcy5fYW5pbWF0aW9uICE9IGEgfHwgdGhpcy5fY3VycmVudEZyYW1lICE9IGI7CiAgICByZXR1cm4gaCB8fCBjIHx8ICF0aGlzLnBhdXNlZCB8fCAodGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWUgPSBlLCBoID0gITApLCBoOwogIH0sIGIuX2dvdG8gPSBmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lID0gMCwgaXNOYU4oYSkpIHsKICAgICAgdmFyIGMgPSB0aGlzLnNwcml0ZVNoZWV0LmdldEFuaW1hdGlvbihhKTsKICAgICAgYyAmJiAodGhpcy5fYW5pbWF0aW9uID0gYywgdGhpcy5jdXJyZW50QW5pbWF0aW9uID0gYSwgdGhpcy5fbm9ybWFsaXplRnJhbWUoYikpOwogICAgfSBlbHNlIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGlvbiA9IG51bGwsIHRoaXMuX2N1cnJlbnRGcmFtZSA9IGEsIHRoaXMuX25vcm1hbGl6ZUZyYW1lKCk7CiAgfSwgY3JlYXRlanMuU3ByaXRlID0gY3JlYXRlanMucHJvbW90ZShhLCAiRGlzcGxheU9iamVjdCIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuRGlzcGxheU9iamVjdF9jb25zdHJ1Y3RvcigpLCB0aGlzLmdyYXBoaWNzID0gYSA/IGEgOiBuZXcgY3JlYXRlanMuR3JhcGhpY3MoKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpOwogIGIuaXNWaXNpYmxlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLmNhY2hlQ2FudmFzIHx8IHRoaXMuZ3JhcGhpY3MgJiYgIXRoaXMuZ3JhcGhpY3MuaXNFbXB0eSgpOwogICAgcmV0dXJuICEhKHRoaXMudmlzaWJsZSAmJiB0aGlzLmFscGhhID4gMCAmJiAwICE9IHRoaXMuc2NhbGVYICYmIDAgIT0gdGhpcy5zY2FsZVkgJiYgYSk7CiAgfSwgYi5kcmF3ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyhhLCBiKSA/ICEwIDogKHRoaXMuZ3JhcGhpY3MuZHJhdyhhLCB0aGlzKSwgITApOwogIH0sIGIuY2xvbmUgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBiICYmIHRoaXMuZ3JhcGhpY3MgPyB0aGlzLmdyYXBoaWNzLmNsb25lKCkgOiB0aGlzLmdyYXBoaWNzOwogICAgcmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGEoYykpOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltTaGFwZSAobmFtZT0iICsgdGhpcy5uYW1lICsgIildIjsKICB9LCBjcmVhdGVqcy5TaGFwZSA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkRpc3BsYXlPYmplY3QiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiLCBjKSB7CiAgICB0aGlzLkRpc3BsYXlPYmplY3RfY29uc3RydWN0b3IoKSwgdGhpcy50ZXh0ID0gYSwgdGhpcy5mb250ID0gYiwgdGhpcy5jb2xvciA9IGMsIHRoaXMudGV4dEFsaWduID0gImxlZnQiLCB0aGlzLnRleHRCYXNlbGluZSA9ICJ0b3AiLCB0aGlzLm1heFdpZHRoID0gbnVsbCwgdGhpcy5vdXRsaW5lID0gMCwgdGhpcy5saW5lSGVpZ2h0ID0gMCwgdGhpcy5saW5lV2lkdGggPSBudWxsOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRGlzcGxheU9iamVjdCksCiAgICAgIGMgPSBjcmVhdGVqcy5jcmVhdGVDYW52YXMgPyBjcmVhdGVqcy5jcmVhdGVDYW52YXMoKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogIGMuZ2V0Q29udGV4dCAmJiAoYS5fd29ya2luZ0NvbnRleHQgPSBjLmdldENvbnRleHQoIjJkIiksIGMud2lkdGggPSBjLmhlaWdodCA9IDEpLCBhLkhfT0ZGU0VUUyA9IHsKICAgIHN0YXJ0OiAwLAogICAgbGVmdDogMCwKICAgIGNlbnRlcjogLS41LAogICAgZW5kOiAtMSwKICAgIHJpZ2h0OiAtMQogIH0sIGEuVl9PRkZTRVRTID0gewogICAgdG9wOiAwLAogICAgaGFuZ2luZzogLS4wMSwKICAgIG1pZGRsZTogLS40LAogICAgYWxwaGFiZXRpYzogLS44LAogICAgaWRlb2dyYXBoaWM6IC0uODUsCiAgICBib3R0b206IC0xCiAgfSwgYi5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuY2FjaGVDYW52YXMgfHwgbnVsbCAhPSB0aGlzLnRleHQgJiYgIiIgIT09IHRoaXMudGV4dDsKICAgIHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgMCAhPSB0aGlzLnNjYWxlWCAmJiAwICE9IHRoaXMuc2NhbGVZICYmIGEpOwogIH0sIGIuZHJhdyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSwgYikpIHJldHVybiAhMDsKICAgIHZhciBjID0gdGhpcy5jb2xvciB8fCAiIzAwMCI7CiAgICByZXR1cm4gdGhpcy5vdXRsaW5lID8gKGEuc3Ryb2tlU3R5bGUgPSBjLCBhLmxpbmVXaWR0aCA9IDEgKiB0aGlzLm91dGxpbmUpIDogYS5maWxsU3R5bGUgPSBjLCB0aGlzLl9kcmF3VGV4dCh0aGlzLl9wcmVwQ29udGV4dChhKSksICEwOwogIH0sIGIuZ2V0TWVhc3VyZWRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9nZXRNZWFzdXJlZFdpZHRoKHRoaXMudGV4dCk7CiAgfSwgYi5nZXRNZWFzdXJlZExpbmVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gMS4yICogdGhpcy5fZ2V0TWVhc3VyZWRXaWR0aCgiTSIpOwogIH0sIGIuZ2V0TWVhc3VyZWRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fZHJhd1RleHQobnVsbCwge30pLmhlaWdodDsKICB9LCBiLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBiID0gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpOwogICAgaWYgKGIpIHJldHVybiBiOwogICAgaWYgKG51bGwgPT0gdGhpcy50ZXh0IHx8ICIiID09PSB0aGlzLnRleHQpIHJldHVybiBudWxsOwoKICAgIHZhciBjID0gdGhpcy5fZHJhd1RleHQobnVsbCwge30pLAogICAgICAgIGQgPSB0aGlzLm1heFdpZHRoICYmIHRoaXMubWF4V2lkdGggPCBjLndpZHRoID8gdGhpcy5tYXhXaWR0aCA6IGMud2lkdGgsCiAgICAgICAgZSA9IGQgKiBhLkhfT0ZGU0VUU1t0aGlzLnRleHRBbGlnbiB8fCAibGVmdCJdLAogICAgICAgIGYgPSB0aGlzLmxpbmVIZWlnaHQgfHwgdGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKSwKICAgICAgICBnID0gZiAqIGEuVl9PRkZTRVRTW3RoaXMudGV4dEJhc2VsaW5lIHx8ICJ0b3AiXTsKCiAgICByZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLnNldFZhbHVlcyhlLCBnLCBkLCBjLmhlaWdodCk7CiAgfSwgYi5nZXRNZXRyaWNzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGIgPSB7CiAgICAgIGxpbmVzOiBbXQogICAgfTsKICAgIHJldHVybiBiLmxpbmVIZWlnaHQgPSB0aGlzLmxpbmVIZWlnaHQgfHwgdGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKSwgYi52T2Zmc2V0ID0gYi5saW5lSGVpZ2h0ICogYS5WX09GRlNFVFNbdGhpcy50ZXh0QmFzZWxpbmUgfHwgInRvcCJdLCB0aGlzLl9kcmF3VGV4dChudWxsLCBiLCBiLmxpbmVzKTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGEodGhpcy50ZXh0LCB0aGlzLmZvbnQsIHRoaXMuY29sb3IpKTsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbVGV4dCAodGV4dD0iICsgKHRoaXMudGV4dC5sZW5ndGggPiAyMCA/IHRoaXMudGV4dC5zdWJzdHIoMCwgMTcpICsgIi4uLiIgOiB0aGlzLnRleHQpICsgIildIjsKICB9LCBiLl9jbG9uZVByb3BzID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfX2Nsb25lUHJvcHMoYSksIGEudGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ24sIGEudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmUsIGEubWF4V2lkdGggPSB0aGlzLm1heFdpZHRoLCBhLm91dGxpbmUgPSB0aGlzLm91dGxpbmUsIGEubGluZUhlaWdodCA9IHRoaXMubGluZUhlaWdodCwgYS5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aCwgYTsKICB9LCBiLl9wcmVwQ29udGV4dCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS5mb250ID0gdGhpcy5mb250IHx8ICIxMHB4IHNhbnMtc2VyaWYiLCBhLnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduIHx8ICJsZWZ0IiwgYS50ZXh0QmFzZWxpbmUgPSB0aGlzLnRleHRCYXNlbGluZSB8fCAidG9wIiwgYS5saW5lSm9pbiA9ICJtaXRlciIsIGEubWl0ZXJMaW1pdCA9IDIuNSwgYTsKICB9LCBiLl9kcmF3VGV4dCA9IGZ1bmN0aW9uIChiLCBjLCBkKSB7CiAgICB2YXIgZSA9ICEhYjsKICAgIGUgfHwgKGIgPSBhLl93b3JraW5nQ29udGV4dCwgYi5zYXZlKCksIHRoaXMuX3ByZXBDb250ZXh0KGIpKTsKCiAgICBmb3IgKHZhciBmID0gdGhpcy5saW5lSGVpZ2h0IHx8IHRoaXMuZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0KCksIGcgPSAwLCBoID0gMCwgaSA9IFN0cmluZyh0aGlzLnRleHQpLnNwbGl0KC8oPzpcclxufFxyfFxuKS8pLCBqID0gMCwgayA9IGkubGVuZ3RoOyBrID4gajsgaisrKSB7CiAgICAgIHZhciBsID0gaVtqXSwKICAgICAgICAgIG0gPSBudWxsOwoKICAgICAgaWYgKG51bGwgIT0gdGhpcy5saW5lV2lkdGggJiYgKG0gPSBiLm1lYXN1cmVUZXh0KGwpLndpZHRoKSA+IHRoaXMubGluZVdpZHRoKSB7CiAgICAgICAgdmFyIG4gPSBsLnNwbGl0KC8oXHMpLyk7CiAgICAgICAgbCA9IG5bMF0sIG0gPSBiLm1lYXN1cmVUZXh0KGwpLndpZHRoOwoKICAgICAgICBmb3IgKHZhciBvID0gMSwgcCA9IG4ubGVuZ3RoOyBwID4gbzsgbyArPSAyKSB7CiAgICAgICAgICB2YXIgcSA9IGIubWVhc3VyZVRleHQobltvXSArIG5bbyArIDFdKS53aWR0aDsKICAgICAgICAgIG0gKyBxID4gdGhpcy5saW5lV2lkdGggPyAoZSAmJiB0aGlzLl9kcmF3VGV4dExpbmUoYiwgbCwgaCAqIGYpLCBkICYmIGQucHVzaChsKSwgbSA+IGcgJiYgKGcgPSBtKSwgbCA9IG5bbyArIDFdLCBtID0gYi5tZWFzdXJlVGV4dChsKS53aWR0aCwgaCsrKSA6IChsICs9IG5bb10gKyBuW28gKyAxXSwgbSArPSBxKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGUgJiYgdGhpcy5fZHJhd1RleHRMaW5lKGIsIGwsIGggKiBmKSwgZCAmJiBkLnB1c2gobCksIGMgJiYgbnVsbCA9PSBtICYmIChtID0gYi5tZWFzdXJlVGV4dChsKS53aWR0aCksIG0gPiBnICYmIChnID0gbSksIGgrKzsKICAgIH0KCiAgICByZXR1cm4gYyAmJiAoYy53aWR0aCA9IGcsIGMuaGVpZ2h0ID0gaCAqIGYpLCBlIHx8IGIucmVzdG9yZSgpLCBjOwogIH0sIGIuX2RyYXdUZXh0TGluZSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB0aGlzLm91dGxpbmUgPyBhLnN0cm9rZVRleHQoYiwgMCwgYywgdGhpcy5tYXhXaWR0aCB8fCA2NTUzNSkgOiBhLmZpbGxUZXh0KGIsIDAsIGMsIHRoaXMubWF4V2lkdGggfHwgNjU1MzUpOwogIH0sIGIuX2dldE1lYXN1cmVkV2lkdGggPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBhLl93b3JraW5nQ29udGV4dDsKICAgIGMuc2F2ZSgpOwoKICAgIHZhciBkID0gdGhpcy5fcHJlcENvbnRleHQoYykubWVhc3VyZVRleHQoYikud2lkdGg7CgogICAgcmV0dXJuIGMucmVzdG9yZSgpLCBkOwogIH0sIGNyZWF0ZWpzLlRleHQgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJEaXNwbGF5T2JqZWN0Iik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgdGhpcy5Db250YWluZXJfY29uc3RydWN0b3IoKSwgdGhpcy50ZXh0ID0gYSB8fCAiIiwgdGhpcy5zcHJpdGVTaGVldCA9IGIsIHRoaXMubGluZUhlaWdodCA9IDAsIHRoaXMubGV0dGVyU3BhY2luZyA9IDAsIHRoaXMuc3BhY2VXaWR0aCA9IDAsIHRoaXMuX29sZFByb3BzID0gewogICAgICB0ZXh0OiAwLAogICAgICBzcHJpdGVTaGVldDogMCwKICAgICAgbGluZUhlaWdodDogMCwKICAgICAgbGV0dGVyU3BhY2luZzogMCwKICAgICAgc3BhY2VXaWR0aDogMAogICAgfSwgdGhpcy5fb2xkU3RhZ2UgPSBudWxsLCB0aGlzLl9kcmF3QWN0aW9uID0gbnVsbDsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkNvbnRhaW5lcik7CiAgYS5tYXhQb29sU2l6ZSA9IDEwMCwgYS5fc3ByaXRlUG9vbCA9IFtdLCBiLmRyYXcgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSwgYikgfHwgKHRoaXMuX3VwZGF0ZVN0YXRlKCksIHRoaXMuQ29udGFpbmVyX2RyYXcoYSwgYikpOwogIH0sIGIuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVRleHQoKSwgdGhpcy5Db250YWluZXJfZ2V0Qm91bmRzKCk7CiAgfSwgYi5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuY2FjaGVDYW52YXMgfHwgdGhpcy5zcHJpdGVTaGVldCAmJiB0aGlzLnNwcml0ZVNoZWV0LmNvbXBsZXRlICYmIHRoaXMudGV4dDsKICAgIHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgMCAhPT0gdGhpcy5zY2FsZVggJiYgMCAhPT0gdGhpcy5zY2FsZVkgJiYgYSk7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9jbG9uZVByb3BzKG5ldyBhKHRoaXMudGV4dCwgdGhpcy5zcHJpdGVTaGVldCkpOwogIH0sIGIuYWRkQ2hpbGQgPSBiLmFkZENoaWxkQXQgPSBiLnJlbW92ZUNoaWxkID0gYi5yZW1vdmVDaGlsZEF0ID0gYi5yZW1vdmVBbGxDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHt9LCBiLl91cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX3VwZGF0ZVRleHQoKTsKICB9LCBiLl9jbG9uZVByb3BzID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLkNvbnRhaW5lcl9fY2xvbmVQcm9wcyhhKSwgYS5saW5lSGVpZ2h0ID0gdGhpcy5saW5lSGVpZ2h0LCBhLmxldHRlclNwYWNpbmcgPSB0aGlzLmxldHRlclNwYWNpbmcsIGEuc3BhY2VXaWR0aCA9IHRoaXMuc3BhY2VXaWR0aCwgYTsKICB9LCBiLl9nZXRGcmFtZUluZGV4ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjLAogICAgICAgIGQgPSBiLmdldEFuaW1hdGlvbihhKTsKICAgIHJldHVybiBkIHx8IChhICE9IChjID0gYS50b1VwcGVyQ2FzZSgpKSB8fCBhICE9IChjID0gYS50b0xvd2VyQ2FzZSgpKSB8fCAoYyA9IG51bGwpLCBjICYmIChkID0gYi5nZXRBbmltYXRpb24oYykpKSwgZCAmJiBkLmZyYW1lc1swXTsKICB9LCBiLl9nZXRGcmFtZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IHRoaXMuX2dldEZyYW1lSW5kZXgoYSwgYik7CgogICAgcmV0dXJuIG51bGwgPT0gYyA/IGMgOiBiLmdldEZyYW1lKGMpOwogIH0sIGIuX2dldExpbmVIZWlnaHQgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLl9nZXRGcmFtZSgiMSIsIGEpIHx8IHRoaXMuX2dldEZyYW1lKCJUIiwgYSkgfHwgdGhpcy5fZ2V0RnJhbWUoIkwiLCBhKSB8fCBhLmdldEZyYW1lKDApOwogICAgcmV0dXJuIGIgPyBiLnJlY3QuaGVpZ2h0IDogMTsKICB9LCBiLl9nZXRTcGFjZVdpZHRoID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fZ2V0RnJhbWUoIjEiLCBhKSB8fCB0aGlzLl9nZXRGcmFtZSgibCIsIGEpIHx8IHRoaXMuX2dldEZyYW1lKCJlIiwgYSkgfHwgdGhpcy5fZ2V0RnJhbWUoImEiLCBhKSB8fCBhLmdldEZyYW1lKDApOwogICAgcmV0dXJuIGIgPyBiLnJlY3Qud2lkdGggOiAxOwogIH0sIGIuX3VwZGF0ZVRleHQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYiwKICAgICAgICBjID0gMCwKICAgICAgICBkID0gMCwKICAgICAgICBlID0gdGhpcy5fb2xkUHJvcHMsCiAgICAgICAgZiA9ICExLAogICAgICAgIGcgPSB0aGlzLnNwYWNlV2lkdGgsCiAgICAgICAgaCA9IHRoaXMubGluZUhlaWdodCwKICAgICAgICBpID0gdGhpcy5zcHJpdGVTaGVldCwKICAgICAgICBqID0gYS5fc3ByaXRlUG9vbCwKICAgICAgICBrID0gdGhpcy5jaGlsZHJlbiwKICAgICAgICBsID0gMCwKICAgICAgICBtID0gay5sZW5ndGg7CgogICAgZm9yICh2YXIgbiBpbiBlKSB7CiAgICAgIGVbbl0gIT0gdGhpc1tuXSAmJiAoZVtuXSA9IHRoaXNbbl0sIGYgPSAhMCk7CiAgICB9CgogICAgaWYgKGYpIHsKICAgICAgdmFyIG8gPSAhIXRoaXMuX2dldEZyYW1lKCIgIiwgaSk7CiAgICAgIG8gfHwgZyB8fCAoZyA9IHRoaXMuX2dldFNwYWNlV2lkdGgoaSkpLCBoIHx8IChoID0gdGhpcy5fZ2V0TGluZUhlaWdodChpKSk7CgogICAgICBmb3IgKHZhciBwID0gMCwgcSA9IHRoaXMudGV4dC5sZW5ndGg7IHEgPiBwOyBwKyspIHsKICAgICAgICB2YXIgciA9IHRoaXMudGV4dC5jaGFyQXQocCk7CiAgICAgICAgaWYgKCIgIiAhPSByIHx8IG8pIHsKICAgICAgICAgIGlmICgiXG4iICE9IHIgJiYgIlxyIiAhPSByKSB7CiAgICAgICAgICAgIHZhciBzID0gdGhpcy5fZ2V0RnJhbWVJbmRleChyLCBpKTsKCiAgICAgICAgICAgIG51bGwgIT0gcyAmJiAobSA+IGwgPyBiID0ga1tsXSA6IChrLnB1c2goYiA9IGoubGVuZ3RoID8gai5wb3AoKSA6IG5ldyBjcmVhdGVqcy5TcHJpdGUoKSksIGIucGFyZW50ID0gdGhpcywgbSsrKSwgYi5zcHJpdGVTaGVldCA9IGksIGIuZ290b0FuZFN0b3AocyksIGIueCA9IGMsIGIueSA9IGQsIGwrKywgYyArPSBiLmdldEJvdW5kcygpLndpZHRoICsgdGhpcy5sZXR0ZXJTcGFjaW5nKTsKICAgICAgICAgIH0gZWxzZSAiXHIiID09IHIgJiYgIlxuIiA9PSB0aGlzLnRleHQuY2hhckF0KHAgKyAxKSAmJiBwKyssIGMgPSAwLCBkICs9IGg7CiAgICAgICAgfSBlbHNlIGMgKz0gZzsKICAgICAgfQoKICAgICAgZm9yICg7IG0gPiBsOykgewogICAgICAgIGoucHVzaChiID0gay5wb3AoKSksIGIucGFyZW50ID0gbnVsbCwgbS0tOwogICAgICB9CgogICAgICBqLmxlbmd0aCA+IGEubWF4UG9vbFNpemUgJiYgKGoubGVuZ3RoID0gYS5tYXhQb29sU2l6ZSk7CiAgICB9CiAgfSwgY3JlYXRlanMuQml0bWFwVGV4dCA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkNvbnRhaW5lciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGIpIHsKICAgIHRoaXMuQ29udGFpbmVyX2NvbnN0cnVjdG9yKCksICFhLmluaXRlZCAmJiBhLmluaXQoKTsKICAgIHZhciBjLCBkLCBlLCBmOwogICAgYiBpbnN0YW5jZW9mIFN0cmluZyB8fCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IChjID0gYiwgZCA9IGFyZ3VtZW50c1sxXSwgZSA9IGFyZ3VtZW50c1syXSwgZiA9IGFyZ3VtZW50c1szXSwgbnVsbCA9PSBlICYmIChlID0gLTEpLCBiID0gbnVsbCkgOiBiICYmIChjID0gYi5tb2RlLCBkID0gYi5zdGFydFBvc2l0aW9uLCBlID0gYi5sb29wLCBmID0gYi5sYWJlbHMpLCBiIHx8IChiID0gewogICAgICBsYWJlbHM6IGYKICAgIH0pLCB0aGlzLm1vZGUgPSBjIHx8IGEuSU5ERVBFTkRFTlQsIHRoaXMuc3RhcnRQb3NpdGlvbiA9IGQgfHwgMCwgdGhpcy5sb29wID0gZSA9PT0gITAgPyAtMSA6IGUgfHwgMCwgdGhpcy5jdXJyZW50RnJhbWUgPSAwLCB0aGlzLnBhdXNlZCA9IGIucGF1c2VkIHx8ICExLCB0aGlzLmFjdGlvbnNFbmFibGVkID0gITAsIHRoaXMuYXV0b1Jlc2V0ID0gITAsIHRoaXMuZnJhbWVCb3VuZHMgPSB0aGlzLmZyYW1lQm91bmRzIHx8IGIuZnJhbWVCb3VuZHMsIHRoaXMuZnJhbWVyYXRlID0gbnVsbCwgYi51c2VUaWNrcyA9IGIucGF1c2VkID0gITAsIHRoaXMudGltZWxpbmUgPSBuZXcgY3JlYXRlanMuVGltZWxpbmUoYiksIHRoaXMuX3N5bmNoT2Zmc2V0ID0gMCwgdGhpcy5fcmF3UG9zaXRpb24gPSAtMSwgdGhpcy5fYm91bmRfcmVzb2x2ZVN0YXRlID0gdGhpcy5fcmVzb2x2ZVN0YXRlLmJpbmQodGhpcyksIHRoaXMuX3QgPSAwLCB0aGlzLl9tYW5hZ2VkID0ge307CiAgfQoKICBmdW5jdGlvbiBiKCkgewogICAgdGhyb3cgIk1vdmllQ2xpcFBsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiI7CiAgfQoKICB2YXIgYyA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5Db250YWluZXIpOwogIGEuSU5ERVBFTkRFTlQgPSAiaW5kZXBlbmRlbnQiLCBhLlNJTkdMRV9GUkFNRSA9ICJzaW5nbGUiLCBhLlNZTkNIRUQgPSAic3luY2hlZCIsIGEuaW5pdGVkID0gITEsIGEuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIGEuaW5pdGVkIHx8IChiLmluc3RhbGwoKSwgYS5pbml0ZWQgPSAhMCk7CiAgfSwgYy5fZ2V0TGFiZWxzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMudGltZWxpbmUuZ2V0TGFiZWxzKCk7CiAgfSwgYy5nZXRMYWJlbHMgPSBjcmVhdGVqcy5kZXByZWNhdGUoYy5fZ2V0TGFiZWxzLCAiTW92aWVDbGlwLmdldExhYmVscyIpLCBjLl9nZXRDdXJyZW50TGFiZWwgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy50aW1lbGluZS5jdXJyZW50TGFiZWw7CiAgfSwgYy5nZXRDdXJyZW50TGFiZWwgPSBjcmVhdGVqcy5kZXByZWNhdGUoYy5fZ2V0Q3VycmVudExhYmVsLCAiTW92aWVDbGlwLmdldEN1cnJlbnRMYWJlbCIpLCBjLl9nZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnRpbWVsaW5lLmR1cmF0aW9uOwogIH0sIGMuZ2V0RHVyYXRpb24gPSBjcmVhdGVqcy5kZXByZWNhdGUoYy5fZ2V0RHVyYXRpb24sICJNb3ZpZUNsaXAuZ2V0RHVyYXRpb24iKTsKCiAgdHJ5IHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGMsIHsKICAgICAgbGFiZWxzOiB7CiAgICAgICAgZ2V0OiBjLl9nZXRMYWJlbHMKICAgICAgfSwKICAgICAgY3VycmVudExhYmVsOiB7CiAgICAgICAgZ2V0OiBjLl9nZXRDdXJyZW50TGFiZWwKICAgICAgfSwKICAgICAgdG90YWxGcmFtZXM6IHsKICAgICAgICBnZXQ6IGMuX2dldER1cmF0aW9uCiAgICAgIH0sCiAgICAgIGR1cmF0aW9uOiB7CiAgICAgICAgZ2V0OiBjLl9nZXREdXJhdGlvbgogICAgICB9CiAgICB9KTsKICB9IGNhdGNoIChkKSB7fQoKICBjLmluaXRpYWxpemUgPSBhLCBjLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgMCAhPSB0aGlzLnNjYWxlWCAmJiAwICE9IHRoaXMuc2NhbGVZKTsKICB9LCBjLmRyYXcgPSBmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGEsIGIpID8gITAgOiAodGhpcy5fdXBkYXRlU3RhdGUoKSwgdGhpcy5Db250YWluZXJfZHJhdyhhLCBiKSwgITApOwogIH0sIGMucGxheSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucGF1c2VkID0gITE7CiAgfSwgYy5zdG9wID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wYXVzZWQgPSAhMDsKICB9LCBjLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMucGF1c2VkID0gITEsIHRoaXMuX2dvdG8oYSk7CiAgfSwgYy5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLnBhdXNlZCA9ICEwLCB0aGlzLl9nb3RvKGEpOwogIH0sIGMuYWR2YW5jZSA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IGEuSU5ERVBFTkRFTlQ7CgogICAgaWYgKHRoaXMubW9kZSA9PT0gYykgewogICAgICBmb3IgKHZhciBkID0gdGhpcywgZSA9IGQuZnJhbWVyYXRlOyAoZCA9IGQucGFyZW50KSAmJiBudWxsID09PSBlOykgewogICAgICAgIGQubW9kZSA9PT0gYyAmJiAoZSA9IGQuX2ZyYW1lcmF0ZSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9mcmFtZXJhdGUgPSBlLCAhdGhpcy5wYXVzZWQpIHsKICAgICAgICB2YXIgZiA9IG51bGwgIT09IGUgJiYgLTEgIT09IGUgJiYgbnVsbCAhPT0gYiA/IGIgLyAoMWUzIC8gZSkgKyB0aGlzLl90IDogMSwKICAgICAgICAgICAgZyA9IDAgfCBmOwoKICAgICAgICBmb3IgKHRoaXMuX3QgPSBmIC0gZzsgZy0tOykgewogICAgICAgICAgdGhpcy5fdXBkYXRlVGltZWxpbmUodGhpcy5fcmF3UG9zaXRpb24gKyAxLCAhMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgYy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93ICJNb3ZpZUNsaXAgY2Fubm90IGJlIGNsb25lZC4iOwogIH0sIGMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltNb3ZpZUNsaXAgKG5hbWU9IiArIHRoaXMubmFtZSArICIpXSI7CiAgfSwgYy5fdXBkYXRlU3RhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAoLTEgPT09IHRoaXMuX3Jhd1Bvc2l0aW9uIHx8IHRoaXMubW9kZSAhPT0gYS5JTkRFUEVOREVOVCkgJiYgdGhpcy5fdXBkYXRlVGltZWxpbmUoLTEpOwogIH0sIGMuX3RpY2sgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5hZHZhbmNlKGEgJiYgYS5kZWx0YSksIHRoaXMuQ29udGFpbmVyX190aWNrKGEpOwogIH0sIGMuX2dvdG8gPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLnRpbWVsaW5lLnJlc29sdmUoYSk7CiAgICBudWxsICE9IGIgJiYgKHRoaXMuX3QgPSAwLCB0aGlzLl91cGRhdGVUaW1lbGluZShiLCAhMCkpOwogIH0sIGMuX3Jlc2V0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fcmF3UG9zaXRpb24gPSAtMSwgdGhpcy5fdCA9IHRoaXMuY3VycmVudEZyYW1lID0gMCwgdGhpcy5wYXVzZWQgPSAhMTsKICB9LCBjLl91cGRhdGVUaW1lbGluZSA9IGZ1bmN0aW9uIChiLCBjKSB7CiAgICB2YXIgZCA9IHRoaXMubW9kZSAhPT0gYS5JTkRFUEVOREVOVCwKICAgICAgICBlID0gdGhpcy50aW1lbGluZTsKICAgIGQgJiYgKGIgPSB0aGlzLnN0YXJ0UG9zaXRpb24gKyAodGhpcy5tb2RlID09PSBhLlNJTkdMRV9GUkFNRSA/IDAgOiB0aGlzLl9zeW5jaE9mZnNldCkpLCAwID4gYiAmJiAoYiA9IDApLCAodGhpcy5fcmF3UG9zaXRpb24gIT09IGIgfHwgZCkgJiYgKHRoaXMuX3Jhd1Bvc2l0aW9uID0gYiwgZS5sb29wID0gdGhpcy5sb29wLCBlLnNldFBvc2l0aW9uKGIsIGQgfHwgIXRoaXMuYWN0aW9uc0VuYWJsZWQsIGMsIHRoaXMuX2JvdW5kX3Jlc29sdmVTdGF0ZSkpOwogIH0sIGMuX3JlbmRlckZpcnN0RnJhbWUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMudGltZWxpbmUsCiAgICAgICAgYiA9IGEucmF3UG9zaXRpb247CiAgICBhLnNldFBvc2l0aW9uKDAsICEwLCAhMCwgdGhpcy5fYm91bmRfcmVzb2x2ZVN0YXRlKSwgYS5yYXdQb3NpdGlvbiA9IGI7CiAgfSwgYy5fcmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLnRpbWVsaW5lOwogICAgdGhpcy5jdXJyZW50RnJhbWUgPSBhLnBvc2l0aW9uOwoKICAgIGZvciAodmFyIGIgaW4gdGhpcy5fbWFuYWdlZCkgewogICAgICB0aGlzLl9tYW5hZ2VkW2JdID0gMTsKICAgIH0KCiAgICBmb3IgKHZhciBjID0gYS50d2VlbnMsIGQgPSAwLCBlID0gYy5sZW5ndGg7IGUgPiBkOyBkKyspIHsKICAgICAgdmFyIGYgPSBjW2RdLAogICAgICAgICAgZyA9IGYudGFyZ2V0OwoKICAgICAgaWYgKGcgIT09IHRoaXMgJiYgIWYucGFzc2l2ZSkgewogICAgICAgIHZhciBoID0gZi5fc3RlcFBvc2l0aW9uOwogICAgICAgIGcgaW5zdGFuY2VvZiBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0ID8gdGhpcy5fYWRkTWFuYWdlZENoaWxkKGcsIGgpIDogdGhpcy5fc2V0U3RhdGUoZy5zdGF0ZSwgaCk7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgaSA9IHRoaXMuY2hpbGRyZW47CgogICAgZm9yIChkID0gaS5sZW5ndGggLSAxOyBkID49IDA7IGQtLSkgewogICAgICB2YXIgaiA9IGlbZF0uaWQ7CiAgICAgIDEgPT09IHRoaXMuX21hbmFnZWRbal0gJiYgKHRoaXMucmVtb3ZlQ2hpbGRBdChkKSwgZGVsZXRlIHRoaXMuX21hbmFnZWRbal0pOwogICAgfQogIH0sIGMuX3NldFN0YXRlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmIChhKSBmb3IgKHZhciBjID0gYS5sZW5ndGggLSAxOyBjID49IDA7IGMtLSkgewogICAgICB2YXIgZCA9IGFbY10sCiAgICAgICAgICBlID0gZC50LAogICAgICAgICAgZiA9IGQucDsKCiAgICAgIGZvciAodmFyIGcgaW4gZikgewogICAgICAgIGVbZ10gPSBmW2ddOwogICAgICB9CgogICAgICB0aGlzLl9hZGRNYW5hZ2VkQ2hpbGQoZSwgYik7CiAgICB9CiAgfSwgYy5fYWRkTWFuYWdlZENoaWxkID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIGIuX29mZiB8fCAodGhpcy5hZGRDaGlsZEF0KGIsIDApLCBiIGluc3RhbmNlb2YgYSAmJiAoYi5fc3luY2hPZmZzZXQgPSBjLCBiLm1vZGUgPT09IGEuSU5ERVBFTkRFTlQgJiYgYi5hdXRvUmVzZXQgJiYgIXRoaXMuX21hbmFnZWRbYi5pZF0gJiYgYi5fcmVzZXQoKSksIHRoaXMuX21hbmFnZWRbYi5pZF0gPSAyKTsKICB9LCBjLl9nZXRCb3VuZHMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSB0aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCk7CiAgICByZXR1cm4gYyB8fCB0aGlzLmZyYW1lQm91bmRzICYmIChjID0gdGhpcy5fcmVjdGFuZ2xlLmNvcHkodGhpcy5mcmFtZUJvdW5kc1t0aGlzLmN1cnJlbnRGcmFtZV0pKSwgYyA/IHRoaXMuX3RyYW5zZm9ybUJvdW5kcyhjLCBhLCBiKSA6IHRoaXMuQ29udGFpbmVyX19nZXRCb3VuZHMoYSwgYik7CiAgfSwgY3JlYXRlanMuTW92aWVDbGlwID0gY3JlYXRlanMucHJvbW90ZShhLCAiQ29udGFpbmVyIiksIGIucHJpb3JpdHkgPSAxMDAsIGIuSUQgPSAiTW92aWVDbGlwIiwgYi5pbnN0YWxsID0gZnVuY3Rpb24gKCkgewogICAgY3JlYXRlanMuVHdlZW4uX2luc3RhbGxQbHVnaW4oYik7CiAgfSwgYi5pbml0ID0gZnVuY3Rpb24gKGMsIGQsIGUpIHsKICAgICJzdGFydFBvc2l0aW9uIiA9PT0gZCAmJiBjLnRhcmdldCBpbnN0YW5jZW9mIGEgJiYgYy5fYWRkUGx1Z2luKGIpOwogIH0sIGIuc3RlcCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7fSwgYi5jaGFuZ2UgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikgewogICAgcmV0dXJuICJzdGFydFBvc2l0aW9uIiA9PT0gYyA/IDEgPT09IGUgPyBiLnByb3BzW2NdIDogYi5wcmV2LnByb3BzW2NdIDogdm9pZCAwOwogIH07Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aHJvdyAiU3ByaXRlU2hlZXRVdGlscyBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIjsKICB9CgogIHZhciBiID0gY3JlYXRlanMuY3JlYXRlQ2FudmFzID8gY3JlYXRlanMuY3JlYXRlQ2FudmFzKCkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICBiLmdldENvbnRleHQgJiYgKGEuX3dvcmtpbmdDYW52YXMgPSBiLCBhLl93b3JraW5nQ29udGV4dCA9IGIuZ2V0Q29udGV4dCgiMmQiKSwgYi53aWR0aCA9IGIuaGVpZ2h0ID0gMSksIGEuZXh0cmFjdEZyYW1lID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIGlzTmFOKGMpICYmIChjID0gYi5nZXRBbmltYXRpb24oYykuZnJhbWVzWzBdKTsKICAgIHZhciBkID0gYi5nZXRGcmFtZShjKTsKICAgIGlmICghZCkgcmV0dXJuIG51bGw7CiAgICB2YXIgZSA9IGQucmVjdCwKICAgICAgICBmID0gYS5fd29ya2luZ0NhbnZhczsKICAgIGYud2lkdGggPSBlLndpZHRoLCBmLmhlaWdodCA9IGUuaGVpZ2h0LCBhLl93b3JraW5nQ29udGV4dC5kcmF3SW1hZ2UoZC5pbWFnZSwgZS54LCBlLnksIGUud2lkdGgsIGUuaGVpZ2h0LCAwLCAwLCBlLndpZHRoLCBlLmhlaWdodCk7CiAgICB2YXIgZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgcmV0dXJuIGcuc3JjID0gZi50b0RhdGFVUkwoImltYWdlL3BuZyIpLCBnOwogIH0sIGEuYWRkRmxpcHBlZEZyYW1lcyA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShudWxsLCAiU3ByaXRlU2hlZXRVdGlscy5hZGRGbGlwcGVkRnJhbWVzIiksIGEubWVyZ2VBbHBoYSA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShudWxsLCAiU3ByaXRlU2hlZXRVdGlscy5tZXJnZUFscGhhIiksIGEuX2ZsaXAgPSBmdW5jdGlvbiAoYiwgYywgZCwgZSkgewogICAgZm9yICh2YXIgZiA9IGIuX2ltYWdlcywgZyA9IGEuX3dvcmtpbmdDYW52YXMsIGggPSBhLl93b3JraW5nQ29udGV4dCwgaSA9IGYubGVuZ3RoIC8gYywgaiA9IDA7IGkgPiBqOyBqKyspIHsKICAgICAgdmFyIGsgPSBmW2pdOwogICAgICBrLl9fdG1wID0gaiwgaC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCksIGguY2xlYXJSZWN0KDAsIDAsIGcud2lkdGggKyAxLCBnLmhlaWdodCArIDEpLCBnLndpZHRoID0gay53aWR0aCwgZy5oZWlnaHQgPSBrLmhlaWdodCwgaC5zZXRUcmFuc2Zvcm0oZCA/IC0xIDogMSwgMCwgMCwgZSA/IC0xIDogMSwgZCA/IGsud2lkdGggOiAwLCBlID8gay5oZWlnaHQgOiAwKSwgaC5kcmF3SW1hZ2UoaywgMCwgMCk7CiAgICAgIHZhciBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICAgIGwuc3JjID0gZy50b0RhdGFVUkwoImltYWdlL3BuZyIpLCBsLndpZHRoID0gay53aWR0aCB8fCBrLm5hdHVyYWxXaWR0aCwgbC5oZWlnaHQgPSBrLmhlaWdodCB8fCBrLm5hdHVyYWxIZWlnaHQsIGYucHVzaChsKTsKICAgIH0KCiAgICB2YXIgbSA9IGIuX2ZyYW1lcywKICAgICAgICBuID0gbS5sZW5ndGggLyBjOwoKICAgIGZvciAoaiA9IDA7IG4gPiBqOyBqKyspIHsKICAgICAgayA9IG1bal07CiAgICAgIHZhciBvID0gay5yZWN0LmNsb25lKCk7CiAgICAgIGwgPSBmW2suaW1hZ2UuX190bXAgKyBpICogY107CiAgICAgIHZhciBwID0gewogICAgICAgIGltYWdlOiBsLAogICAgICAgIHJlY3Q6IG8sCiAgICAgICAgcmVnWDogay5yZWdYLAogICAgICAgIHJlZ1k6IGsucmVnWQogICAgICB9OwogICAgICBkICYmIChvLnggPSAobC53aWR0aCB8fCBsLm5hdHVyYWxXaWR0aCkgLSBvLnggLSBvLndpZHRoLCBwLnJlZ1ggPSBvLndpZHRoIC0gay5yZWdYKSwgZSAmJiAoby55ID0gKGwuaGVpZ2h0IHx8IGwubmF0dXJhbEhlaWdodCkgLSBvLnkgLSBvLmhlaWdodCwgcC5yZWdZID0gby5oZWlnaHQgLSBrLnJlZ1kpLCBtLnB1c2gocCk7CiAgICB9CgogICAgdmFyIHEgPSAiXyIgKyAoZCA/ICJoIiA6ICIiKSArIChlID8gInYiIDogIiIpLAogICAgICAgIHIgPSBiLl9hbmltYXRpb25zLAogICAgICAgIHMgPSBiLl9kYXRhLAogICAgICAgIHQgPSByLmxlbmd0aCAvIGM7CgogICAgZm9yIChqID0gMDsgdCA+IGo7IGorKykgewogICAgICB2YXIgdSA9IHJbal07CiAgICAgIGsgPSBzW3VdOwogICAgICB2YXIgdiA9IHsKICAgICAgICBuYW1lOiB1ICsgcSwKICAgICAgICBzcGVlZDogay5zcGVlZCwKICAgICAgICBuZXh0OiBrLm5leHQsCiAgICAgICAgZnJhbWVzOiBbXQogICAgICB9OwogICAgICBrLm5leHQgJiYgKHYubmV4dCArPSBxKSwgbSA9IGsuZnJhbWVzOwoKICAgICAgZm9yICh2YXIgdyA9IDAsIHggPSBtLmxlbmd0aDsgeCA+IHc7IHcrKykgewogICAgICAgIHYuZnJhbWVzLnB1c2gobVt3XSArIG4gKiBjKTsKICAgICAgfQoKICAgICAgc1t2Lm5hbWVdID0gdiwgci5wdXNoKHYubmFtZSk7CiAgICB9CiAgfSwgY3JlYXRlanMuU3ByaXRlU2hlZXRVdGlscyA9IGE7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSkgewogICAgdGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKSwgdGhpcy5tYXhXaWR0aCA9IDIwNDgsIHRoaXMubWF4SGVpZ2h0ID0gMjA0OCwgdGhpcy5zcHJpdGVTaGVldCA9IG51bGwsIHRoaXMuc2NhbGUgPSAxLCB0aGlzLnBhZGRpbmcgPSAxLCB0aGlzLnRpbWVTbGljZSA9IC4zLCB0aGlzLnByb2dyZXNzID0gLTEsIHRoaXMuZnJhbWVyYXRlID0gYSB8fCAwLCB0aGlzLl9mcmFtZXMgPSBbXSwgdGhpcy5fYW5pbWF0aW9ucyA9IHt9LCB0aGlzLl9kYXRhID0gbnVsbCwgdGhpcy5fbmV4dEZyYW1lSW5kZXggPSAwLCB0aGlzLl9pbmRleCA9IDAsIHRoaXMuX3RpbWVySUQgPSBudWxsLCB0aGlzLl9zY2FsZSA9IDE7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpOwogIGEuRVJSX0RJTUVOU0lPTlMgPSAiZnJhbWUgZGltZW5zaW9ucyBleGNlZWQgbWF4IHNwcml0ZXNoZWV0IGRpbWVuc2lvbnMiLCBhLkVSUl9SVU5OSU5HID0gImEgYnVpbGQgaXMgYWxyZWFkeSBydW5uaW5nIiwgYi5hZGRGcmFtZSA9IGZ1bmN0aW9uIChiLCBjLCBkLCBlLCBmKSB7CiAgICBpZiAodGhpcy5fZGF0YSkgdGhyb3cgYS5FUlJfUlVOTklORzsKICAgIHZhciBnID0gYyB8fCBiLmJvdW5kcyB8fCBiLm5vbWluYWxCb3VuZHM7CiAgICByZXR1cm4gIWcgJiYgYi5nZXRCb3VuZHMgJiYgKGcgPSBiLmdldEJvdW5kcygpKSwgZyA/IChkID0gZCB8fCAxLCB0aGlzLl9mcmFtZXMucHVzaCh7CiAgICAgIHNvdXJjZTogYiwKICAgICAgc291cmNlUmVjdDogZywKICAgICAgc2NhbGU6IGQsCiAgICAgIGZ1bmN0OiBlLAogICAgICBkYXRhOiBmLAogICAgICBpbmRleDogdGhpcy5fZnJhbWVzLmxlbmd0aCwKICAgICAgaGVpZ2h0OiBnLmhlaWdodCAqIGQKICAgIH0pIC0gMSkgOiBudWxsOwogIH0sIGIuYWRkQW5pbWF0aW9uID0gZnVuY3Rpb24gKGIsIGMsIGQsIGUpIHsKICAgIGlmICh0aGlzLl9kYXRhKSB0aHJvdyBhLkVSUl9SVU5OSU5HOwogICAgdGhpcy5fYW5pbWF0aW9uc1tiXSA9IHsKICAgICAgZnJhbWVzOiBjLAogICAgICBuZXh0OiBkLAogICAgICBzcGVlZDogZQogICAgfTsKICB9LCBiLmFkZE1vdmllQ2xpcCA9IGZ1bmN0aW9uIChiLCBjLCBkLCBlLCBmLCBnKSB7CiAgICBpZiAodGhpcy5fZGF0YSkgdGhyb3cgYS5FUlJfUlVOTklORzsKICAgIHZhciBoID0gYi5mcmFtZUJvdW5kcywKICAgICAgICBpID0gYyB8fCBiLmJvdW5kcyB8fCBiLm5vbWluYWxCb3VuZHM7CgogICAgaWYgKCFpICYmIGIuZ2V0Qm91bmRzICYmIChpID0gYi5nZXRCb3VuZHMoKSksIGkgfHwgaCkgewogICAgICB2YXIgaiwKICAgICAgICAgIGssCiAgICAgICAgICBsID0gdGhpcy5fZnJhbWVzLmxlbmd0aCwKICAgICAgICAgIG0gPSBiLnRpbWVsaW5lLmR1cmF0aW9uOwoKICAgICAgZm9yIChqID0gMDsgbSA+IGo7IGorKykgewogICAgICAgIHZhciBuID0gaCAmJiBoW2pdID8gaFtqXSA6IGk7CiAgICAgICAgdGhpcy5hZGRGcmFtZShiLCBuLCBkLCB0aGlzLl9zZXR1cE1vdmllQ2xpcEZyYW1lLCB7CiAgICAgICAgICBpOiBqLAogICAgICAgICAgZjogZSwKICAgICAgICAgIGQ6IGYKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIG8gPSBiLnRpbWVsaW5lLl9sYWJlbHMsCiAgICAgICAgICBwID0gW107CgogICAgICBmb3IgKHZhciBxIGluIG8pIHsKICAgICAgICBwLnB1c2goewogICAgICAgICAgaW5kZXg6IG9bcV0sCiAgICAgICAgICBsYWJlbDogcQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAocC5sZW5ndGgpIGZvciAocC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4OwogICAgICB9KSwgaiA9IDAsIGsgPSBwLmxlbmd0aDsgayA+IGo7IGorKykgewogICAgICAgIGZvciAodmFyIHIgPSBwW2pdLmxhYmVsLCBzID0gbCArIHBbal0uaW5kZXgsIHQgPSBsICsgKGogPT0gayAtIDEgPyBtIDogcFtqICsgMV0uaW5kZXgpLCB1ID0gW10sIHYgPSBzOyB0ID4gdjsgdisrKSB7CiAgICAgICAgICB1LnB1c2godik7CiAgICAgICAgfQoKICAgICAgICAoIWcgfHwgKHIgPSBnKHIsIGIsIHMsIHQpKSkgJiYgdGhpcy5hZGRBbmltYXRpb24ociwgdSwgITApOwogICAgICB9CiAgICB9CiAgfSwgYi5idWlsZCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLl9kYXRhKSB0aHJvdyBhLkVSUl9SVU5OSU5HOwoKICAgIGZvciAodGhpcy5fc3RhcnRCdWlsZCgpOyB0aGlzLl9kcmF3TmV4dCgpOykgewogICAgICA7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuX2VuZEJ1aWxkKCksIHRoaXMuc3ByaXRlU2hlZXQ7CiAgfSwgYi5idWlsZEFzeW5jID0gZnVuY3Rpb24gKGIpIHsKICAgIGlmICh0aGlzLl9kYXRhKSB0aHJvdyBhLkVSUl9SVU5OSU5HOwogICAgdGhpcy50aW1lU2xpY2UgPSBiLCB0aGlzLl9zdGFydEJ1aWxkKCk7CiAgICB2YXIgYyA9IHRoaXM7CiAgICB0aGlzLl90aW1lcklEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGMuX3J1bigpOwogICAgfSwgNTAgLSA1MCAqIE1hdGgubWF4KC4wMSwgTWF0aC5taW4oLjk5LCB0aGlzLnRpbWVTbGljZSB8fCAuMykpKTsKICB9LCBiLnN0b3BBc3luYyA9IGZ1bmN0aW9uICgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcklEKSwgdGhpcy5fZGF0YSA9IG51bGw7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93ICJTcHJpdGVTaGVldEJ1aWxkZXIgY2Fubm90IGJlIGNsb25lZC4iOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltTcHJpdGVTaGVldEJ1aWxkZXJdIjsKICB9LCBiLl9zdGFydEJ1aWxkID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGIgPSB0aGlzLnBhZGRpbmcgfHwgMDsKICAgIHRoaXMucHJvZ3Jlc3MgPSAwLCB0aGlzLnNwcml0ZVNoZWV0ID0gbnVsbCwgdGhpcy5faW5kZXggPSAwLCB0aGlzLl9zY2FsZSA9IHRoaXMuc2NhbGU7CiAgICB2YXIgYyA9IFtdOwogICAgdGhpcy5fZGF0YSA9IHsKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgZnJhbWVzOiBjLAogICAgICBmcmFtZXJhdGU6IHRoaXMuZnJhbWVyYXRlLAogICAgICBhbmltYXRpb25zOiB0aGlzLl9hbmltYXRpb25zCiAgICB9OwoKICAgIHZhciBkID0gdGhpcy5fZnJhbWVzLnNsaWNlKCk7CgogICAgaWYgKGQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gYS5oZWlnaHQgPD0gYi5oZWlnaHQgPyAtMSA6IDE7CiAgICB9KSwgZFtkLmxlbmd0aCAtIDFdLmhlaWdodCArIDIgKiBiID4gdGhpcy5tYXhIZWlnaHQpIHRocm93IGEuRVJSX0RJTUVOU0lPTlM7CgogICAgZm9yICh2YXIgZSA9IDAsIGYgPSAwLCBnID0gMDsgZC5sZW5ndGg7KSB7CiAgICAgIHZhciBoID0gdGhpcy5fZmlsbFJvdyhkLCBlLCBnLCBjLCBiKTsKCiAgICAgIGlmIChoLncgPiBmICYmIChmID0gaC53KSwgZSArPSBoLmgsICFoLmggfHwgIWQubGVuZ3RoKSB7CiAgICAgICAgdmFyIGkgPSBjcmVhdGVqcy5jcmVhdGVDYW52YXMgPyBjcmVhdGVqcy5jcmVhdGVDYW52YXMoKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogICAgICAgIGkud2lkdGggPSB0aGlzLl9nZXRTaXplKGYsIHRoaXMubWF4V2lkdGgpLCBpLmhlaWdodCA9IHRoaXMuX2dldFNpemUoZSwgdGhpcy5tYXhIZWlnaHQpLCB0aGlzLl9kYXRhLmltYWdlc1tnXSA9IGksIGguaCB8fCAoZiA9IGUgPSAwLCBnKyspOwogICAgICB9CiAgICB9CiAgfSwgYi5fc2V0dXBNb3ZpZUNsaXBGcmFtZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IGEuYWN0aW9uc0VuYWJsZWQ7CiAgICBhLmFjdGlvbnNFbmFibGVkID0gITEsIGEuZ290b0FuZFN0b3AoYi5pKSwgYS5hY3Rpb25zRW5hYmxlZCA9IGMsIGIuZiAmJiBiLmYoYSwgYi5kLCBiLmkpOwogIH0sIGIuX2dldFNpemUgPSBmdW5jdGlvbiAoYSwgYikgewogICAgZm9yICh2YXIgYyA9IDQ7IE1hdGgucG93KDIsICsrYykgPCBhOykgewogICAgICA7CiAgICB9CgogICAgcmV0dXJuIE1hdGgubWluKGIsIE1hdGgucG93KDIsIGMpKTsKICB9LCBiLl9maWxsUm93ID0gZnVuY3Rpb24gKGIsIGMsIGQsIGUsIGYpIHsKICAgIHZhciBnID0gdGhpcy5tYXhXaWR0aCwKICAgICAgICBoID0gdGhpcy5tYXhIZWlnaHQ7CiAgICBjICs9IGY7CgogICAgZm9yICh2YXIgaSA9IGggLSBjLCBqID0gZiwgayA9IDAsIGwgPSBiLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7CiAgICAgIHZhciBtID0gYltsXSwKICAgICAgICAgIG4gPSB0aGlzLl9zY2FsZSAqIG0uc2NhbGUsCiAgICAgICAgICBvID0gbS5zb3VyY2VSZWN0LAogICAgICAgICAgcCA9IG0uc291cmNlLAogICAgICAgICAgcSA9IE1hdGguZmxvb3IobiAqIG8ueCAtIGYpLAogICAgICAgICAgciA9IE1hdGguZmxvb3IobiAqIG8ueSAtIGYpLAogICAgICAgICAgcyA9IE1hdGguY2VpbChuICogby5oZWlnaHQgKyAyICogZiksCiAgICAgICAgICB0ID0gTWF0aC5jZWlsKG4gKiBvLndpZHRoICsgMiAqIGYpOwogICAgICBpZiAodCA+IGcpIHRocm93IGEuRVJSX0RJTUVOU0lPTlM7CiAgICAgIHMgPiBpIHx8IGogKyB0ID4gZyB8fCAobS5pbWcgPSBkLCBtLnJlY3QgPSBuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKGosIGMsIHQsIHMpLCBrID0gayB8fCBzLCBiLnNwbGljZShsLCAxKSwgZVttLmluZGV4XSA9IFtqLCBjLCB0LCBzLCBkLCBNYXRoLnJvdW5kKC1xICsgbiAqIHAucmVnWCAtIGYpLCBNYXRoLnJvdW5kKC1yICsgbiAqIHAucmVnWSAtIGYpXSwgaiArPSB0KTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICB3OiBqLAogICAgICBoOiBrCiAgICB9OwogIH0sIGIuX2VuZEJ1aWxkID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5zcHJpdGVTaGVldCA9IG5ldyBjcmVhdGVqcy5TcHJpdGVTaGVldCh0aGlzLl9kYXRhKSwgdGhpcy5fZGF0YSA9IG51bGwsIHRoaXMucHJvZ3Jlc3MgPSAxLCB0aGlzLmRpc3BhdGNoRXZlbnQoImNvbXBsZXRlIik7CiAgfSwgYi5fcnVuID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgYSA9IDUwICogTWF0aC5tYXgoLjAxLCBNYXRoLm1pbiguOTksIHRoaXMudGltZVNsaWNlIHx8IC4zKSksIGIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIGEsIGMgPSAhMTsgYiA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpOykgewogICAgICBpZiAoIXRoaXMuX2RyYXdOZXh0KCkpIHsKICAgICAgICBjID0gITA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoYykgdGhpcy5fZW5kQnVpbGQoKTtlbHNlIHsKICAgICAgdmFyIGQgPSB0aGlzOwogICAgICB0aGlzLl90aW1lcklEID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZC5fcnVuKCk7CiAgICAgIH0sIDUwIC0gYSk7CiAgICB9CiAgICB2YXIgZSA9IHRoaXMucHJvZ3Jlc3MgPSB0aGlzLl9pbmRleCAvIHRoaXMuX2ZyYW1lcy5sZW5ndGg7CgogICAgaWYgKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiKSkgewogICAgICB2YXIgZiA9IG5ldyBjcmVhdGVqcy5FdmVudCgicHJvZ3Jlc3MiKTsKICAgICAgZi5wcm9ncmVzcyA9IGUsIHRoaXMuZGlzcGF0Y2hFdmVudChmKTsKICAgIH0KICB9LCBiLl9kcmF3TmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gdGhpcy5fZnJhbWVzW3RoaXMuX2luZGV4XSwKICAgICAgICBiID0gYS5zY2FsZSAqIHRoaXMuX3NjYWxlLAogICAgICAgIGMgPSBhLnJlY3QsCiAgICAgICAgZCA9IGEuc291cmNlUmVjdCwKICAgICAgICBlID0gdGhpcy5fZGF0YS5pbWFnZXNbYS5pbWddLAogICAgICAgIGYgPSBlLmdldENvbnRleHQoIjJkIik7CiAgICByZXR1cm4gYS5mdW5jdCAmJiBhLmZ1bmN0KGEuc291cmNlLCBhLmRhdGEpLCBmLnNhdmUoKSwgZi5iZWdpblBhdGgoKSwgZi5yZWN0KGMueCwgYy55LCBjLndpZHRoLCBjLmhlaWdodCksIGYuY2xpcCgpLCBmLnRyYW5zbGF0ZShNYXRoLmNlaWwoYy54IC0gZC54ICogYiksIE1hdGguY2VpbChjLnkgLSBkLnkgKiBiKSksIGYuc2NhbGUoYiwgYiksIGEuc291cmNlLmRyYXcoZiksIGYucmVzdG9yZSgpLCArK3RoaXMuX2luZGV4IDwgdGhpcy5fZnJhbWVzLmxlbmd0aDsKICB9LCBjcmVhdGVqcy5TcHJpdGVTaGVldEJ1aWxkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJFdmVudERpc3BhdGNoZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhKSB7CiAgICB0aGlzLkRpc3BsYXlPYmplY3RfY29uc3RydWN0b3IoKSwgInN0cmluZyIgPT0gdHlwZW9mIGEgJiYgKGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSksIHRoaXMubW91c2VFbmFibGVkID0gITE7CiAgICB2YXIgYiA9IGEuc3R5bGU7CiAgICBiLnBvc2l0aW9uID0gImFic29sdXRlIiwgYi50cmFuc2Zvcm1PcmlnaW4gPSBiLldlYmtpdFRyYW5zZm9ybU9yaWdpbiA9IGIubXNUcmFuc2Zvcm1PcmlnaW4gPSBiLk1velRyYW5zZm9ybU9yaWdpbiA9IGIuT1RyYW5zZm9ybU9yaWdpbiA9ICIwJSAwJSIsIHRoaXMuaHRtbEVsZW1lbnQgPSBhLCB0aGlzLl9vbGRQcm9wcyA9IG51bGwsIHRoaXMuX29sZFN0YWdlID0gbnVsbCwgdGhpcy5fZHJhd0FjdGlvbiA9IG51bGw7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0KTsKICBiLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBudWxsICE9IHRoaXMuaHRtbEVsZW1lbnQ7CiAgfSwgYi5kcmF3ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiAhMDsKICB9LCBiLmNhY2hlID0gZnVuY3Rpb24gKCkge30sIGIudW5jYWNoZSA9IGZ1bmN0aW9uICgpIHt9LCBiLnVwZGF0ZUNhY2hlID0gZnVuY3Rpb24gKCkge30sIGIuaGl0VGVzdCA9IGZ1bmN0aW9uICgpIHt9LCBiLmxvY2FsVG9HbG9iYWwgPSBmdW5jdGlvbiAoKSB7fSwgYi5nbG9iYWxUb0xvY2FsID0gZnVuY3Rpb24gKCkge30sIGIubG9jYWxUb0xvY2FsID0gZnVuY3Rpb24gKCkge30sIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyAiRE9NRWxlbWVudCBjYW5ub3QgYmUgY2xvbmVkLiI7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0RPTUVsZW1lbnQgKG5hbWU9IiArIHRoaXMubmFtZSArICIpXSI7CiAgfSwgYi5fdGljayA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMuc3RhZ2U7CiAgICBiICYmIGIgIT09IHRoaXMuX29sZFN0YWdlICYmICh0aGlzLl9kcmF3QWN0aW9uICYmIGIub2ZmKCJkcmF3ZW5kIiwgdGhpcy5fZHJhd0FjdGlvbiksIHRoaXMuX2RyYXdBY3Rpb24gPSBiLm9uKCJkcmF3ZW5kIiwgdGhpcy5faGFuZGxlRHJhd0VuZCwgdGhpcyksIHRoaXMuX29sZFN0YWdlID0gYiksIHRoaXMuRGlzcGxheU9iamVjdF9fdGljayhhKTsKICB9LCBiLl9oYW5kbGVEcmF3RW5kID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5odG1sRWxlbWVudDsKCiAgICBpZiAoYikgewogICAgICB2YXIgYyA9IGIuc3R5bGUsCiAgICAgICAgICBkID0gdGhpcy5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHModGhpcy5fcHJvcHMpLAogICAgICAgICAgZSA9IGQubWF0cml4LAogICAgICAgICAgZiA9IGQudmlzaWJsZSA/ICJ2aXNpYmxlIiA6ICJoaWRkZW4iOwoKICAgICAgaWYgKGYgIT0gYy52aXNpYmlsaXR5ICYmIChjLnZpc2liaWxpdHkgPSBmKSwgZC52aXNpYmxlKSB7CiAgICAgICAgdmFyIGcgPSB0aGlzLl9vbGRQcm9wcywKICAgICAgICAgICAgaCA9IGcgJiYgZy5tYXRyaXgsCiAgICAgICAgICAgIGkgPSAxZTQ7CgogICAgICAgIGlmICghaCB8fCAhaC5lcXVhbHMoZSkpIHsKICAgICAgICAgIHZhciBqID0gIm1hdHJpeCgiICsgKGUuYSAqIGkgfCAwKSAvIGkgKyAiLCIgKyAoZS5iICogaSB8IDApIC8gaSArICIsIiArIChlLmMgKiBpIHwgMCkgLyBpICsgIiwiICsgKGUuZCAqIGkgfCAwKSAvIGkgKyAiLCIgKyAoZS50eCArIC41IHwgMCk7CiAgICAgICAgICBjLnRyYW5zZm9ybSA9IGMuV2Via2l0VHJhbnNmb3JtID0gYy5PVHJhbnNmb3JtID0gYy5tc1RyYW5zZm9ybSA9IGogKyAiLCIgKyAoZS50eSArIC41IHwgMCkgKyAiKSIsIGMuTW96VHJhbnNmb3JtID0gaiArICJweCwiICsgKGUudHkgKyAuNSB8IDApICsgInB4KSIsIGcgfHwgKGcgPSB0aGlzLl9vbGRQcm9wcyA9IG5ldyBjcmVhdGVqcy5EaXNwbGF5UHJvcHMoITAsIG51bGwpKSwgZy5tYXRyaXguY29weShlKTsKICAgICAgICB9CgogICAgICAgIGcuYWxwaGEgIT0gZC5hbHBoYSAmJiAoYy5vcGFjaXR5ID0gIiIgKyAoZC5hbHBoYSAqIGkgfCAwKSAvIGksIGcuYWxwaGEgPSBkLmFscGhhKTsKICAgICAgfQogICAgfQogIH0sIGNyZWF0ZWpzLkRPTUVsZW1lbnQgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJEaXNwbGF5T2JqZWN0Iik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLnVzZXNDb250ZXh0ID0gITEsIHRoaXMuX211bHRpUGFzcyA9IG51bGwsIHRoaXMuVlRYX1NIQURFUl9CT0RZID0gbnVsbCwgdGhpcy5GUkFHX1NIQURFUl9CT0RZID0gbnVsbDsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGU7CiAgYi5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGE7CiAgfSwgYi5zaGFkZXJQYXJhbVNldHVwID0gZnVuY3Rpb24gKGEsIGIsIGMpIHt9LCBiLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHsKICAgIGYgPSBmIHx8IGEsIG51bGwgPT0gZyAmJiAoZyA9IGIpLCBudWxsID09IGggJiYgKGggPSBjKTsKCiAgICB0cnkgewogICAgICB2YXIgaSA9IGEuZ2V0SW1hZ2VEYXRhKGIsIGMsIGQsIGUpOwogICAgfSBjYXRjaCAoaikgewogICAgICByZXR1cm4gITE7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuX2FwcGx5RmlsdGVyKGkpID8gKGYucHV0SW1hZ2VEYXRhKGksIGcsIGgpLCAhMCkgOiAhMTsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbRmlsdGVyXSI7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgYSgpOwogIH0sIGIuX2FwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiAhMDsKICB9LCBjcmVhdGVqcy5GaWx0ZXIgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKCkgewogICAgdGhpcy53aWR0aCA9IHZvaWQgMCwgdGhpcy5oZWlnaHQgPSB2b2lkIDAsIHRoaXMueCA9IHZvaWQgMCwgdGhpcy55ID0gdm9pZCAwLCB0aGlzLnNjYWxlID0gMSwgdGhpcy5vZmZYID0gMCwgdGhpcy5vZmZZID0gMCwgdGhpcy5jYWNoZUlEID0gMCwgdGhpcy5fZmlsdGVyT2ZmWCA9IDAsIHRoaXMuX2ZpbHRlck9mZlkgPSAwLCB0aGlzLl9jYWNoZURhdGFVUkxJRCA9IDAsIHRoaXMuX2NhY2hlRGF0YVVSTCA9IG51bGwsIHRoaXMuX2RyYXdXaWR0aCA9IDAsIHRoaXMuX2RyYXdIZWlnaHQgPSAwOwogIH0KCiAgdmFyIGIgPSBhLnByb3RvdHlwZTsKICBhLmdldEZpbHRlckJvdW5kcyA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBiIHx8IChiID0gbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSgpKTsKICAgIHZhciBjID0gYS5maWx0ZXJzLAogICAgICAgIGQgPSBjICYmIGMubGVuZ3RoOwogICAgaWYgKDAgPj0gISFkKSByZXR1cm4gYjsKCiAgICBmb3IgKHZhciBlID0gMDsgZCA+IGU7IGUrKykgewogICAgICB2YXIgZiA9IGNbZV07CgogICAgICBpZiAoZiAmJiBmLmdldEJvdW5kcykgewogICAgICAgIHZhciBnID0gZi5nZXRCb3VuZHMoKTsKICAgICAgICBnICYmICgwID09IGUgPyBiLnNldFZhbHVlcyhnLngsIGcueSwgZy53aWR0aCwgZy5oZWlnaHQpIDogYi5leHRlbmQoZy54LCBnLnksIGcud2lkdGgsIGcuaGVpZ2h0KSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYjsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbQml0bWFwQ2FjaGVdIjsKICB9LCBiLmRlZmluZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmLCBnKSB7CiAgICBpZiAoIWEpIHRocm93ICJObyBzeW1ib2wgdG8gY2FjaGUiOwogICAgdGhpcy5fb3B0aW9ucyA9IGcsIHRoaXMudGFyZ2V0ID0gYSwgdGhpcy53aWR0aCA9IGQgPj0gMSA/IGQgOiAxLCB0aGlzLmhlaWdodCA9IGUgPj0gMSA/IGUgOiAxLCB0aGlzLnggPSBiIHx8IDAsIHRoaXMueSA9IGMgfHwgMCwgdGhpcy5zY2FsZSA9IGYgfHwgMSwgdGhpcy51cGRhdGUoKTsKICB9LCBiLnVwZGF0ZSA9IGZ1bmN0aW9uIChiKSB7CiAgICBpZiAoIXRoaXMudGFyZ2V0KSB0aHJvdyAiZGVmaW5lKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHVwZGF0ZSgpIjsKICAgIHZhciBjID0gYS5nZXRGaWx0ZXJCb3VuZHModGhpcy50YXJnZXQpLAogICAgICAgIGQgPSB0aGlzLnRhcmdldC5jYWNoZUNhbnZhczsKICAgIHRoaXMuX2RyYXdXaWR0aCA9IE1hdGguY2VpbCh0aGlzLndpZHRoICogdGhpcy5zY2FsZSkgKyBjLndpZHRoLCB0aGlzLl9kcmF3SGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuaGVpZ2h0ICogdGhpcy5zY2FsZSkgKyBjLmhlaWdodCwgZCAmJiB0aGlzLl9kcmF3V2lkdGggPT0gZC53aWR0aCAmJiB0aGlzLl9kcmF3SGVpZ2h0ID09IGQuaGVpZ2h0IHx8IHRoaXMuX3VwZGF0ZVN1cmZhY2UoKSwgdGhpcy5fZmlsdGVyT2ZmWCA9IGMueCwgdGhpcy5fZmlsdGVyT2ZmWSA9IGMueSwgdGhpcy5vZmZYID0gdGhpcy54ICogdGhpcy5zY2FsZSArIHRoaXMuX2ZpbHRlck9mZlgsIHRoaXMub2ZmWSA9IHRoaXMueSAqIHRoaXMuc2NhbGUgKyB0aGlzLl9maWx0ZXJPZmZZLCB0aGlzLl9kcmF3VG9DYWNoZShiKSwgdGhpcy5jYWNoZUlEID0gdGhpcy5jYWNoZUlEID8gdGhpcy5jYWNoZUlEICsgMSA6IDE7CiAgfSwgYi5yZWxlYXNlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuX3dlYkdMQ2FjaGUpIHRoaXMuX3dlYkdMQ2FjaGUuaXNDYWNoZUNvbnRyb2xsZWQgfHwgKHRoaXMuX19sYXN0UlQgJiYgKHRoaXMuX19sYXN0UlQgPSB2b2lkIDApLCB0aGlzLl9fcnRBICYmIHRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMuX19ydEEpLCB0aGlzLl9fcnRCICYmIHRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMuX19ydEIpLCB0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyAmJiB0aGlzLl93ZWJHTENhY2hlLl9raWxsVGV4dHVyZU9iamVjdCh0aGlzLnRhcmdldC5jYWNoZUNhbnZhcykpLCB0aGlzLl93ZWJHTENhY2hlID0gITE7ZWxzZSB7CiAgICAgIHZhciBhID0gdGhpcy50YXJnZXQuc3RhZ2U7CiAgICAgIGEgaW5zdGFuY2VvZiBjcmVhdGVqcy5TdGFnZUdMICYmIGEucmVsZWFzZVRleHR1cmUodGhpcy50YXJnZXQuY2FjaGVDYW52YXMpOwogICAgfQogICAgdGhpcy50YXJnZXQgPSB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyA9IG51bGwsIHRoaXMuY2FjaGVJRCA9IHRoaXMuX2NhY2hlRGF0YVVSTElEID0gdGhpcy5fY2FjaGVEYXRhVVJMID0gdm9pZCAwLCB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSB0aGlzLnggPSB0aGlzLnkgPSB0aGlzLm9mZlggPSB0aGlzLm9mZlkgPSAwLCB0aGlzLnNjYWxlID0gMTsKICB9LCBiLmdldENhY2hlRGF0YVVSTCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gdGhpcy50YXJnZXQgJiYgdGhpcy50YXJnZXQuY2FjaGVDYW52YXM7CiAgICByZXR1cm4gYSA/ICh0aGlzLmNhY2hlSUQgIT0gdGhpcy5fY2FjaGVEYXRhVVJMSUQgJiYgKHRoaXMuX2NhY2hlRGF0YVVSTElEID0gdGhpcy5jYWNoZUlELCB0aGlzLl9jYWNoZURhdGFVUkwgPSBhLnRvRGF0YVVSTCA/IGEudG9EYXRhVVJMKCkgOiBudWxsKSwgdGhpcy5fY2FjaGVEYXRhVVJMKSA6IG51bGw7CiAgfSwgYi5kcmF3ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLnRhcmdldCA/IChhLmRyYXdJbWFnZSh0aGlzLnRhcmdldC5jYWNoZUNhbnZhcywgdGhpcy54ICsgdGhpcy5fZmlsdGVyT2ZmWCAvIHRoaXMuc2NhbGUsIHRoaXMueSArIHRoaXMuX2ZpbHRlck9mZlkgLyB0aGlzLnNjYWxlLCB0aGlzLl9kcmF3V2lkdGggLyB0aGlzLnNjYWxlLCB0aGlzLl9kcmF3SGVpZ2h0IC8gdGhpcy5zY2FsZSksICEwKSA6ICExOwogIH0sIGIuX3VwZGF0ZVN1cmZhY2UgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuX29wdGlvbnMgfHwgIXRoaXMuX29wdGlvbnMudXNlR0wpIHsKICAgICAgdmFyIGEgPSB0aGlzLnRhcmdldC5jYWNoZUNhbnZhczsKICAgICAgcmV0dXJuIGEgfHwgKGEgPSB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyA9IGNyZWF0ZWpzLmNyZWF0ZUNhbnZhcyA/IGNyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLCBhLndpZHRoID0gdGhpcy5fZHJhd1dpZHRoLCB2b2lkIChhLmhlaWdodCA9IHRoaXMuX2RyYXdIZWlnaHQpOwogICAgfQoKICAgIGlmICghdGhpcy5fd2ViR0xDYWNoZSkgaWYgKCJzdGFnZSIgPT09IHRoaXMuX29wdGlvbnMudXNlR0wpIHsKICAgICAgaWYgKCF0aGlzLnRhcmdldC5zdGFnZSB8fCAhdGhpcy50YXJnZXQuc3RhZ2UuaXNXZWJHTCkgewogICAgICAgIHZhciBiID0gIkNhbm5vdCB1c2UgJ3N0YWdlJyBmb3IgY2FjaGUgYmVjYXVzZSB0aGUgb2JqZWN0J3MgcGFyZW50IHN0YWdlIGlzICI7CiAgICAgICAgdGhyb3cgYiArPSB0aGlzLnRhcmdldC5zdGFnZSA/ICJub24gV2ViR0wuIiA6ICJub3Qgc2V0LCBwbGVhc2UgYWRkQ2hpbGQgdG8gdGhlIGNvcnJlY3Qgc3RhZ2UuIjsKICAgICAgfQoKICAgICAgdGhpcy50YXJnZXQuY2FjaGVDYW52YXMgPSAhMCwgdGhpcy5fd2ViR0xDYWNoZSA9IHRoaXMudGFyZ2V0LnN0YWdlOwogICAgfSBlbHNlIGlmICgibmV3IiA9PT0gdGhpcy5fb3B0aW9ucy51c2VHTCkgdGhpcy50YXJnZXQuY2FjaGVDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSwgdGhpcy5fd2ViR0xDYWNoZSA9IG5ldyBjcmVhdGVqcy5TdGFnZUdMKHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzLCB7CiAgICAgIGFudGlhbGlhczogITAsCiAgICAgIHRyYW5zcGFyZW50OiAhMCwKICAgICAgYXV0b1B1cmdlOiAtMQogICAgfSksIHRoaXMuX3dlYkdMQ2FjaGUuaXNDYWNoZUNvbnRyb2xsZWQgPSAhMDtlbHNlIHsKICAgICAgaWYgKCEodGhpcy5fb3B0aW9ucy51c2VHTCBpbnN0YW5jZW9mIGNyZWF0ZWpzLlN0YWdlR0wpKSB0aHJvdyAiSW52YWxpZCBvcHRpb24gcHJvdmlkZWQgdG8gdXNlR0wsIGV4cGVjdGVkIFsnc3RhZ2UnLCAnbmV3JywgU3RhZ2VHTCwgdW5kZWZpbmVkXSwgZ290ICIgKyB0aGlzLl9vcHRpb25zLnVzZUdMOwogICAgICB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyA9ICEwLCB0aGlzLl93ZWJHTENhY2hlID0gdGhpcy5fb3B0aW9ucy51c2VHTCwgdGhpcy5fd2ViR0xDYWNoZS5pc0NhY2hlQ29udHJvbGxlZCA9ICEwOwogICAgfQogICAgdmFyIGEgPSB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcywKICAgICAgICBjID0gdGhpcy5fd2ViR0xDYWNoZTsKICAgIGMuaXNDYWNoZUNvbnRyb2xsZWQgJiYgKGEud2lkdGggPSB0aGlzLl9kcmF3V2lkdGgsIGEuaGVpZ2h0ID0gdGhpcy5fZHJhd0hlaWdodCwgYy51cGRhdGVWaWV3cG9ydCh0aGlzLl9kcmF3V2lkdGgsIHRoaXMuX2RyYXdIZWlnaHQpKSwgdGhpcy50YXJnZXQuZmlsdGVycyA/IChjLmdldFRhcmdldFJlbmRlclRleHR1cmUodGhpcy50YXJnZXQsIHRoaXMuX2RyYXdXaWR0aCwgdGhpcy5fZHJhd0hlaWdodCksIGMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0aGlzLnRhcmdldCwgdGhpcy5fZHJhd1dpZHRoLCB0aGlzLl9kcmF3SGVpZ2h0KSkgOiBjLmlzQ2FjaGVDb250cm9sbGVkIHx8IGMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0aGlzLnRhcmdldCwgdGhpcy5fZHJhd1dpZHRoLCB0aGlzLl9kcmF3SGVpZ2h0KTsKICB9LCBiLl9kcmF3VG9DYWNoZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzLAogICAgICAgIGMgPSB0aGlzLnRhcmdldCwKICAgICAgICBkID0gdGhpcy5fd2ViR0xDYWNoZTsKICAgIGlmIChkKSBkLmNhY2hlRHJhdyhjLCBjLmZpbHRlcnMsIHRoaXMpLCBiID0gdGhpcy50YXJnZXQuY2FjaGVDYW52YXMsIGIud2lkdGggPSB0aGlzLl9kcmF3V2lkdGgsIGIuaGVpZ2h0ID0gdGhpcy5fZHJhd0hlaWdodDtlbHNlIHsKICAgICAgdmFyIGUgPSBiLmdldENvbnRleHQoIjJkIik7CiAgICAgIGEgfHwgZS5jbGVhclJlY3QoMCwgMCwgdGhpcy5fZHJhd1dpZHRoICsgMSwgdGhpcy5fZHJhd0hlaWdodCArIDEpLCBlLnNhdmUoKSwgZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBhLCBlLnNldFRyYW5zZm9ybSh0aGlzLnNjYWxlLCAwLCAwLCB0aGlzLnNjYWxlLCAtdGhpcy5fZmlsdGVyT2ZmWCwgLXRoaXMuX2ZpbHRlck9mZlkpLCBlLnRyYW5zbGF0ZSgtdGhpcy54LCAtdGhpcy55KSwgYy5kcmF3KGUsICEwKSwgZS5yZXN0b3JlKCksIGMuZmlsdGVycyAmJiBjLmZpbHRlcnMubGVuZ3RoICYmIHRoaXMuX2FwcGx5RmlsdGVycyhlKTsKICAgIH0KICAgIGIuX2ludmFsaWQgPSAhMDsKICB9LCBiLl9hcHBseUZpbHRlcnMgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIsCiAgICAgICAgYyA9IHRoaXMudGFyZ2V0LmZpbHRlcnMsCiAgICAgICAgZCA9IHRoaXMuX2RyYXdXaWR0aCwKICAgICAgICBlID0gdGhpcy5fZHJhd0hlaWdodCwKICAgICAgICBmID0gMCwKICAgICAgICBnID0gY1tmXTsKCiAgICBkbyB7CiAgICAgIGcudXNlc0NvbnRleHQgPyAoYiAmJiAoYS5wdXRJbWFnZURhdGEoYiwgMCwgMCksIGIgPSBudWxsKSwgZy5hcHBseUZpbHRlcihhLCAwLCAwLCBkLCBlKSkgOiAoYiB8fCAoYiA9IGEuZ2V0SW1hZ2VEYXRhKDAsIDAsIGQsIGUpKSwgZy5fYXBwbHlGaWx0ZXIoYikpLCBnID0gbnVsbCAhPT0gZy5fbXVsdGlQYXNzID8gZy5fbXVsdGlQYXNzIDogY1srK2ZdOwogICAgfSB3aGlsZSAoZyk7CgogICAgYiAmJiBhLnB1dEltYWdlRGF0YShiLCAwLCAwKTsKICB9LCBjcmVhdGVqcy5CaXRtYXBDYWNoZSA9IGE7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYiwgYykgewogICAgdGhpcy5GaWx0ZXJfY29uc3RydWN0b3IoKSwgdGhpcy5fYmx1clggPSBhLCB0aGlzLl9ibHVyWFRhYmxlID0gW10sIHRoaXMuX2xhc3RCbHVyWCA9IG51bGwsIHRoaXMuX2JsdXJZID0gYiwgdGhpcy5fYmx1cllUYWJsZSA9IFtdLCB0aGlzLl9sYXN0Qmx1clkgPSBudWxsLCB0aGlzLl9xdWFsaXR5LCB0aGlzLl9sYXN0UXVhbGl0eSA9IG51bGwsIHRoaXMuRlJBR19TSEFERVJfVEVNUExBVEUgPSAidW5pZm9ybSBmbG9hdCB4V2VpZ2h0W3t7Ymx1clh9fV07dW5pZm9ybSBmbG9hdCB5V2VpZ2h0W3t7Ymx1cll9fV07dW5pZm9ybSB2ZWMyIHRleHR1cmVPZmZzZXQ7dm9pZCBtYWluKHZvaWQpIHt2ZWM0IGNvbG9yID0gdmVjNCgwLjApO2Zsb2F0IHhBZGogPSAoe3tibHVyWH19LjAtMS4wKS8yLjA7ZmxvYXQgeUFkaiA9ICh7e2JsdXJZfX0uMC0xLjApLzIuMDt2ZWMyIHNhbXBsZU9mZnNldDtmb3IoaW50IGk9MDsgaTx7e2JsdXJYfX07IGkrKykge2ZvcihpbnQgaj0wOyBqPHt7Ymx1cll9fTsgaisrKSB7c2FtcGxlT2Zmc2V0ID0gdlJlbmRlckNvb3JkICsgKHRleHR1cmVPZmZzZXQgKiB2ZWMyKGZsb2F0KGkpLXhBZGosIGZsb2F0KGopLXlBZGopKTtjb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHNhbXBsZU9mZnNldCkgKiAoeFdlaWdodFtpXSAqIHlXZWlnaHRbal0pO319Z2xfRnJhZ0NvbG9yID0gY29sb3IucmdiYTt9IiwgKGlzTmFOKGMpIHx8IDEgPiBjKSAmJiAoYyA9IDEpLCB0aGlzLnNldFF1YWxpdHkoMCB8IGMpOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRmlsdGVyKTsKICBiLmdldEJsdXJYID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2JsdXJYOwogIH0sIGIuZ2V0Qmx1clkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fYmx1clk7CiAgfSwgYi5zZXRCbHVyWCA9IGZ1bmN0aW9uIChhKSB7CiAgICAoaXNOYU4oYSkgfHwgMCA+IGEpICYmIChhID0gMCksIHRoaXMuX2JsdXJYID0gYTsKICB9LCBiLnNldEJsdXJZID0gZnVuY3Rpb24gKGEpIHsKICAgIChpc05hTihhKSB8fCAwID4gYSkgJiYgKGEgPSAwKSwgdGhpcy5fYmx1clkgPSBhOwogIH0sIGIuZ2V0UXVhbGl0eSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9xdWFsaXR5OwogIH0sIGIuc2V0UXVhbGl0eSA9IGZ1bmN0aW9uIChhKSB7CiAgICAoaXNOYU4oYSkgfHwgMCA+IGEpICYmIChhID0gMCksIHRoaXMuX3F1YWxpdHkgPSAwIHwgYTsKICB9LCBiLl9nZXRTaGFkZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuX2xhc3RCbHVyWCAhPT0gdGhpcy5fYmx1clgsCiAgICAgICAgYiA9IHRoaXMuX2xhc3RCbHVyWSAhPT0gdGhpcy5fYmx1clksCiAgICAgICAgYyA9IHRoaXMuX2xhc3RRdWFsaXR5ICE9PSB0aGlzLl9xdWFsaXR5OwogICAgcmV0dXJuIGEgfHwgYiB8fCBjID8gKChhIHx8IGMpICYmICh0aGlzLl9ibHVyWFRhYmxlID0gdGhpcy5fZ2V0VGFibGUodGhpcy5fYmx1clggKiB0aGlzLl9xdWFsaXR5KSksIChiIHx8IGMpICYmICh0aGlzLl9ibHVyWVRhYmxlID0gdGhpcy5fZ2V0VGFibGUodGhpcy5fYmx1clkgKiB0aGlzLl9xdWFsaXR5KSksIHRoaXMuX3VwZGF0ZVNoYWRlcigpLCB0aGlzLl9sYXN0Qmx1clggPSB0aGlzLl9ibHVyWCwgdGhpcy5fbGFzdEJsdXJZID0gdGhpcy5fYmx1clksIHZvaWQgKHRoaXMuX2xhc3RRdWFsaXR5ID0gdGhpcy5fcXVhbGl0eSkpIDogdGhpcy5fY29tcGlsZWRTaGFkZXI7CiAgfSwgYi5fc2V0U2hhZGVyID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY29tcGlsZWRTaGFkZXI7CiAgfTsKCiAgdHJ5IHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGIsIHsKICAgICAgYmx1clg6IHsKICAgICAgICBnZXQ6IGIuZ2V0Qmx1clgsCiAgICAgICAgc2V0OiBiLnNldEJsdXJYCiAgICAgIH0sCiAgICAgIGJsdXJZOiB7CiAgICAgICAgZ2V0OiBiLmdldEJsdXJZLAogICAgICAgIHNldDogYi5zZXRCbHVyWQogICAgICB9LAogICAgICBxdWFsaXR5OiB7CiAgICAgICAgZ2V0OiBiLmdldFF1YWxpdHksCiAgICAgICAgc2V0OiBiLnNldFF1YWxpdHkKICAgICAgfSwKICAgICAgX2J1aWx0U2hhZGVyOiB7CiAgICAgICAgZ2V0OiBiLl9nZXRTaGFkZXIsCiAgICAgICAgc2V0OiBiLl9zZXRTaGFkZXIKICAgICAgfQogICAgfSk7CiAgfSBjYXRjaCAoYykgewogICAgY29uc29sZS5sb2coYyk7CiAgfQoKICBiLl9nZXRUYWJsZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IDQuMjsKICAgIGlmICgxID49IGEpIHJldHVybiBbMV07CiAgICB2YXIgYyA9IFtdLAogICAgICAgIGQgPSBNYXRoLmNlaWwoMiAqIGEpOwogICAgZCArPSBkICUgMiA/IDAgOiAxOwoKICAgIGZvciAodmFyIGUgPSBkIC8gMiB8IDAsIGYgPSAtZTsgZSA+PSBmOyBmKyspIHsKICAgICAgdmFyIGcgPSBmIC8gZSAqIGI7CiAgICAgIGMucHVzaCgxIC8gTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKSAqIE1hdGgucG93KE1hdGguRSwgLShNYXRoLnBvdyhnLCAyKSAvIDQpKSk7CiAgICB9CgogICAgdmFyIGggPSBjLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gYSArIGI7CiAgICB9KTsKICAgIHJldHVybiBjLm1hcChmdW5jdGlvbiAoYSwgYiwgYykgewogICAgICByZXR1cm4gYSAvIGg7CiAgICB9KTsKICB9LCBiLl91cGRhdGVTaGFkZXIgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodm9pZCAwICE9PSB0aGlzLl9ibHVyWCAmJiB2b2lkIDAgIT09IHRoaXMuX2JsdXJZKSB7CiAgICAgIHZhciBhID0gdGhpcy5GUkFHX1NIQURFUl9URU1QTEFURTsKICAgICAgYSA9IGEucmVwbGFjZSgvXHtce2JsdXJYXH1cfS9nLCB0aGlzLl9ibHVyWFRhYmxlLmxlbmd0aC50b0ZpeGVkKDApKSwgYSA9IGEucmVwbGFjZSgvXHtce2JsdXJZXH1cfS9nLCB0aGlzLl9ibHVyWVRhYmxlLmxlbmd0aC50b0ZpeGVkKDApKSwgdGhpcy5GUkFHX1NIQURFUl9CT0RZID0gYTsKICAgIH0KICB9LCBiLnNoYWRlclBhcmFtU2V0dXAgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgYS51bmlmb3JtMWZ2KGEuZ2V0VW5pZm9ybUxvY2F0aW9uKGMsICJ4V2VpZ2h0IiksIHRoaXMuX2JsdXJYVGFibGUpLCBhLnVuaWZvcm0xZnYoYS5nZXRVbmlmb3JtTG9jYXRpb24oYywgInlXZWlnaHQiKSwgdGhpcy5fYmx1cllUYWJsZSksIGEudW5pZm9ybTJmKGEuZ2V0VW5pZm9ybUxvY2F0aW9uKGMsICJ0ZXh0dXJlT2Zmc2V0IiksIDIgLyAoYi5fdmlld3BvcnRXaWR0aCAqIHRoaXMuX3F1YWxpdHkpLCAyIC8gKGIuX3ZpZXdwb3J0SGVpZ2h0ICogdGhpcy5fcXVhbGl0eSkpOwogIH0sIGEuTVVMX1RBQkxFID0gWzEsIDE3MSwgMjA1LCAyOTMsIDU3LCAzNzMsIDc5LCAxMzcsIDI0MSwgMjcsIDM5MSwgMzU3LCA0MSwgMTksIDI4MywgMjY1LCA0OTcsIDQ2OSwgNDQzLCA0MjEsIDI1LCAxOTEsIDM2NSwgMzQ5LCAzMzUsIDE2MSwgMTU1LCAxNDksIDksIDI3OCwgMjY5LCAyNjEsIDUwNSwgMjQ1LCA0NzUsIDIzMSwgNDQ5LCA0MzcsIDIxMywgNDE1LCA0MDUsIDM5NSwgMTkzLCAzNzcsIDM2OSwgMzYxLCAzNTMsIDM0NSwgMTY5LCAzMzEsIDMyNSwgMzE5LCAzMTMsIDMwNywgMzAxLCAzNywgMTQ1LCAyODUsIDI4MSwgNjksIDI3MSwgMjY3LCAyNjMsIDI1OSwgNTA5LCA1MDEsIDQ5MywgMjQzLCA0NzksIDExOCwgNDY1LCA0NTksIDExMywgNDQ2LCA1NSwgNDM1LCA0MjksIDQyMywgMjA5LCA0MTMsIDUxLCA0MDMsIDE5OSwgMzkzLCA5NywgMywgMzc5LCAzNzUsIDM3MSwgMzY3LCAzNjMsIDM1OSwgMzU1LCAzNTEsIDM0NywgNDMsIDg1LCAzMzcsIDMzMywgMTY1LCAzMjcsIDMyMywgNSwgMzE3LCAxNTcsIDMxMSwgNzcsIDMwNSwgMzAzLCA3NSwgMjk3LCAyOTQsIDczLCAyODksIDI4NywgNzEsIDE0MSwgMjc5LCAyNzcsIDI3NSwgNjgsIDEzNSwgNjcsIDEzMywgMzMsIDI2MiwgMjYwLCAxMjksIDUxMSwgNTA3LCA1MDMsIDQ5OSwgNDk1LCA0OTEsIDYxLCAxMjEsIDQ4MSwgNDc3LCAyMzcsIDIzNSwgNDY3LCAyMzIsIDExNSwgNDU3LCAyMjcsIDQ1MSwgNywgNDQ1LCAyMjEsIDQzOSwgMjE4LCA0MzMsIDIxNSwgNDI3LCA0MjUsIDIxMSwgNDE5LCA0MTcsIDIwNywgNDExLCA0MDksIDIwMywgMjAyLCA0MDEsIDM5OSwgMzk2LCAxOTcsIDQ5LCAzODksIDM4NywgMzg1LCAzODMsIDk1LCAxODksIDQ3LCAxODcsIDkzLCAxODUsIDIzLCAxODMsIDkxLCAxODEsIDQ1LCAxNzksIDg5LCAxNzcsIDExLCAxNzUsIDg3LCAxNzMsIDM0NSwgMzQzLCAzNDEsIDMzOSwgMzM3LCAyMSwgMTY3LCA4MywgMzMxLCAzMjksIDMyNywgMTYzLCA4MSwgMzIzLCAzMjEsIDMxOSwgMTU5LCA3OSwgMzE1LCAzMTMsIDM5LCAxNTUsIDMwOSwgMzA3LCAxNTMsIDMwNSwgMzAzLCAxNTEsIDc1LCAyOTksIDE0OSwgMzcsIDI5NSwgMTQ3LCA3MywgMjkxLCAxNDUsIDI4OSwgMjg3LCAxNDMsIDI4NSwgNzEsIDE0MSwgMjgxLCAzNSwgMjc5LCAxMzksIDY5LCAyNzUsIDEzNywgMjczLCAxNywgMjcxLCAxMzUsIDI2OSwgMjY3LCAxMzMsIDI2NSwgMzMsIDI2MywgMTMxLCAyNjEsIDEzMCwgMjU5LCAxMjksIDI1NywgMV0sIGEuU0hHX1RBQkxFID0gWzAsIDksIDEwLCAxMSwgOSwgMTIsIDEwLCAxMSwgMTIsIDksIDEzLCAxMywgMTAsIDksIDEzLCAxMywgMTQsIDE0LCAxNCwgMTQsIDEwLCAxMywgMTQsIDE0LCAxNCwgMTMsIDEzLCAxMywgOSwgMTQsIDE0LCAxNCwgMTUsIDE0LCAxNSwgMTQsIDE1LCAxNSwgMTQsIDE1LCAxNSwgMTUsIDE0LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE0LCAxNSwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxMiwgMTQsIDE1LCAxNSwgMTMsIDE1LCAxNSwgMTUsIDE1LCAxNiwgMTYsIDE2LCAxNSwgMTYsIDE0LCAxNiwgMTYsIDE0LCAxNiwgMTMsIDE2LCAxNiwgMTYsIDE1LCAxNiwgMTMsIDE2LCAxNSwgMTYsIDE0LCA5LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxMywgMTQsIDE2LCAxNiwgMTUsIDE2LCAxNiwgMTAsIDE2LCAxNSwgMTYsIDE0LCAxNiwgMTYsIDE0LCAxNiwgMTYsIDE0LCAxNiwgMTYsIDE0LCAxNSwgMTYsIDE2LCAxNiwgMTQsIDE1LCAxNCwgMTUsIDEzLCAxNiwgMTYsIDE1LCAxNywgMTcsIDE3LCAxNywgMTcsIDE3LCAxNCwgMTUsIDE3LCAxNywgMTYsIDE2LCAxNywgMTYsIDE1LCAxNywgMTYsIDE3LCAxMSwgMTcsIDE2LCAxNywgMTYsIDE3LCAxNiwgMTcsIDE3LCAxNiwgMTcsIDE3LCAxNiwgMTcsIDE3LCAxNiwgMTYsIDE3LCAxNywgMTcsIDE2LCAxNCwgMTcsIDE3LCAxNywgMTcsIDE1LCAxNiwgMTQsIDE2LCAxNSwgMTYsIDEzLCAxNiwgMTUsIDE2LCAxNCwgMTYsIDE1LCAxNiwgMTIsIDE2LCAxNSwgMTYsIDE3LCAxNywgMTcsIDE3LCAxNywgMTMsIDE2LCAxNSwgMTcsIDE3LCAxNywgMTYsIDE1LCAxNywgMTcsIDE3LCAxNiwgMTUsIDE3LCAxNywgMTQsIDE2LCAxNywgMTcsIDE2LCAxNywgMTcsIDE2LCAxNSwgMTcsIDE2LCAxNCwgMTcsIDE2LCAxNSwgMTcsIDE2LCAxNywgMTcsIDE2LCAxNywgMTUsIDE2LCAxNywgMTQsIDE3LCAxNiwgMTUsIDE3LCAxNiwgMTcsIDEzLCAxNywgMTYsIDE3LCAxNywgMTYsIDE3LCAxNCwgMTcsIDE2LCAxNywgMTYsIDE3LCAxNiwgMTcsIDldLCBiLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IDAgfCB0aGlzLmJsdXJYLAogICAgICAgIGMgPSAwIHwgdGhpcy5ibHVyWTsKICAgIGlmICgwID49IGIgJiYgMCA+PSBjKSByZXR1cm4gYTsKICAgIHZhciBkID0gTWF0aC5wb3codGhpcy5xdWFsaXR5LCAuMik7CiAgICByZXR1cm4gKGEgfHwgbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSgpKS5wYWQoYyAqIGQgKyAxLCBiICogZCArIDEsIGMgKiBkICsgMSwgYiAqIGQgKyAxKTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBhKHRoaXMuYmx1clgsIHRoaXMuYmx1clksIHRoaXMucXVhbGl0eSk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0JsdXJGaWx0ZXJdIjsKICB9LCBiLl9hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChiKSB7CiAgICB2YXIgYyA9IHRoaXMuX2JsdXJYID4+IDE7CiAgICBpZiAoaXNOYU4oYykgfHwgMCA+IGMpIHJldHVybiAhMTsKICAgIHZhciBkID0gdGhpcy5fYmx1clkgPj4gMTsKICAgIGlmIChpc05hTihkKSB8fCAwID4gZCkgcmV0dXJuICExOwogICAgaWYgKDAgPT0gYyAmJiAwID09IGQpIHJldHVybiAhMTsKICAgIHZhciBlID0gdGhpcy5xdWFsaXR5OwogICAgKGlzTmFOKGUpIHx8IDEgPiBlKSAmJiAoZSA9IDEpLCBlIHw9IDAsIGUgPiAzICYmIChlID0gMyksIDEgPiBlICYmIChlID0gMSk7CiAgICB2YXIgZiA9IGIuZGF0YSwKICAgICAgICBnID0gMCwKICAgICAgICBoID0gMCwKICAgICAgICBpID0gMCwKICAgICAgICBqID0gMCwKICAgICAgICBrID0gMCwKICAgICAgICBsID0gMCwKICAgICAgICBtID0gMCwKICAgICAgICBuID0gMCwKICAgICAgICBvID0gMCwKICAgICAgICBwID0gMCwKICAgICAgICBxID0gMCwKICAgICAgICByID0gMCwKICAgICAgICBzID0gMCwKICAgICAgICB0ID0gMCwKICAgICAgICB1ID0gMCwKICAgICAgICB2ID0gYyArIGMgKyAxIHwgMCwKICAgICAgICB3ID0gZCArIGQgKyAxIHwgMCwKICAgICAgICB4ID0gMCB8IGIud2lkdGgsCiAgICAgICAgeSA9IDAgfCBiLmhlaWdodCwKICAgICAgICB6ID0geCAtIDEgfCAwLAogICAgICAgIEEgPSB5IC0gMSB8IDAsCiAgICAgICAgQiA9IGMgKyAxIHwgMCwKICAgICAgICBDID0gZCArIDEgfCAwLAogICAgICAgIEQgPSB7CiAgICAgIHI6IDAsCiAgICAgIGI6IDAsCiAgICAgIGc6IDAsCiAgICAgIGE6IDAKICAgIH0sCiAgICAgICAgRSA9IEQ7CgogICAgZm9yIChpID0gMTsgdiA+IGk7IGkrKykgewogICAgICBFID0gRS5uID0gewogICAgICAgIHI6IDAsCiAgICAgICAgYjogMCwKICAgICAgICBnOiAwLAogICAgICAgIGE6IDAKICAgICAgfTsKICAgIH0KCiAgICBFLm4gPSBEOwogICAgdmFyIEYgPSB7CiAgICAgIHI6IDAsCiAgICAgIGI6IDAsCiAgICAgIGc6IDAsCiAgICAgIGE6IDAKICAgIH0sCiAgICAgICAgRyA9IEY7CgogICAgZm9yIChpID0gMTsgdyA+IGk7IGkrKykgewogICAgICBHID0gRy5uID0gewogICAgICAgIHI6IDAsCiAgICAgICAgYjogMCwKICAgICAgICBnOiAwLAogICAgICAgIGE6IDAKICAgICAgfTsKICAgIH0KCiAgICBHLm4gPSBGOwoKICAgIGZvciAodmFyIEggPSBudWxsLCBJID0gMCB8IGEuTVVMX1RBQkxFW2NdLCBKID0gMCB8IGEuU0hHX1RBQkxFW2NdLCBLID0gMCB8IGEuTVVMX1RBQkxFW2RdLCBMID0gMCB8IGEuU0hHX1RBQkxFW2RdOyBlLS0gPiAwOykgewogICAgICBtID0gbCA9IDA7CiAgICAgIHZhciBNID0gSSwKICAgICAgICAgIE4gPSBKOwoKICAgICAgZm9yIChoID0geTsgLS1oID4gLTE7KSB7CiAgICAgICAgZm9yIChuID0gQiAqIChyID0gZlswIHwgbF0pLCBvID0gQiAqIChzID0gZltsICsgMSB8IDBdKSwgcCA9IEIgKiAodCA9IGZbbCArIDIgfCAwXSksIHEgPSBCICogKHUgPSBmW2wgKyAzIHwgMF0pLCBFID0gRCwgaSA9IEI7IC0taSA+IC0xOykgewogICAgICAgICAgRS5yID0gciwgRS5nID0gcywgRS5iID0gdCwgRS5hID0gdSwgRSA9IEUubjsKICAgICAgICB9CgogICAgICAgIGZvciAoaSA9IDE7IEIgPiBpOyBpKyspIHsKICAgICAgICAgIGogPSBsICsgKChpID4geiA/IHogOiBpKSA8PCAyKSB8IDAsIG4gKz0gRS5yID0gZltqXSwgbyArPSBFLmcgPSBmW2ogKyAxXSwgcCArPSBFLmIgPSBmW2ogKyAyXSwgcSArPSBFLmEgPSBmW2ogKyAzXSwgRSA9IEUubjsKICAgICAgICB9CgogICAgICAgIGZvciAoSCA9IEQsIGcgPSAwOyB4ID4gZzsgZysrKSB7CiAgICAgICAgICBmW2wrK10gPSBuICogTSA+Pj4gTiwgZltsKytdID0gbyAqIE0gPj4+IE4sIGZbbCsrXSA9IHAgKiBNID4+PiBOLCBmW2wrK10gPSBxICogTSA+Pj4gTiwgaiA9IG0gKyAoKGogPSBnICsgYyArIDEpIDwgeiA/IGogOiB6KSA8PCAyLCBuIC09IEguciAtIChILnIgPSBmW2pdKSwgbyAtPSBILmcgLSAoSC5nID0gZltqICsgMV0pLCBwIC09IEguYiAtIChILmIgPSBmW2ogKyAyXSksIHEgLT0gSC5hIC0gKEguYSA9IGZbaiArIDNdKSwgSCA9IEgubjsKICAgICAgICB9CgogICAgICAgIG0gKz0geDsKICAgICAgfQoKICAgICAgZm9yIChNID0gSywgTiA9IEwsIGcgPSAwOyB4ID4gZzsgZysrKSB7CiAgICAgICAgZm9yIChsID0gZyA8PCAyIHwgMCwgbiA9IEMgKiAociA9IGZbbF0pIHwgMCwgbyA9IEMgKiAocyA9IGZbbCArIDEgfCAwXSkgfCAwLCBwID0gQyAqICh0ID0gZltsICsgMiB8IDBdKSB8IDAsIHEgPSBDICogKHUgPSBmW2wgKyAzIHwgMF0pIHwgMCwgRyA9IEYsIGkgPSAwOyBDID4gaTsgaSsrKSB7CiAgICAgICAgICBHLnIgPSByLCBHLmcgPSBzLCBHLmIgPSB0LCBHLmEgPSB1LCBHID0gRy5uOwogICAgICAgIH0KCiAgICAgICAgZm9yIChrID0geCwgaSA9IDE7IGQgPj0gaTsgaSsrKSB7CiAgICAgICAgICBsID0gayArIGcgPDwgMiwgbiArPSBHLnIgPSBmW2xdLCBvICs9IEcuZyA9IGZbbCArIDFdLCBwICs9IEcuYiA9IGZbbCArIDJdLCBxICs9IEcuYSA9IGZbbCArIDNdLCBHID0gRy5uLCBBID4gaSAmJiAoayArPSB4KTsKICAgICAgICB9CgogICAgICAgIGlmIChsID0gZywgSCA9IEYsIGUgPiAwKSBmb3IgKGggPSAwOyB5ID4gaDsgaCsrKSB7CiAgICAgICAgICBqID0gbCA8PCAyLCBmW2ogKyAzXSA9IHUgPSBxICogTSA+Pj4gTiwgdSA+IDAgPyAoZltqXSA9IG4gKiBNID4+PiBOLCBmW2ogKyAxXSA9IG8gKiBNID4+PiBOLCBmW2ogKyAyXSA9IHAgKiBNID4+PiBOKSA6IGZbal0gPSBmW2ogKyAxXSA9IGZbaiArIDJdID0gMCwgaiA9IGcgKyAoKGogPSBoICsgQykgPCBBID8gaiA6IEEpICogeCA8PCAyLCBuIC09IEguciAtIChILnIgPSBmW2pdKSwgbyAtPSBILmcgLSAoSC5nID0gZltqICsgMV0pLCBwIC09IEguYiAtIChILmIgPSBmW2ogKyAyXSksIHEgLT0gSC5hIC0gKEguYSA9IGZbaiArIDNdKSwgSCA9IEgubiwgbCArPSB4OwogICAgICAgIH0gZWxzZSBmb3IgKGggPSAwOyB5ID4gaDsgaCsrKSB7CiAgICAgICAgICBqID0gbCA8PCAyLCBmW2ogKyAzXSA9IHUgPSBxICogTSA+Pj4gTiwgdSA+IDAgPyAodSA9IDI1NSAvIHUsIGZbal0gPSAobiAqIE0gPj4+IE4pICogdSwgZltqICsgMV0gPSAobyAqIE0gPj4+IE4pICogdSwgZltqICsgMl0gPSAocCAqIE0gPj4+IE4pICogdSkgOiBmW2pdID0gZltqICsgMV0gPSBmW2ogKyAyXSA9IDAsIGogPSBnICsgKChqID0gaCArIEMpIDwgQSA/IGogOiBBKSAqIHggPDwgMiwgbiAtPSBILnIgLSAoSC5yID0gZltqXSksIG8gLT0gSC5nIC0gKEguZyA9IGZbaiArIDFdKSwgcCAtPSBILmIgLSAoSC5iID0gZltqICsgMl0pLCBxIC09IEguYSAtIChILmEgPSBmW2ogKyAzXSksIEggPSBILm4sIGwgKz0geDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gITA7CiAgfSwgY3JlYXRlanMuQmx1ckZpbHRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkZpbHRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCksIHRoaXMuYWxwaGFNYXAgPSBhLCB0aGlzLl9hbHBoYU1hcCA9IG51bGwsIHRoaXMuX21hcERhdGEgPSBudWxsLCB0aGlzLl9tYXBUZXh0dXJlID0gbnVsbCwgdGhpcy5GUkFHX1NIQURFUl9CT0RZID0gInVuaWZvcm0gc2FtcGxlcjJEIHVBbHBoYVNhbXBsZXI7dm9pZCBtYWluKHZvaWQpIHt2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO3ZlYzQgYWxwaGFNYXAgPSB0ZXh0dXJlMkQodUFscGhhU2FtcGxlciwgdlRleHR1cmVDb29yZCk7Z2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvci5yZ2IsIGNvbG9yLmEgKiAoYWxwaGFNYXAuciAqIGNlaWwoYWxwaGFNYXAuYSkpKTt9IjsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkZpbHRlcik7CiAgYi5zaGFkZXJQYXJhbVNldHVwID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHRoaXMuX21hcFRleHR1cmUgfHwgKHRoaXMuX21hcFRleHR1cmUgPSBhLmNyZWF0ZVRleHR1cmUoKSksIGEuYWN0aXZlVGV4dHVyZShhLlRFWFRVUkUxKSwgYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsIHRoaXMuX21hcFRleHR1cmUpLCBiLnNldFRleHR1cmVQYXJhbXMoYSksIGEudGV4SW1hZ2UyRChhLlRFWFRVUkVfMkQsIDAsIGEuUkdCQSwgYS5SR0JBLCBhLlVOU0lHTkVEX0JZVEUsIHRoaXMuYWxwaGFNYXApLCBhLnVuaWZvcm0xaShhLmdldFVuaWZvcm1Mb2NhdGlvbihjLCAidUFscGhhU2FtcGxlciIpLCAxKTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGIgPSBuZXcgYSh0aGlzLmFscGhhTWFwKTsKICAgIHJldHVybiBiLl9hbHBoYU1hcCA9IHRoaXMuX2FscGhhTWFwLCBiLl9tYXBEYXRhID0gdGhpcy5fbWFwRGF0YSwgYjsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbQWxwaGFNYXBGaWx0ZXJdIjsKICB9LCBiLl9hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoIXRoaXMuYWxwaGFNYXApIHJldHVybiAhMDsKICAgIGlmICghdGhpcy5fcHJlcEFscGhhTWFwKCkpIHJldHVybiAhMTsKCiAgICBmb3IgKHZhciBiID0gYS5kYXRhLCBjID0gdGhpcy5fbWFwRGF0YSwgZCA9IDAsIGUgPSBiLmxlbmd0aDsgZSA+IGQ7IGQgKz0gNCkgewogICAgICBiW2QgKyAzXSA9IGNbZF0gfHwgMDsKICAgIH0KCiAgICByZXR1cm4gITA7CiAgfSwgYi5fcHJlcEFscGhhTWFwID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLmFscGhhTWFwKSByZXR1cm4gITE7CiAgICBpZiAodGhpcy5hbHBoYU1hcCA9PSB0aGlzLl9hbHBoYU1hcCAmJiB0aGlzLl9tYXBEYXRhKSByZXR1cm4gITA7CiAgICB0aGlzLl9tYXBEYXRhID0gbnVsbDsKICAgIHZhciBhLAogICAgICAgIGIgPSB0aGlzLl9hbHBoYU1hcCA9IHRoaXMuYWxwaGFNYXAsCiAgICAgICAgYyA9IGI7CiAgICBiIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQgPyBhID0gYy5nZXRDb250ZXh0KCIyZCIpIDogKGMgPSBjcmVhdGVqcy5jcmVhdGVDYW52YXMgPyBjcmVhdGVqcy5jcmVhdGVDYW52YXMoKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLCBjLndpZHRoID0gYi53aWR0aCwgYy5oZWlnaHQgPSBiLmhlaWdodCwgYSA9IGMuZ2V0Q29udGV4dCgiMmQiKSwgYS5kcmF3SW1hZ2UoYiwgMCwgMCkpOwoKICAgIHRyeSB7CiAgICAgIHZhciBkID0gYS5nZXRJbWFnZURhdGEoMCwgMCwgYi53aWR0aCwgYi5oZWlnaHQpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gITE7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuX21hcERhdGEgPSBkLmRhdGEsICEwOwogIH0sIGNyZWF0ZWpzLkFscGhhTWFwRmlsdGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiRmlsdGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSkgewogICAgdGhpcy5GaWx0ZXJfY29uc3RydWN0b3IoKSwgdGhpcy5tYXNrID0gYSwgdGhpcy51c2VzQ29udGV4dCA9ICEwLCB0aGlzLkZSQUdfU0hBREVSX0JPRFkgPSAidW5pZm9ybSBzYW1wbGVyMkQgdUFscGhhU2FtcGxlcjt2b2lkIG1haW4odm9pZCkge3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZSZW5kZXJDb29yZCk7dmVjNCBhbHBoYU1hcCA9IHRleHR1cmUyRCh1QWxwaGFTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIGFscGhhTWFwLmEpO30iOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRmlsdGVyKTsKICBiLnNoYWRlclBhcmFtU2V0dXAgPSBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgdGhpcy5fbWFwVGV4dHVyZSB8fCAodGhpcy5fbWFwVGV4dHVyZSA9IGEuY3JlYXRlVGV4dHVyZSgpKSwgYS5hY3RpdmVUZXh0dXJlKGEuVEVYVFVSRTEpLCBhLmJpbmRUZXh0dXJlKGEuVEVYVFVSRV8yRCwgdGhpcy5fbWFwVGV4dHVyZSksIGIuc2V0VGV4dHVyZVBhcmFtcyhhKSwgYS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwgMCwgYS5SR0JBLCBhLlJHQkEsIGEuVU5TSUdORURfQllURSwgdGhpcy5tYXNrKSwgYS51bmlmb3JtMWkoYS5nZXRVbmlmb3JtTG9jYXRpb24oYywgInVBbHBoYVNhbXBsZXIiKSwgMSk7CiAgfSwgYi5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7CiAgICByZXR1cm4gdGhpcy5tYXNrID8gKGYgPSBmIHx8IGEsIG51bGwgPT0gZyAmJiAoZyA9IGIpLCBudWxsID09IGggJiYgKGggPSBjKSwgZi5zYXZlKCksIGEgIT0gZiA/ICExIDogKGYuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gImRlc3RpbmF0aW9uLWluIiwgZi5kcmF3SW1hZ2UodGhpcy5tYXNrLCBnLCBoKSwgZi5yZXN0b3JlKCksICEwKSkgOiAhMDsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBhKHRoaXMubWFzayk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0FscGhhTWFza0ZpbHRlcl0iOwogIH0sIGNyZWF0ZWpzLkFscGhhTWFza0ZpbHRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkZpbHRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHsKICAgIHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCksIHRoaXMucmVkTXVsdGlwbGllciA9IG51bGwgIT0gYSA/IGEgOiAxLCB0aGlzLmdyZWVuTXVsdGlwbGllciA9IG51bGwgIT0gYiA/IGIgOiAxLCB0aGlzLmJsdWVNdWx0aXBsaWVyID0gbnVsbCAhPSBjID8gYyA6IDEsIHRoaXMuYWxwaGFNdWx0aXBsaWVyID0gbnVsbCAhPSBkID8gZCA6IDEsIHRoaXMucmVkT2Zmc2V0ID0gZSB8fCAwLCB0aGlzLmdyZWVuT2Zmc2V0ID0gZiB8fCAwLCB0aGlzLmJsdWVPZmZzZXQgPSBnIHx8IDAsIHRoaXMuYWxwaGFPZmZzZXQgPSBoIHx8IDAsIHRoaXMuRlJBR19TSEFERVJfQk9EWSA9ICJ1bmlmb3JtIHZlYzQgdUNvbG9yTXVsdGlwbGllcjt1bmlmb3JtIHZlYzQgdUNvbG9yT2Zmc2V0O3ZvaWQgbWFpbih2b2lkKSB7dmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlJlbmRlckNvb3JkKTtnbF9GcmFnQ29sb3IgPSAoY29sb3IgKiB1Q29sb3JNdWx0aXBsaWVyKSArIHVDb2xvck9mZnNldDt9IjsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkZpbHRlcik7CiAgYi5zaGFkZXJQYXJhbVNldHVwID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIGEudW5pZm9ybTRmKGEuZ2V0VW5pZm9ybUxvY2F0aW9uKGMsICJ1Q29sb3JNdWx0aXBsaWVyIiksIHRoaXMucmVkTXVsdGlwbGllciwgdGhpcy5ncmVlbk11bHRpcGxpZXIsIHRoaXMuYmx1ZU11bHRpcGxpZXIsIHRoaXMuYWxwaGFNdWx0aXBsaWVyKSwgYS51bmlmb3JtNGYoYS5nZXRVbmlmb3JtTG9jYXRpb24oYywgInVDb2xvck9mZnNldCIpLCB0aGlzLnJlZE9mZnNldCAvIDI1NSwgdGhpcy5ncmVlbk9mZnNldCAvIDI1NSwgdGhpcy5ibHVlT2Zmc2V0IC8gMjU1LCB0aGlzLmFscGhhT2Zmc2V0IC8gMjU1KTsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbQ29sb3JGaWx0ZXJdIjsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBhKHRoaXMucmVkTXVsdGlwbGllciwgdGhpcy5ncmVlbk11bHRpcGxpZXIsIHRoaXMuYmx1ZU11bHRpcGxpZXIsIHRoaXMuYWxwaGFNdWx0aXBsaWVyLCB0aGlzLnJlZE9mZnNldCwgdGhpcy5ncmVlbk9mZnNldCwgdGhpcy5ibHVlT2Zmc2V0LCB0aGlzLmFscGhhT2Zmc2V0KTsKICB9LCBiLl9hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gYS5kYXRhLCBjID0gYi5sZW5ndGgsIGQgPSAwOyBjID4gZDsgZCArPSA0KSB7CiAgICAgIGJbZF0gPSBiW2RdICogdGhpcy5yZWRNdWx0aXBsaWVyICsgdGhpcy5yZWRPZmZzZXQsIGJbZCArIDFdID0gYltkICsgMV0gKiB0aGlzLmdyZWVuTXVsdGlwbGllciArIHRoaXMuZ3JlZW5PZmZzZXQsIGJbZCArIDJdID0gYltkICsgMl0gKiB0aGlzLmJsdWVNdWx0aXBsaWVyICsgdGhpcy5ibHVlT2Zmc2V0LCBiW2QgKyAzXSA9IGJbZCArIDNdICogdGhpcy5hbHBoYU11bHRpcGxpZXIgKyB0aGlzLmFscGhhT2Zmc2V0OwogICAgfQoKICAgIHJldHVybiAhMDsKICB9LCBjcmVhdGVqcy5Db2xvckZpbHRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkZpbHRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMsIGQpIHsKICAgIHRoaXMuc2V0Q29sb3IoYSwgYiwgYywgZCk7CiAgfQoKICB2YXIgYiA9IGEucHJvdG90eXBlOwogIGEuREVMVEFfSU5ERVggPSBbMCwgLjAxLCAuMDIsIC4wNCwgLjA1LCAuMDYsIC4wNywgLjA4LCAuMSwgLjExLCAuMTIsIC4xNCwgLjE1LCAuMTYsIC4xNywgLjE4LCAuMiwgLjIxLCAuMjIsIC4yNCwgLjI1LCAuMjcsIC4yOCwgLjMsIC4zMiwgLjM0LCAuMzYsIC4zOCwgLjQsIC40MiwgLjQ0LCAuNDYsIC40OCwgLjUsIC41MywgLjU2LCAuNTksIC42MiwgLjY1LCAuNjgsIC43MSwgLjc0LCAuNzcsIC44LCAuODMsIC44NiwgLjg5LCAuOTIsIC45NSwgLjk4LCAxLCAxLjA2LCAxLjEyLCAxLjE4LCAxLjI0LCAxLjMsIDEuMzYsIDEuNDIsIDEuNDgsIDEuNTQsIDEuNiwgMS42NiwgMS43MiwgMS43OCwgMS44NCwgMS45LCAxLjk2LCAyLCAyLjEyLCAyLjI1LCAyLjM3LCAyLjUsIDIuNjIsIDIuNzUsIDIuODcsIDMsIDMuMiwgMy40LCAzLjYsIDMuOCwgNCwgNC4zLCA0LjcsIDQuOSwgNSwgNS41LCA2LCA2LjUsIDYuOCwgNywgNy4zLCA3LjUsIDcuOCwgOCwgOC40LCA4LjcsIDksIDkuNCwgOS42LCA5LjgsIDEwXSwgYS5JREVOVElUWV9NQVRSSVggPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMV0sIGEuTEVOR1RIID0gYS5JREVOVElUWV9NQVRSSVgubGVuZ3RoLCBiLnNldENvbG9yID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIHJldHVybiB0aGlzLnJlc2V0KCkuYWRqdXN0Q29sb3IoYSwgYiwgYywgZCk7CiAgfSwgYi5yZXNldCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNvcHkoYS5JREVOVElUWV9NQVRSSVgpOwogIH0sIGIuYWRqdXN0Q29sb3IgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgcmV0dXJuIHRoaXMuYWRqdXN0SHVlKGQpLCB0aGlzLmFkanVzdENvbnRyYXN0KGIpLCB0aGlzLmFkanVzdEJyaWdodG5lc3MoYSksIHRoaXMuYWRqdXN0U2F0dXJhdGlvbihjKTsKICB9LCBiLmFkanVzdEJyaWdodG5lc3MgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIDAgPT0gYSB8fCBpc05hTihhKSA/IHRoaXMgOiAoYSA9IHRoaXMuX2NsZWFuVmFsdWUoYSwgMjU1KSwgdGhpcy5fbXVsdGlwbHlNYXRyaXgoWzEsIDAsIDAsIDAsIGEsIDAsIDEsIDAsIDAsIGEsIDAsIDAsIDEsIDAsIGEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDFdKSwgdGhpcyk7CiAgfSwgYi5hZGp1c3RDb250cmFzdCA9IGZ1bmN0aW9uIChiKSB7CiAgICBpZiAoMCA9PSBiIHx8IGlzTmFOKGIpKSByZXR1cm4gdGhpczsKICAgIGIgPSB0aGlzLl9jbGVhblZhbHVlKGIsIDEwMCk7CiAgICB2YXIgYzsKICAgIHJldHVybiAwID4gYiA/IGMgPSAxMjcgKyBiIC8gMTAwICogMTI3IDogKGMgPSBiICUgMSwgYyA9IDAgPT0gYyA/IGEuREVMVEFfSU5ERVhbYl0gOiBhLkRFTFRBX0lOREVYW2IgPDwgMF0gKiAoMSAtIGMpICsgYS5ERUxUQV9JTkRFWFsoYiA8PCAwKSArIDFdICogYywgYyA9IDEyNyAqIGMgKyAxMjcpLCB0aGlzLl9tdWx0aXBseU1hdHJpeChbYyAvIDEyNywgMCwgMCwgMCwgLjUgKiAoMTI3IC0gYyksIDAsIGMgLyAxMjcsIDAsIDAsIC41ICogKDEyNyAtIGMpLCAwLCAwLCBjIC8gMTI3LCAwLCAuNSAqICgxMjcgLSBjKSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMV0pLCB0aGlzOwogIH0sIGIuYWRqdXN0U2F0dXJhdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoMCA9PSBhIHx8IGlzTmFOKGEpKSByZXR1cm4gdGhpczsKICAgIGEgPSB0aGlzLl9jbGVhblZhbHVlKGEsIDEwMCk7CiAgICB2YXIgYiA9IDEgKyAoYSA+IDAgPyAzICogYSAvIDEwMCA6IGEgLyAxMDApLAogICAgICAgIGMgPSAuMzA4NiwKICAgICAgICBkID0gLjYwOTQsCiAgICAgICAgZSA9IC4wODI7CiAgICByZXR1cm4gdGhpcy5fbXVsdGlwbHlNYXRyaXgoW2MgKiAoMSAtIGIpICsgYiwgZCAqICgxIC0gYiksIGUgKiAoMSAtIGIpLCAwLCAwLCBjICogKDEgLSBiKSwgZCAqICgxIC0gYikgKyBiLCBlICogKDEgLSBiKSwgMCwgMCwgYyAqICgxIC0gYiksIGQgKiAoMSAtIGIpLCBlICogKDEgLSBiKSArIGIsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDFdKSwgdGhpczsKICB9LCBiLmFkanVzdEh1ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoMCA9PSBhIHx8IGlzTmFOKGEpKSByZXR1cm4gdGhpczsKICAgIGEgPSB0aGlzLl9jbGVhblZhbHVlKGEsIDE4MCkgLyAxODAgKiBNYXRoLlBJOwogICAgdmFyIGIgPSBNYXRoLmNvcyhhKSwKICAgICAgICBjID0gTWF0aC5zaW4oYSksCiAgICAgICAgZCA9IC4yMTMsCiAgICAgICAgZSA9IC43MTUsCiAgICAgICAgZiA9IC4wNzI7CiAgICByZXR1cm4gdGhpcy5fbXVsdGlwbHlNYXRyaXgoW2QgKyBiICogKDEgLSBkKSArIGMgKiAtZCwgZSArIGIgKiAtZSArIGMgKiAtZSwgZiArIGIgKiAtZiArIGMgKiAoMSAtIGYpLCAwLCAwLCBkICsgYiAqIC1kICsgLjE0MyAqIGMsIGUgKyBiICogKDEgLSBlKSArIC4xNCAqIGMsIGYgKyBiICogLWYgKyBjICogLS4yODMsIDAsIDAsIGQgKyBiICogLWQgKyBjICogLSgxIC0gZCksIGUgKyBiICogLWUgKyBjICogZSwgZiArIGIgKiAoMSAtIGYpICsgYyAqIGYsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDFdKSwgdGhpczsKICB9LCBiLmNvbmNhdCA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gYiA9IHRoaXMuX2ZpeE1hdHJpeChiKSwgYi5sZW5ndGggIT0gYS5MRU5HVEggPyB0aGlzIDogKHRoaXMuX211bHRpcGx5TWF0cml4KGIpLCB0aGlzKTsKICB9LCBiLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBhKCkuY29weSh0aGlzKTsKICB9LCBiLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBiID0gW10sIGMgPSAwLCBkID0gYS5MRU5HVEg7IGQgPiBjOyBjKyspIHsKICAgICAgYltjXSA9IHRoaXNbY107CiAgICB9CgogICAgcmV0dXJuIGI7CiAgfSwgYi5jb3B5ID0gZnVuY3Rpb24gKGIpIHsKICAgIGZvciAodmFyIGMgPSBhLkxFTkdUSCwgZCA9IDA7IGMgPiBkOyBkKyspIHsKICAgICAgdGhpc1tkXSA9IGJbZF07CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0NvbG9yTWF0cml4XSI7CiAgfSwgYi5fbXVsdGlwbHlNYXRyaXggPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIsCiAgICAgICAgYywKICAgICAgICBkLAogICAgICAgIGUgPSBbXTsKCiAgICBmb3IgKGIgPSAwOyA1ID4gYjsgYisrKSB7CiAgICAgIGZvciAoYyA9IDA7IDUgPiBjOyBjKyspIHsKICAgICAgICBlW2NdID0gdGhpc1tjICsgNSAqIGJdOwogICAgICB9CgogICAgICBmb3IgKGMgPSAwOyA1ID4gYzsgYysrKSB7CiAgICAgICAgdmFyIGYgPSAwOwoKICAgICAgICBmb3IgKGQgPSAwOyA1ID4gZDsgZCsrKSB7CiAgICAgICAgICBmICs9IGFbYyArIDUgKiBkXSAqIGVbZF07CiAgICAgICAgfQoKICAgICAgICB0aGlzW2MgKyA1ICogYl0gPSBmOwogICAgICB9CiAgICB9CiAgfSwgYi5fY2xlYW5WYWx1ZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gTWF0aC5taW4oYiwgTWF0aC5tYXgoLWIsIGEpKTsKICB9LCBiLl9maXhNYXRyaXggPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGIgaW5zdGFuY2VvZiBhICYmIChiID0gYi50b0FycmF5KCkpLCBiLmxlbmd0aCA8IGEuTEVOR1RIID8gYiA9IGIuc2xpY2UoMCwgYi5sZW5ndGgpLmNvbmNhdChhLklERU5USVRZX01BVFJJWC5zbGljZShiLmxlbmd0aCwgYS5MRU5HVEgpKSA6IGIubGVuZ3RoID4gYS5MRU5HVEggJiYgKGIgPSBiLnNsaWNlKDAsIGEuTEVOR1RIKSksIGI7CiAgfSwgY3JlYXRlanMuQ29sb3JNYXRyaXggPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCksIHRoaXMubWF0cml4ID0gYSwgdGhpcy5GUkFHX1NIQURFUl9CT0RZID0gInVuaWZvcm0gbWF0NCB1Q29sb3JNYXRyaXg7dW5pZm9ybSB2ZWM0IHVDb2xvck1hdHJpeE9mZnNldDt2b2lkIG1haW4odm9pZCkge3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZSZW5kZXJDb29yZCk7bWF0NCBtID0gdUNvbG9yTWF0cml4O3ZlYzQgbmV3Q29sb3IgPSB2ZWM0KDAsMCwwLDApO25ld0NvbG9yLnIgPSBjb2xvci5yKm1bMF1bMF0gKyBjb2xvci5nKm1bMF1bMV0gKyBjb2xvci5iKm1bMF1bMl0gKyBjb2xvci5hKm1bMF1bM107bmV3Q29sb3IuZyA9IGNvbG9yLnIqbVsxXVswXSArIGNvbG9yLmcqbVsxXVsxXSArIGNvbG9yLmIqbVsxXVsyXSArIGNvbG9yLmEqbVsxXVszXTtuZXdDb2xvci5iID0gY29sb3IuciptWzJdWzBdICsgY29sb3IuZyptWzJdWzFdICsgY29sb3IuYiptWzJdWzJdICsgY29sb3IuYSptWzJdWzNdO25ld0NvbG9yLmEgPSBjb2xvci5yKm1bM11bMF0gKyBjb2xvci5nKm1bM11bMV0gKyBjb2xvci5iKm1bM11bMl0gKyBjb2xvci5hKm1bM11bM107Z2xfRnJhZ0NvbG9yID0gbmV3Q29sb3IgKyB1Q29sb3JNYXRyaXhPZmZzZXQ7fSI7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5GaWx0ZXIpOwogIGIuc2hhZGVyUGFyYW1TZXR1cCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB2YXIgZCA9IHRoaXMubWF0cml4LAogICAgICAgIGUgPSBuZXcgRmxvYXQzMkFycmF5KFtkWzBdLCBkWzFdLCBkWzJdLCBkWzNdLCBkWzVdLCBkWzZdLCBkWzddLCBkWzhdLCBkWzEwXSwgZFsxMV0sIGRbMTJdLCBkWzEzXSwgZFsxNV0sIGRbMTZdLCBkWzE3XSwgZFsxOF1dKTsKICAgIGEudW5pZm9ybU1hdHJpeDRmdihhLmdldFVuaWZvcm1Mb2NhdGlvbihjLCAidUNvbG9yTWF0cml4IiksICExLCBlKSwgYS51bmlmb3JtNGYoYS5nZXRVbmlmb3JtTG9jYXRpb24oYywgInVDb2xvck1hdHJpeE9mZnNldCIpLCBkWzRdIC8gMjU1LCBkWzldIC8gMjU1LCBkWzE0XSAvIDI1NSwgZFsxOV0gLyAyNTUpOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltDb2xvck1hdHJpeEZpbHRlcl0iOwogIH0sIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IGEodGhpcy5tYXRyaXgpOwogIH0sIGIuX2FwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGEpIHsKICAgIGZvciAodmFyIGIsIGMsIGQsIGUsIGYgPSBhLmRhdGEsIGcgPSBmLmxlbmd0aCwgaCA9IHRoaXMubWF0cml4LCBpID0gaFswXSwgaiA9IGhbMV0sIGsgPSBoWzJdLCBsID0gaFszXSwgbSA9IGhbNF0sIG4gPSBoWzVdLCBvID0gaFs2XSwgcCA9IGhbN10sIHEgPSBoWzhdLCByID0gaFs5XSwgcyA9IGhbMTBdLCB0ID0gaFsxMV0sIHUgPSBoWzEyXSwgdiA9IGhbMTNdLCB3ID0gaFsxNF0sIHggPSBoWzE1XSwgeSA9IGhbMTZdLCB6ID0gaFsxN10sIEEgPSBoWzE4XSwgQiA9IGhbMTldLCBDID0gMDsgZyA+IEM7IEMgKz0gNCkgewogICAgICBiID0gZltDXSwgYyA9IGZbQyArIDFdLCBkID0gZltDICsgMl0sIGUgPSBmW0MgKyAzXSwgZltDXSA9IGIgKiBpICsgYyAqIGogKyBkICogayArIGUgKiBsICsgbSwgZltDICsgMV0gPSBiICogbiArIGMgKiBvICsgZCAqIHAgKyBlICogcSArIHIsIGZbQyArIDJdID0gYiAqIHMgKyBjICogdCArIGQgKiB1ICsgZSAqIHYgKyB3LCBmW0MgKyAzXSA9IGIgKiB4ICsgYyAqIHkgKyBkICogeiArIGUgKiBBICsgQjsKICAgIH0KCiAgICByZXR1cm4gITA7CiAgfSwgY3JlYXRlanMuQ29sb3JNYXRyaXhGaWx0ZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJGaWx0ZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRocm93ICJUb3VjaCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIjsKICB9CgogIGEuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gISEoIm9udG91Y2hzdGFydCIgaW4gd2luZG93IHx8IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCAmJiB3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwIHx8IHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDApOwogIH0sIGEuZW5hYmxlID0gZnVuY3Rpb24gKGIsIGMsIGQpIHsKICAgIHJldHVybiBiICYmIGIuY2FudmFzICYmIGEuaXNTdXBwb3J0ZWQoKSA/IGIuX190b3VjaCA/ICEwIDogKGIuX190b3VjaCA9IHsKICAgICAgcG9pbnRlcnM6IHt9LAogICAgICBtdWx0aXRvdWNoOiAhYywKICAgICAgcHJldmVudERlZmF1bHQ6ICFkLAogICAgICBjb3VudDogMAogICAgfSwgIm9udG91Y2hzdGFydCIgaW4gd2luZG93ID8gYS5fSU9TX2VuYWJsZShiKSA6ICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgfHwgd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCkgJiYgYS5fSUVfZW5hYmxlKGIpLCAhMCkgOiAhMTsKICB9LCBhLmRpc2FibGUgPSBmdW5jdGlvbiAoYikgewogICAgYiAmJiAoIm9udG91Y2hzdGFydCIgaW4gd2luZG93ID8gYS5fSU9TX2Rpc2FibGUoYikgOiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkIHx8IHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpICYmIGEuX0lFX2Rpc2FibGUoYiksIGRlbGV0ZSBiLl9fdG91Y2gpOwogIH0sIGEuX0lPU19lbmFibGUgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBiLmNhbnZhcywKICAgICAgICBkID0gYi5fX3RvdWNoLmYgPSBmdW5jdGlvbiAoYykgewogICAgICBhLl9JT1NfaGFuZGxlRXZlbnQoYiwgYyk7CiAgICB9OwoKICAgIGMuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGQsICExKSwgYy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBkLCAhMSksIGMuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBkLCAhMSksIGMuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hjYW5jZWwiLCBkLCAhMSk7CiAgfSwgYS5fSU9TX2Rpc2FibGUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBhLmNhbnZhczsKCiAgICBpZiAoYikgewogICAgICB2YXIgYyA9IGEuX190b3VjaC5mOwogICAgICBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBjLCAhMSksIGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIiwgYywgITEpLCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgYywgITEpLCBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIiwgYywgITEpOwogICAgfQogIH0sIGEuX0lPU19oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICBpZiAoYSkgewogICAgICBhLl9fdG91Y2gucHJldmVudERlZmF1bHQgJiYgYi5wcmV2ZW50RGVmYXVsdCAmJiBiLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBmb3IgKHZhciBjID0gYi5jaGFuZ2VkVG91Y2hlcywgZCA9IGIudHlwZSwgZSA9IDAsIGYgPSBjLmxlbmd0aDsgZiA+IGU7IGUrKykgewogICAgICAgIHZhciBnID0gY1tlXSwKICAgICAgICAgICAgaCA9IGcuaWRlbnRpZmllcjsKICAgICAgICBnLnRhcmdldCA9PSBhLmNhbnZhcyAmJiAoInRvdWNoc3RhcnQiID09IGQgPyB0aGlzLl9oYW5kbGVTdGFydChhLCBoLCBiLCBnLnBhZ2VYLCBnLnBhZ2VZKSA6ICJ0b3VjaG1vdmUiID09IGQgPyB0aGlzLl9oYW5kbGVNb3ZlKGEsIGgsIGIsIGcucGFnZVgsIGcucGFnZVkpIDogKCJ0b3VjaGVuZCIgPT0gZCB8fCAidG91Y2hjYW5jZWwiID09IGQpICYmIHRoaXMuX2hhbmRsZUVuZChhLCBoLCBiKSk7CiAgICAgIH0KICAgIH0KICB9LCBhLl9JRV9lbmFibGUgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSBiLmNhbnZhcywKICAgICAgICBkID0gYi5fX3RvdWNoLmYgPSBmdW5jdGlvbiAoYykgewogICAgICBhLl9JRV9oYW5kbGVFdmVudChiLCBjKTsKICAgIH07CgogICAgdm9pZCAwID09PSB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkID8gKGMuYWRkRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyRG93biIsIGQsICExKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlck1vdmUiLCBkLCAhMSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJVcCIsIGQsICExKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlckNhbmNlbCIsIGQsICExKSwgYi5fX3RvdWNoLnByZXZlbnREZWZhdWx0ICYmIChjLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSAibm9uZSIpKSA6IChjLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwgZCwgITEpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcm1vdmUiLCBkLCAhMSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCBkLCAhMSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIiwgZCwgITEpLCBiLl9fdG91Y2gucHJldmVudERlZmF1bHQgJiYgKGMuc3R5bGUudG91Y2hBY3Rpb24gPSAibm9uZSIpKSwgYi5fX3RvdWNoLmFjdGl2ZUlEcyA9IHt9OwogIH0sIGEuX0lFX2Rpc2FibGUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBhLl9fdG91Y2guZjsKICAgIHZvaWQgMCA9PT0gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCA/ICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyTW92ZSIsIGIsICExKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlclVwIiwgYiwgITEpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyQ2FuY2VsIiwgYiwgITEpLCBhLmNhbnZhcyAmJiBhLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJEb3duIiwgYiwgITEpKSA6ICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcm1vdmUiLCBiLCAhMSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCBiLCAhMSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIiwgYiwgITEpLCBhLmNhbnZhcyAmJiBhLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsIGIsICExKSk7CiAgfSwgYS5fSUVfaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKGEpIHsKICAgICAgYS5fX3RvdWNoLnByZXZlbnREZWZhdWx0ICYmIGIucHJldmVudERlZmF1bHQgJiYgYi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgYyA9IGIudHlwZSwKICAgICAgICAgIGQgPSBiLnBvaW50ZXJJZCwKICAgICAgICAgIGUgPSBhLl9fdG91Y2guYWN0aXZlSURzOwoKICAgICAgaWYgKCJNU1BvaW50ZXJEb3duIiA9PSBjIHx8ICJwb2ludGVyZG93biIgPT0gYykgewogICAgICAgIGlmIChiLnNyY0VsZW1lbnQgIT0gYS5jYW52YXMpIHJldHVybjsKICAgICAgICBlW2RdID0gITAsIHRoaXMuX2hhbmRsZVN0YXJ0KGEsIGQsIGIsIGIucGFnZVgsIGIucGFnZVkpOwogICAgICB9IGVsc2UgZVtkXSAmJiAoIk1TUG9pbnRlck1vdmUiID09IGMgfHwgInBvaW50ZXJtb3ZlIiA9PSBjID8gdGhpcy5faGFuZGxlTW92ZShhLCBkLCBiLCBiLnBhZ2VYLCBiLnBhZ2VZKSA6ICgiTVNQb2ludGVyVXAiID09IGMgfHwgIk1TUG9pbnRlckNhbmNlbCIgPT0gYyB8fCAicG9pbnRlcnVwIiA9PSBjIHx8ICJwb2ludGVyY2FuY2VsIiA9PSBjKSAmJiAoZGVsZXRlIGVbZF0sIHRoaXMuX2hhbmRsZUVuZChhLCBkLCBiKSkpOwogICAgfQogIH0sIGEuX2hhbmRsZVN0YXJ0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsKICAgIHZhciBmID0gYS5fX3RvdWNoOwoKICAgIGlmIChmLm11bHRpdG91Y2ggfHwgIWYuY291bnQpIHsKICAgICAgdmFyIGcgPSBmLnBvaW50ZXJzOwogICAgICBnW2JdIHx8IChnW2JdID0gITAsIGYuY291bnQrKywgYS5faGFuZGxlUG9pbnRlckRvd24oYiwgYywgZCwgZSkpOwogICAgfQogIH0sIGEuX2hhbmRsZU1vdmUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkgewogICAgYS5fX3RvdWNoLnBvaW50ZXJzW2JdICYmIGEuX2hhbmRsZVBvaW50ZXJNb3ZlKGIsIGMsIGQsIGUpOwogIH0sIGEuX2hhbmRsZUVuZCA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB2YXIgZCA9IGEuX190b3VjaCwKICAgICAgICBlID0gZC5wb2ludGVyczsKICAgIGVbYl0gJiYgKGQuY291bnQtLSwgYS5faGFuZGxlUG9pbnRlclVwKGIsIGMsICEwKSwgZGVsZXRlIGVbYl0pOwogIH0sIGNyZWF0ZWpzLlRvdWNoID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIGEgPSBjcmVhdGVqcy5FYXNlbEpTID0gY3JlYXRlanMuRWFzZWxKUyB8fCB7fTsKICBhLnZlcnNpb24gPSAiMS4wLjAiLCBhLmJ1aWxkRGF0ZSA9ICJUaHUsIDEyIE9jdCAyMDE3IDE2OjM0OjEwIEdNVCI7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBhID0gY3JlYXRlanMuUHJlbG9hZEpTID0gY3JlYXRlanMuUHJlbG9hZEpTIHx8IHt9OwogIGEudmVyc2lvbiA9ICIxLjAuMCIsIGEuYnVpbGREYXRlID0gIlRodSwgMTIgT2N0IDIwMTcgMTY6MzQ6MDUgR01UIjsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgY3JlYXRlanMucHJveHkgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGEuYXBwbHkoYiwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKS5jb25jYXQoYykpOwogICAgfTsKICB9Owp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMpIHsKICAgIHRoaXMuRXZlbnRfY29uc3RydWN0b3IoImVycm9yIiksIHRoaXMudGl0bGUgPSBhLCB0aGlzLm1lc3NhZ2UgPSBiLCB0aGlzLmRhdGEgPSBjOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRXZlbnQpOwogIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQodGhpcy50aXRsZSwgdGhpcy5tZXNzYWdlLCB0aGlzLmRhdGEpOwogIH0sIGNyZWF0ZWpzLkVycm9yRXZlbnQgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJFdmVudCIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoYSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYihhLCBiKSB7CiAgICB0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKCJwcm9ncmVzcyIpLCB0aGlzLmxvYWRlZCA9IGEsIHRoaXMudG90YWwgPSBudWxsID09IGIgPyAxIDogYiwgdGhpcy5wcm9ncmVzcyA9IDAgPT0gYiA/IDAgOiB0aGlzLmxvYWRlZCAvIHRoaXMudG90YWw7CiAgfQoKICB2YXIgYyA9IGNyZWF0ZWpzLmV4dGVuZChiLCBjcmVhdGVqcy5FdmVudCk7CiAgYy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudCh0aGlzLmxvYWRlZCwgdGhpcy50b3RhbCk7CiAgfSwgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudCA9IGNyZWF0ZWpzLnByb21vdGUoYiwgIkV2ZW50Iik7Cn0od2luZG93KSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGEoYiwgZCkgewogICAgZnVuY3Rpb24gZihhKSB7CiAgICAgIGlmIChmW2FdICE9PSBxKSByZXR1cm4gZlthXTsKICAgICAgdmFyIGI7CiAgICAgIGlmICgiYnVnLXN0cmluZy1jaGFyLWluZGV4IiA9PSBhKSBiID0gImEiICE9ICJhIlswXTtlbHNlIGlmICgianNvbiIgPT0gYSkgYiA9IGYoImpzb24tc3RyaW5naWZ5IikgJiYgZigianNvbi1wYXJzZSIpO2Vsc2UgewogICAgICAgIHZhciBjLAogICAgICAgICAgICBlID0gIntcImFcIjpbMSx0cnVlLGZhbHNlLG51bGwsXCJcXHUwMDAwXFxiXFxuXFxmXFxyXFx0XCJdfSI7CgogICAgICAgIGlmICgianNvbi1zdHJpbmdpZnkiID09IGEpIHsKICAgICAgICAgIHZhciBpID0gZC5zdHJpbmdpZnksCiAgICAgICAgICAgICAgayA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgJiYgdDsKCiAgICAgICAgICBpZiAoaykgewogICAgICAgICAgICAoYyA9IGZ1bmN0aW9uIGMoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0pLnRvSlNPTiA9IGM7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGsgPSAiMCIgPT09IGkoMCkgJiYgIjAiID09PSBpKG5ldyBnKCkpICYmICciIicgPT0gaShuZXcgaCgpKSAmJiBpKHMpID09PSBxICYmIGkocSkgPT09IHEgJiYgaSgpID09PSBxICYmICIxIiA9PT0gaShjKSAmJiAiWzFdIiA9PSBpKFtjXSkgJiYgIltudWxsXSIgPT0gaShbcV0pICYmICJudWxsIiA9PSBpKG51bGwpICYmICJbbnVsbCxudWxsLG51bGxdIiA9PSBpKFtxLCBzLCBudWxsXSkgJiYgaSh7CiAgICAgICAgICAgICAgICBhOiBbYywgITAsICExLCBudWxsLCAiXHgwMFxiXG5cZlxyCSJdCiAgICAgICAgICAgICAgfSkgPT0gZSAmJiAiMSIgPT09IGkobnVsbCwgYykgJiYgIltcbiAxLFxuIDJcbl0iID09IGkoWzEsIDJdLCBudWxsLCAxKSAmJiAnIi0yNzE4MjEtMDQtMjBUMDA6MDA6MDAuMDAwWiInID09IGkobmV3IGooLTg2NGUxMykpICYmICciKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaIicgPT0gaShuZXcgaig4NjRlMTMpKSAmJiAnIi0wMDAwMDEtMDEtMDFUMDA6MDA6MDAuMDAwWiInID09IGkobmV3IGooLTYyMTk4NzU1MmU1KSkgJiYgJyIxOTY5LTEyLTMxVDIzOjU5OjU5Ljk5OVoiJyA9PSBpKG5ldyBqKC0xKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGwpIHsKICAgICAgICAgICAgICBrID0gITE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBiID0gazsKICAgICAgICB9CgogICAgICAgIGlmICgianNvbi1wYXJzZSIgPT0gYSkgewogICAgICAgICAgdmFyIG0gPSBkLnBhcnNlOwogICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIG0pIHRyeSB7CiAgICAgICAgICAgIGlmICgwID09PSBtKCIwIikgJiYgIW0oITEpKSB7CiAgICAgICAgICAgICAgYyA9IG0oZSk7CiAgICAgICAgICAgICAgdmFyIG4gPSA1ID09IGMuYS5sZW5ndGggJiYgMSA9PT0gYy5hWzBdOwoKICAgICAgICAgICAgICBpZiAobikgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgbiA9ICFtKCciCSInKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGwpIHt9CgogICAgICAgICAgICAgICAgaWYgKG4pIHRyeSB7CiAgICAgICAgICAgICAgICAgIG4gPSAxICE9PSBtKCIwMSIpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAobCkge30KICAgICAgICAgICAgICAgIGlmIChuKSB0cnkgewogICAgICAgICAgICAgICAgICBuID0gMSAhPT0gbSgiMS4iKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGwpIHt9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChsKSB7CiAgICAgICAgICAgIG4gPSAhMTsKICAgICAgICAgIH0KICAgICAgICAgIGIgPSBuOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZlthXSA9ICEhYjsKICAgIH0KCiAgICBiIHx8IChiID0gZS5PYmplY3QoKSksIGQgfHwgKGQgPSBlLk9iamVjdCgpKTsKICAgIHZhciBnID0gYi5OdW1iZXIgfHwgZS5OdW1iZXIsCiAgICAgICAgaCA9IGIuU3RyaW5nIHx8IGUuU3RyaW5nLAogICAgICAgIGkgPSBiLk9iamVjdCB8fCBlLk9iamVjdCwKICAgICAgICBqID0gYi5EYXRlIHx8IGUuRGF0ZSwKICAgICAgICBrID0gYi5TeW50YXhFcnJvciB8fCBlLlN5bnRheEVycm9yLAogICAgICAgIGwgPSBiLlR5cGVFcnJvciB8fCBlLlR5cGVFcnJvciwKICAgICAgICBtID0gYi5NYXRoIHx8IGUuTWF0aCwKICAgICAgICBuID0gYi5KU09OIHx8IGUuSlNPTjsKICAgICJvYmplY3QiID09IF90eXBlb2YobikgJiYgbiAmJiAoZC5zdHJpbmdpZnkgPSBuLnN0cmluZ2lmeSwgZC5wYXJzZSA9IG4ucGFyc2UpOwoKICAgIHZhciBfbywKICAgICAgICBfcCwKICAgICAgICBxLAogICAgICAgIHIgPSBpLnByb3RvdHlwZSwKICAgICAgICBzID0gci50b1N0cmluZywKICAgICAgICB0ID0gbmV3IGooLTB4Yzc4MmI1YjgwMGNlYyk7CgogICAgdHJ5IHsKICAgICAgdCA9IC0xMDkyNTIgPT0gdC5nZXRVVENGdWxsWWVhcigpICYmIDAgPT09IHQuZ2V0VVRDTW9udGgoKSAmJiAxID09PSB0LmdldFVUQ0RhdGUoKSAmJiAxMCA9PSB0LmdldFVUQ0hvdXJzKCkgJiYgMzcgPT0gdC5nZXRVVENNaW51dGVzKCkgJiYgNiA9PSB0LmdldFVUQ1NlY29uZHMoKSAmJiA3MDggPT0gdC5nZXRVVENNaWxsaXNlY29uZHMoKTsKICAgIH0gY2F0Y2ggKHUpIHt9CgogICAgaWYgKCFmKCJqc29uIikpIHsKICAgICAgdmFyIHYgPSAiW29iamVjdCBGdW5jdGlvbl0iLAogICAgICAgICAgdyA9ICJbb2JqZWN0IERhdGVdIiwKICAgICAgICAgIHggPSAiW29iamVjdCBOdW1iZXJdIiwKICAgICAgICAgIHkgPSAiW29iamVjdCBTdHJpbmddIiwKICAgICAgICAgIHogPSAiW29iamVjdCBBcnJheV0iLAogICAgICAgICAgQSA9ICJbb2JqZWN0IEJvb2xlYW5dIiwKICAgICAgICAgIEIgPSBmKCJidWctc3RyaW5nLWNoYXItaW5kZXgiKTsKICAgICAgaWYgKCF0KSB2YXIgQyA9IG0uZmxvb3IsCiAgICAgICAgICBEID0gWzAsIDMxLCA1OSwgOTAsIDEyMCwgMTUxLCAxODEsIDIxMiwgMjQzLCAyNzMsIDMwNCwgMzM0XSwKICAgICAgICAgIEUgPSBmdW5jdGlvbiBFKGEsIGIpIHsKICAgICAgICByZXR1cm4gRFtiXSArIDM2NSAqIChhIC0gMTk3MCkgKyBDKChhIC0gMTk2OSArIChiID0gKyhiID4gMSkpKSAvIDQpIC0gQygoYSAtIDE5MDEgKyBiKSAvIDEwMCkgKyBDKChhIC0gMTYwMSArIGIpIC8gNDAwKTsKICAgICAgfTsKCiAgICAgIGlmICgoX28gPSByLmhhc093blByb3BlcnR5KSB8fCAoX28gPSBmdW5jdGlvbiBvKGEpIHsKICAgICAgICB2YXIgYiwKICAgICAgICAgICAgYyA9IHt9OwogICAgICAgIHJldHVybiAoYy5fX3Byb3RvX18gPSBudWxsLCBjLl9fcHJvdG9fXyA9IHsKICAgICAgICAgIHRvU3RyaW5nOiAxCiAgICAgICAgfSwgYykudG9TdHJpbmcgIT0gcyA/IF9vID0gZnVuY3Rpb24gbyhhKSB7CiAgICAgICAgICB2YXIgYiA9IHRoaXMuX19wcm90b19fLAogICAgICAgICAgICAgIGMgPSAoYSBpbiAodGhpcy5fX3Byb3RvX18gPSBudWxsLCB0aGlzKSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5fX3Byb3RvX18gPSBiLCBjOwogICAgICAgIH0gOiAoYiA9IGMuY29uc3RydWN0b3IsIF9vID0gZnVuY3Rpb24gbyhhKSB7CiAgICAgICAgICB2YXIgYyA9ICh0aGlzLmNvbnN0cnVjdG9yIHx8IGIpLnByb3RvdHlwZTsKICAgICAgICAgIHJldHVybiBhIGluIHRoaXMgJiYgIShhIGluIGMgJiYgdGhpc1thXSA9PT0gY1thXSk7CiAgICAgICAgfSksIGMgPSBudWxsLCBfby5jYWxsKHRoaXMsIGEpOwogICAgICB9KSwgX3AgPSBmdW5jdGlvbiBwKGEsIGIpIHsKICAgICAgICB2YXIgZCwKICAgICAgICAgICAgZSwKICAgICAgICAgICAgZiwKICAgICAgICAgICAgZyA9IDA7CiAgICAgICAgKGQgPSBmdW5jdGlvbiBkKCkgewogICAgICAgICAgdGhpcy52YWx1ZU9mID0gMDsKICAgICAgICB9KS5wcm90b3R5cGUudmFsdWVPZiA9IDAsIGUgPSBuZXcgZCgpOwoKICAgICAgICBmb3IgKGYgaW4gZSkgewogICAgICAgICAgX28uY2FsbChlLCBmKSAmJiBnKys7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZCA9IGUgPSBudWxsLCBnID8gX3AgPSAyID09IGcgPyBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgdmFyIGMsCiAgICAgICAgICAgICAgZCA9IHt9LAogICAgICAgICAgICAgIGUgPSBzLmNhbGwoYSkgPT0gdjsKCiAgICAgICAgICBmb3IgKGMgaW4gYSkgewogICAgICAgICAgICBlICYmICJwcm90b3R5cGUiID09IGMgfHwgX28uY2FsbChkLCBjKSB8fCAhKGRbY10gPSAxKSB8fCAhX28uY2FsbChhLCBjKSB8fCBiKGMpOwogICAgICAgICAgfQogICAgICAgIH0gOiBmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgdmFyIGMsCiAgICAgICAgICAgICAgZCwKICAgICAgICAgICAgICBlID0gcy5jYWxsKGEpID09IHY7CgogICAgICAgICAgZm9yIChjIGluIGEpIHsKICAgICAgICAgICAgZSAmJiAicHJvdG90eXBlIiA9PSBjIHx8ICFfby5jYWxsKGEsIGMpIHx8IChkID0gImNvbnN0cnVjdG9yIiA9PT0gYykgfHwgYihjKTsKICAgICAgICAgIH0KCiAgICAgICAgICAoZCB8fCBfby5jYWxsKGEsIGMgPSAiY29uc3RydWN0b3IiKSkgJiYgYihjKTsKICAgICAgICB9IDogKGUgPSBbInZhbHVlT2YiLCAidG9TdHJpbmciLCAidG9Mb2NhbGVTdHJpbmciLCAicHJvcGVydHlJc0VudW1lcmFibGUiLCAiaXNQcm90b3R5cGVPZiIsICJoYXNPd25Qcm9wZXJ0eSIsICJjb25zdHJ1Y3RvciJdLCBfcCA9IGZ1bmN0aW9uIHAoYSwgYikgewogICAgICAgICAgdmFyIGQsCiAgICAgICAgICAgICAgZiwKICAgICAgICAgICAgICBnID0gcy5jYWxsKGEpID09IHYsCiAgICAgICAgICAgICAgaCA9ICFnICYmICJmdW5jdGlvbiIgIT0gdHlwZW9mIGEuY29uc3RydWN0b3IgJiYgY1tfdHlwZW9mKGEuaGFzT3duUHJvcGVydHkpXSAmJiBhLmhhc093blByb3BlcnR5IHx8IF9vOwoKICAgICAgICAgIGZvciAoZCBpbiBhKSB7CiAgICAgICAgICAgIGcgJiYgInByb3RvdHlwZSIgPT0gZCB8fCAhaC5jYWxsKGEsIGQpIHx8IGIoZCk7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChmID0gZS5sZW5ndGg7IGQgPSBlWy0tZl07IGguY2FsbChhLCBkKSAmJiBiKGQpKSB7CiAgICAgICAgICAgIDsKICAgICAgICAgIH0KICAgICAgICB9KSwgX3AoYSwgYik7CiAgICAgIH0sICFmKCJqc29uLXN0cmluZ2lmeSIpKSB7CiAgICAgICAgdmFyIEYgPSB7CiAgICAgICAgICA5MjogIlxcXFwiLAogICAgICAgICAgMzQ6ICdcXCInLAogICAgICAgICAgODogIlxcYiIsCiAgICAgICAgICAxMjogIlxcZiIsCiAgICAgICAgICAxMDogIlxcbiIsCiAgICAgICAgICAxMzogIlxcciIsCiAgICAgICAgICA5OiAiXFx0IgogICAgICAgIH0sCiAgICAgICAgICAgIEcgPSAiMDAwMDAwIiwKICAgICAgICAgICAgSCA9IGZ1bmN0aW9uIEgoYSwgYikgewogICAgICAgICAgcmV0dXJuIChHICsgKGIgfHwgMCkpLnNsaWNlKC1hKTsKICAgICAgICB9LAogICAgICAgICAgICBJID0gIlxcdTAwIiwKICAgICAgICAgICAgSiA9IGZ1bmN0aW9uIEooYSkgewogICAgICAgICAgZm9yICh2YXIgYiA9ICciJywgYyA9IDAsIGQgPSBhLmxlbmd0aCwgZSA9ICFCIHx8IGQgPiAxMCwgZiA9IGUgJiYgKEIgPyBhLnNwbGl0KCIiKSA6IGEpOyBkID4gYzsgYysrKSB7CiAgICAgICAgICAgIHZhciBnID0gYS5jaGFyQ29kZUF0KGMpOwoKICAgICAgICAgICAgc3dpdGNoIChnKSB7CiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgIGNhc2UgOTI6CiAgICAgICAgICAgICAgICBiICs9IEZbZ107CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGlmICgzMiA+IGcpIHsKICAgICAgICAgICAgICAgICAgYiArPSBJICsgSCgyLCBnLnRvU3RyaW5nKDE2KSk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGIgKz0gZSA/IGZbY10gOiBhLmNoYXJBdChjKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBiICsgJyInOwogICAgICAgIH0sCiAgICAgICAgICAgIEsgPSBmdW5jdGlvbiBLKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHsKICAgICAgICAgIHZhciBoLCBpLCBqLCBrLCBtLCBuLCByLCB0LCB1LCB2LCBCLCBELCBGLCBHLCBJLCBMOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGggPSBiW2FdOwogICAgICAgICAgfSBjYXRjaCAoTSkge30KCiAgICAgICAgICBpZiAoIm9iamVjdCIgPT0gX3R5cGVvZihoKSAmJiBoKSBpZiAoaSA9IHMuY2FsbChoKSwgaSAhPSB3IHx8IF9vLmNhbGwoaCwgInRvSlNPTiIpKSAiZnVuY3Rpb24iID09IHR5cGVvZiBoLnRvSlNPTiAmJiAoaSAhPSB4ICYmIGkgIT0geSAmJiBpICE9IHogfHwgX28uY2FsbChoLCAidG9KU09OIikpICYmIChoID0gaC50b0pTT04oYSkpO2Vsc2UgaWYgKGggPiAtMSAvIDAgJiYgMSAvIDAgPiBoKSB7CiAgICAgICAgICAgIGlmIChFKSB7CiAgICAgICAgICAgICAgZm9yIChtID0gQyhoIC8gODY0ZTUpLCBqID0gQyhtIC8gMzY1LjI0MjUpICsgMTk3MCAtIDE7IEUoaiArIDEsIDApIDw9IG07IGorKykgewogICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm9yIChrID0gQygobSAtIEUoaiwgMCkpIC8gMzAuNDIpOyBFKGosIGsgKyAxKSA8PSBtOyBrKyspIHsKICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG0gPSAxICsgbSAtIEUoaiwgayksIG4gPSAoaCAlIDg2NGU1ICsgODY0ZTUpICUgODY0ZTUsIHIgPSBDKG4gLyAzNmU1KSAlIDI0LCB0ID0gQyhuIC8gNmU0KSAlIDYwLCB1ID0gQyhuIC8gMWUzKSAlIDYwLCB2ID0gbiAlIDFlMzsKICAgICAgICAgICAgfSBlbHNlIGogPSBoLmdldFVUQ0Z1bGxZZWFyKCksIGsgPSBoLmdldFVUQ01vbnRoKCksIG0gPSBoLmdldFVUQ0RhdGUoKSwgciA9IGguZ2V0VVRDSG91cnMoKSwgdCA9IGguZ2V0VVRDTWludXRlcygpLCB1ID0gaC5nZXRVVENTZWNvbmRzKCksIHYgPSBoLmdldFVUQ01pbGxpc2Vjb25kcygpOwoKICAgICAgICAgICAgaCA9ICgwID49IGogfHwgaiA+PSAxZTQgPyAoMCA+IGogPyAiLSIgOiAiKyIpICsgSCg2LCAwID4gaiA/IC1qIDogaikgOiBIKDQsIGopKSArICItIiArIEgoMiwgayArIDEpICsgIi0iICsgSCgyLCBtKSArICJUIiArIEgoMiwgcikgKyAiOiIgKyBIKDIsIHQpICsgIjoiICsgSCgyLCB1KSArICIuIiArIEgoMywgdikgKyAiWiI7CiAgICAgICAgICB9IGVsc2UgaCA9IG51bGw7CiAgICAgICAgICBpZiAoYyAmJiAoaCA9IGMuY2FsbChiLCBhLCBoKSksIG51bGwgPT09IGgpIHJldHVybiAibnVsbCI7CiAgICAgICAgICBpZiAoaSA9IHMuY2FsbChoKSwgaSA9PSBBKSByZXR1cm4gIiIgKyBoOwogICAgICAgICAgaWYgKGkgPT0geCkgcmV0dXJuIGggPiAtMSAvIDAgJiYgMSAvIDAgPiBoID8gIiIgKyBoIDogIm51bGwiOwogICAgICAgICAgaWYgKGkgPT0geSkgcmV0dXJuIEooIiIgKyBoKTsKCiAgICAgICAgICBpZiAoIm9iamVjdCIgPT0gX3R5cGVvZihoKSkgewogICAgICAgICAgICBmb3IgKEcgPSBnLmxlbmd0aDsgRy0tOykgewogICAgICAgICAgICAgIGlmIChnW0ddID09PSBoKSB0aHJvdyBsKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChnLnB1c2goaCksIEIgPSBbXSwgSSA9IGYsIGYgKz0gZSwgaSA9PSB6KSB7CiAgICAgICAgICAgICAgZm9yIChGID0gMCwgRyA9IGgubGVuZ3RoOyBHID4gRjsgRisrKSB7CiAgICAgICAgICAgICAgICBEID0gSyhGLCBoLCBjLCBkLCBlLCBmLCBnKSwgQi5wdXNoKEQgPT09IHEgPyAibnVsbCIgOiBEKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIEwgPSBCLmxlbmd0aCA/IGUgPyAiW1xuIiArIGYgKyBCLmpvaW4oIixcbiIgKyBmKSArICJcbiIgKyBJICsgIl0iIDogIlsiICsgQi5qb2luKCIsIikgKyAiXSIgOiAiW10iOwogICAgICAgICAgICB9IGVsc2UgX3AoZCB8fCBoLCBmdW5jdGlvbiAoYSkgewogICAgICAgICAgICAgIHZhciBiID0gSyhhLCBoLCBjLCBkLCBlLCBmLCBnKTsKICAgICAgICAgICAgICBiICE9PSBxICYmIEIucHVzaChKKGEpICsgIjoiICsgKGUgPyAiICIgOiAiIikgKyBiKTsKICAgICAgICAgICAgfSksIEwgPSBCLmxlbmd0aCA/IGUgPyAie1xuIiArIGYgKyBCLmpvaW4oIixcbiIgKyBmKSArICJcbiIgKyBJICsgIn0iIDogInsiICsgQi5qb2luKCIsIikgKyAifSIgOiAie30iOwoKICAgICAgICAgICAgcmV0dXJuIGcucG9wKCksIEw7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZC5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoYSwgYiwgZCkgewogICAgICAgICAgdmFyIGUsIGYsIGcsIGg7CiAgICAgICAgICBpZiAoY1tfdHlwZW9mKGIpXSAmJiBiKSBpZiAoKGggPSBzLmNhbGwoYikpID09IHYpIGYgPSBiO2Vsc2UgaWYgKGggPT0geikgewogICAgICAgICAgICBnID0ge307CgogICAgICAgICAgICBmb3IgKHZhciBpLCBqID0gMCwgayA9IGIubGVuZ3RoOyBrID4gajsgaSA9IGJbaisrXSwgaCA9IHMuY2FsbChpKSwgKGggPT0geSB8fCBoID09IHgpICYmIChnW2ldID0gMSkpIHsKICAgICAgICAgICAgICA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChkKSBpZiAoKGggPSBzLmNhbGwoZCkpID09IHgpIHsKICAgICAgICAgICAgaWYgKChkIC09IGQgJSAxKSA+IDApIGZvciAoZSA9ICIiLCBkID4gMTAgJiYgKGQgPSAxMCk7IGUubGVuZ3RoIDwgZDsgZSArPSAiICIpIHsKICAgICAgICAgICAgICA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBoID09IHkgJiYgKGUgPSBkLmxlbmd0aCA8PSAxMCA/IGQgOiBkLnNsaWNlKDAsIDEwKSk7CiAgICAgICAgICByZXR1cm4gSygiIiwgKGkgPSB7fSwgaVsiIl0gPSBhLCBpKSwgZiwgZywgZSwgIiIsIFtdKTsKICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoIWYoImpzb24tcGFyc2UiKSkgewogICAgICAgIHZhciBMLAogICAgICAgICAgICBNLAogICAgICAgICAgICBOID0gaC5mcm9tQ2hhckNvZGUsCiAgICAgICAgICAgIE8gPSB7CiAgICAgICAgICA5MjogIlxcIiwKICAgICAgICAgIDM0OiAnIicsCiAgICAgICAgICA0NzogIi8iLAogICAgICAgICAgOTg6ICJcYiIsCiAgICAgICAgICAxMTY6ICIJIiwKICAgICAgICAgIDExMDogIlxuIiwKICAgICAgICAgIDEwMjogIlxmIiwKICAgICAgICAgIDExNDogIlxyIgogICAgICAgIH0sCiAgICAgICAgICAgIFAgPSBmdW5jdGlvbiBQKCkgewogICAgICAgICAgdGhyb3cgTCA9IE0gPSBudWxsLCBrKCk7CiAgICAgICAgfSwKICAgICAgICAgICAgUSA9IGZ1bmN0aW9uIFEoKSB7CiAgICAgICAgICBmb3IgKHZhciBhLCBiLCBjLCBkLCBlLCBmID0gTSwgZyA9IGYubGVuZ3RoOyBnID4gTDspIHsKICAgICAgICAgICAgc3dpdGNoIChlID0gZi5jaGFyQ29kZUF0KEwpKSB7CiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgTCsrOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTIzOgogICAgICAgICAgICAgIGNhc2UgMTI1OgogICAgICAgICAgICAgIGNhc2UgOTE6CiAgICAgICAgICAgICAgY2FzZSA5MzoKICAgICAgICAgICAgICBjYXNlIDU4OgogICAgICAgICAgICAgIGNhc2UgNDQ6CiAgICAgICAgICAgICAgICByZXR1cm4gYSA9IEIgPyBmLmNoYXJBdChMKSA6IGZbTF0sIEwrKywgYTsKCiAgICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICAgIGZvciAoYSA9ICJAIiwgTCsrOyBnID4gTDspIHsKICAgICAgICAgICAgICAgICAgaWYgKGUgPSBmLmNoYXJDb2RlQXQoTCksIDMyID4gZSkgUCgpO2Vsc2UgaWYgKDkyID09IGUpIHN3aXRjaCAoZSA9IGYuY2hhckNvZGVBdCgrK0wpKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSA5MjoKICAgICAgICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgICAgIGNhc2UgNDc6CiAgICAgICAgICAgICAgICAgICAgY2FzZSA5ODoKICAgICAgICAgICAgICAgICAgICBjYXNlIDExNjoKICAgICAgICAgICAgICAgICAgICBjYXNlIDExMDoKICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMjoKICAgICAgICAgICAgICAgICAgICBjYXNlIDExNDoKICAgICAgICAgICAgICAgICAgICAgIGEgKz0gT1tlXSwgTCsrOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgMTE3OgogICAgICAgICAgICAgICAgICAgICAgZm9yIChiID0gKytMLCBjID0gTCArIDQ7IGMgPiBMOyBMKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGYuY2hhckNvZGVBdChMKSwgZSA+PSA0OCAmJiA1NyA+PSBlIHx8IGUgPj0gOTcgJiYgMTAyID49IGUgfHwgZSA+PSA2NSAmJiA3MCA+PSBlIHx8IFAoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBhICs9IE4oIjB4IiArIGYuc2xpY2UoYiwgTCkpOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICBQKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKDM0ID09IGUpIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBmb3IgKGUgPSBmLmNoYXJDb2RlQXQoTCksIGIgPSBMOyBlID49IDMyICYmIDkyICE9IGUgJiYgMzQgIT0gZTspIHsKICAgICAgICAgICAgICAgICAgICAgIGUgPSBmLmNoYXJDb2RlQXQoKytMKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGEgKz0gZi5zbGljZShiLCBMKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICgzNCA9PSBmLmNoYXJDb2RlQXQoTCkpIHJldHVybiBMKyssIGE7CiAgICAgICAgICAgICAgICBQKCk7CgogICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBpZiAoYiA9IEwsIDQ1ID09IGUgJiYgKGQgPSAhMCwgZSA9IGYuY2hhckNvZGVBdCgrK0wpKSwgZSA+PSA0OCAmJiA1NyA+PSBlKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoNDggPT0gZSAmJiAoZSA9IGYuY2hhckNvZGVBdChMICsgMSksIGUgPj0gNDggJiYgNTcgPj0gZSkgJiYgUCgpLCBkID0gITE7IGcgPiBMICYmIChlID0gZi5jaGFyQ29kZUF0KEwpLCBlID49IDQ4ICYmIDU3ID49IGUpOyBMKyspIHsKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICg0NiA9PSBmLmNoYXJDb2RlQXQoTCkpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGMgPSArK0w7IGcgPiBjICYmIChlID0gZi5jaGFyQ29kZUF0KGMpLCBlID49IDQ4ICYmIDU3ID49IGUpOyBjKyspIHsKICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGMgPT0gTCAmJiBQKCksIEwgPSBjOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoZSA9IGYuY2hhckNvZGVBdChMKSwgMTAxID09IGUgfHwgNjkgPT0gZSkgewogICAgICAgICAgICAgICAgICAgIGZvciAoZSA9IGYuY2hhckNvZGVBdCgrK0wpLCAoNDMgPT0gZSB8fCA0NSA9PSBlKSAmJiBMKyssIGMgPSBMOyBnID4gYyAmJiAoZSA9IGYuY2hhckNvZGVBdChjKSwgZSA+PSA0OCAmJiA1NyA+PSBlKTsgYysrKSB7CiAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjID09IEwgJiYgUCgpLCBMID0gYzsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuICtmLnNsaWNlKGIsIEwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChkICYmIFAoKSwgInRydWUiID09IGYuc2xpY2UoTCwgTCArIDQpKSByZXR1cm4gTCArPSA0LCAhMDsKICAgICAgICAgICAgICAgIGlmICgiZmFsc2UiID09IGYuc2xpY2UoTCwgTCArIDUpKSByZXR1cm4gTCArPSA1LCAhMTsKICAgICAgICAgICAgICAgIGlmICgibnVsbCIgPT0gZi5zbGljZShMLCBMICsgNCkpIHJldHVybiBMICs9IDQsIG51bGw7CiAgICAgICAgICAgICAgICBQKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gIiQiOwogICAgICAgIH0sCiAgICAgICAgICAgIFIgPSBmdW5jdGlvbiBSKGEpIHsKICAgICAgICAgIHZhciBiLCBjOwoKICAgICAgICAgIGlmICgiJCIgPT0gYSAmJiBQKCksICJzdHJpbmciID09IHR5cGVvZiBhKSB7CiAgICAgICAgICAgIGlmICgiQCIgPT0gKEIgPyBhLmNoYXJBdCgwKSA6IGFbMF0pKSByZXR1cm4gYS5zbGljZSgxKTsKCiAgICAgICAgICAgIGlmICgiWyIgPT0gYSkgewogICAgICAgICAgICAgIGZvciAoYiA9IFtdOyBhID0gUSgpLCAiXSIgIT0gYTsgYyB8fCAoYyA9ICEwKSkgewogICAgICAgICAgICAgICAgYyAmJiAoIiwiID09IGEgPyAoYSA9IFEoKSwgIl0iID09IGEgJiYgUCgpKSA6IFAoKSksICIsIiA9PSBhICYmIFAoKSwgYi5wdXNoKFIoYSkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIGI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgieyIgPT0gYSkgewogICAgICAgICAgICAgIGZvciAoYiA9IHt9OyBhID0gUSgpLCAifSIgIT0gYTsgYyB8fCAoYyA9ICEwKSkgewogICAgICAgICAgICAgICAgYyAmJiAoIiwiID09IGEgPyAoYSA9IFEoKSwgIn0iID09IGEgJiYgUCgpKSA6IFAoKSksICgiLCIgPT0gYSB8fCAic3RyaW5nIiAhPSB0eXBlb2YgYSB8fCAiQCIgIT0gKEIgPyBhLmNoYXJBdCgwKSA6IGFbMF0pIHx8ICI6IiAhPSBRKCkpICYmIFAoKSwgYlthLnNsaWNlKDEpXSA9IFIoUSgpKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBQKCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfSwKICAgICAgICAgICAgUyA9IGZ1bmN0aW9uIFMoYSwgYiwgYykgewogICAgICAgICAgdmFyIGQgPSBUKGEsIGIsIGMpOwogICAgICAgICAgZCA9PT0gcSA/IGRlbGV0ZSBhW2JdIDogYVtiXSA9IGQ7CiAgICAgICAgfSwKICAgICAgICAgICAgVCA9IGZ1bmN0aW9uIFQoYSwgYiwgYykgewogICAgICAgICAgdmFyIGQsCiAgICAgICAgICAgICAgZSA9IGFbYl07CiAgICAgICAgICBpZiAoIm9iamVjdCIgPT0gX3R5cGVvZihlKSAmJiBlKSBpZiAocy5jYWxsKGUpID09IHopIGZvciAoZCA9IGUubGVuZ3RoOyBkLS07KSB7CiAgICAgICAgICAgIFMoZSwgZCwgYyk7CiAgICAgICAgICB9IGVsc2UgX3AoZSwgZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgUyhlLCBhLCBjKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGMuY2FsbChhLCBiLCBlKTsKICAgICAgICB9OwoKICAgICAgICBkLnBhcnNlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHZhciBjLCBkOwogICAgICAgICAgcmV0dXJuIEwgPSAwLCBNID0gIiIgKyBhLCBjID0gUihRKCkpLCAiJCIgIT0gUSgpICYmIFAoKSwgTCA9IE0gPSBudWxsLCBiICYmIHMuY2FsbChiKSA9PSB2ID8gVCgoZCA9IHt9LCBkWyIiXSA9IGMsIGQpLCAiIiwgYikgOiBjOwogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZC5ydW5JbkNvbnRleHQgPSBhLCBkOwogIH0KCiAgdmFyIGIgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCwKICAgICAgYyA9IHsKICAgICJmdW5jdGlvbiI6ICEwLAogICAgb2JqZWN0OiAhMAogIH0sCiAgICAgIGQgPSBjW3R5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKV0gJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzLAogICAgICBlID0gY1t0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZih3aW5kb3cpXSAmJiB3aW5kb3cgfHwgdGhpcywKICAgICAgZiA9IGQgJiYgY1t0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiAib2JqZWN0IiA9PSAodHlwZW9mIGdsb2JhbCA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZ2xvYmFsKSkgJiYgZ2xvYmFsOwogIGlmICghZiB8fCBmLmdsb2JhbCAhPT0gZiAmJiBmLndpbmRvdyAhPT0gZiAmJiBmLnNlbGYgIT09IGYgfHwgKGUgPSBmKSwgZCAmJiAhYikgYShlLCBkKTtlbHNlIHsKICAgIHZhciBnID0gZS5KU09OLAogICAgICAgIGggPSBlLkpTT04zLAogICAgICAgIGkgPSAhMSwKICAgICAgICBqID0gYShlLCBlLkpTT04zID0gewogICAgICBub0NvbmZsaWN0OiBmdW5jdGlvbiBub0NvbmZsaWN0KCkgewogICAgICAgIHJldHVybiBpIHx8IChpID0gITAsIGUuSlNPTiA9IGcsIGUuSlNPTjMgPSBoLCBnID0gaCA9IG51bGwpLCBqOwogICAgICB9CiAgICB9KTsKICAgIGUuSlNPTiA9IHsKICAgICAgcGFyc2U6IGoucGFyc2UsCiAgICAgIHN0cmluZ2lmeTogai5zdHJpbmdpZnkKICAgIH07CiAgfQogIGIgJiYgZGVmaW5lKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBqOwogIH0pOwp9LmNhbGwodGhpcyksIGZ1bmN0aW9uICgpIHsKICB2YXIgYSA9IHt9OwogIGEuYSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBhLmVsKCJhIik7CiAgfSwgYS5zdmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYS5lbCgic3ZnIik7CiAgfSwgYS5vYmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYS5lbCgib2JqZWN0Iik7CiAgfSwgYS5pbWFnZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBhLmVsKCJpbWFnZSIpOwogIH0sIGEuaW1nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGEuZWwoImltZyIpOwogIH0sIGEuc3R5bGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYS5lbCgic3R5bGUiKTsKICB9LCBhLmxpbmsgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYS5lbCgibGluayIpOwogIH0sIGEuc2NyaXB0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGEuZWwoInNjcmlwdCIpOwogIH0sIGEuYXVkaW8gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYS5lbCgiYXVkaW8iKTsKICB9LCBhLnZpZGVvID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGEuZWwoInZpZGVvIik7CiAgfSwgYS50ZXh0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTsKICB9LCBhLmVsID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOwogIH0sIGNyZWF0ZWpzLkVsZW1lbnRzID0gYTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgdmFyIGEgPSB7fTsKICBhLkFCU09MVVRFX1BBVFQgPSAvXig/Olx3KzopP1wvezJ9L2ksIGEuUkVMQVRJVkVfUEFUVCA9IC9eWy5cL10qP1wvL2ksIGEuRVhURU5TSU9OX1BBVFQgPSAvXC8/W15cL10rXC4oXHd7MSw1fSkkL2ksIGEucGFyc2VVUkkgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMgPSB7CiAgICAgIGFic29sdXRlOiAhMSwKICAgICAgcmVsYXRpdmU6ICExLAogICAgICBwcm90b2NvbDogbnVsbCwKICAgICAgaG9zdG5hbWU6IG51bGwsCiAgICAgIHBvcnQ6IG51bGwsCiAgICAgIHBhdGhuYW1lOiBudWxsLAogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIGhhc2g6IG51bGwsCiAgICAgIGhvc3Q6IG51bGwKICAgIH07CiAgICBpZiAobnVsbCA9PSBiKSByZXR1cm4gYzsKICAgIHZhciBkID0gY3JlYXRlanMuRWxlbWVudHMuYSgpOwogICAgZC5ocmVmID0gYjsKCiAgICBmb3IgKHZhciBlIGluIGMpIHsKICAgICAgZSBpbiBkICYmIChjW2VdID0gZFtlXSk7CiAgICB9CgogICAgdmFyIGYgPSBiLmluZGV4T2YoIj8iKTsKICAgIGYgPiAtMSAmJiAoYiA9IGIuc3Vic3RyKDAsIGYpKTsKICAgIHZhciBnOwogICAgcmV0dXJuIGEuQUJTT0xVVEVfUEFUVC50ZXN0KGIpID8gYy5hYnNvbHV0ZSA9ICEwIDogYS5SRUxBVElWRV9QQVRULnRlc3QoYikgJiYgKGMucmVsYXRpdmUgPSAhMCksIChnID0gYi5tYXRjaChhLkVYVEVOU0lPTl9QQVRUKSkgJiYgKGMuZXh0ZW5zaW9uID0gZ1sxXS50b0xvd2VyQ2FzZSgpKSwgYzsKICB9LCBhLmZvcm1hdFF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmIChudWxsID09IGEpIHRocm93IG5ldyBFcnJvcigiWW91IG11c3Qgc3BlY2lmeSBkYXRhLiIpOwogICAgdmFyIGMgPSBbXTsKCiAgICBmb3IgKHZhciBkIGluIGEpIHsKICAgICAgYy5wdXNoKGQgKyAiPSIgKyBlc2NhcGUoYVtkXSkpOwogICAgfQoKICAgIHJldHVybiBiICYmIChjID0gYy5jb25jYXQoYikpLCBjLmpvaW4oIiYiKTsKICB9LCBhLmJ1aWxkVVJJID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmIChudWxsID09IGIpIHJldHVybiBhOwogICAgdmFyIGMgPSBbXSwKICAgICAgICBkID0gYS5pbmRleE9mKCI/Iik7CgogICAgaWYgKC0xICE9IGQpIHsKICAgICAgdmFyIGUgPSBhLnNsaWNlKGQgKyAxKTsKICAgICAgYyA9IGMuY29uY2F0KGUuc3BsaXQoIiYiKSk7CiAgICB9CgogICAgcmV0dXJuIC0xICE9IGQgPyBhLnNsaWNlKDAsIGQpICsgIj8iICsgdGhpcy5mb3JtYXRRdWVyeVN0cmluZyhiLCBjKSA6IGEgKyAiPyIgKyB0aGlzLmZvcm1hdFF1ZXJ5U3RyaW5nKGIsIGMpOwogIH0sIGEuaXNDcm9zc0RvbWFpbiA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGNyZWF0ZWpzLkVsZW1lbnRzLmEoKTsKICAgIGIuaHJlZiA9IGEuc3JjOwogICAgdmFyIGMgPSBjcmVhdGVqcy5FbGVtZW50cy5hKCk7CiAgICBjLmhyZWYgPSBsb2NhdGlvbi5ocmVmOwogICAgdmFyIGQgPSAiIiAhPSBiLmhvc3RuYW1lICYmIChiLnBvcnQgIT0gYy5wb3J0IHx8IGIucHJvdG9jb2wgIT0gYy5wcm90b2NvbCB8fCBiLmhvc3RuYW1lICE9IGMuaG9zdG5hbWUpOwogICAgcmV0dXJuIGQ7CiAgfSwgYS5pc0xvY2FsID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gY3JlYXRlanMuRWxlbWVudHMuYSgpOwogICAgcmV0dXJuIGIuaHJlZiA9IGEuc3JjLCAiIiA9PSBiLmhvc3RuYW1lICYmICJmaWxlOiIgPT0gYi5wcm90b2NvbDsKICB9LCBjcmVhdGVqcy5VUkxVdGlscyA9IGE7Cn0oKSwgZnVuY3Rpb24gKCkgewogIHZhciBhID0gewogICAgY29udGFpbmVyOiBudWxsCiAgfTsKICBhLmFwcGVuZFRvSGVhZCA9IGZ1bmN0aW9uIChiKSB7CiAgICBhLmdldEhlYWQoKS5hcHBlbmRDaGlsZChiKTsKICB9LCBhLmFwcGVuZFRvQm9keSA9IGZ1bmN0aW9uIChiKSB7CiAgICBpZiAobnVsbCA9PSBhLmNvbnRhaW5lcikgewogICAgICBhLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBhLmNvbnRhaW5lci5pZCA9ICJwcmVsb2FkanMtY29udGFpbmVyIjsKICAgICAgdmFyIGMgPSBhLmNvbnRhaW5lci5zdHlsZTsKICAgICAgYy52aXNpYmlsaXR5ID0gImhpZGRlbiIsIGMucG9zaXRpb24gPSAiYWJzb2x1dGUiLCBjLndpZHRoID0gYS5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gIjEwcHgiLCBjLm92ZXJmbG93ID0gImhpZGRlbiIsIGMudHJhbnNmb3JtID0gYy5tc1RyYW5zZm9ybSA9IGMud2Via2l0VHJhbnNmb3JtID0gYy5vVHJhbnNmb3JtID0gInRyYW5zbGF0ZSgtMTBweCwgLTEwcHgpIiwgYS5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQoYS5jb250YWluZXIpOwogICAgfQoKICAgIGEuY29udGFpbmVyLmFwcGVuZENoaWxkKGIpOwogIH0sIGEuZ2V0SGVhZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07CiAgfSwgYS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTsKICB9LCBhLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKGEpIHsKICAgIGEucGFyZW50ICYmIGEucGFyZW50LnJlbW92ZUNoaWxkKGEpOwogIH0sIGEuaXNJbWFnZVRhZyA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ7CiAgfSwgYS5pc0F1ZGlvVGFnID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB3aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCA/IGEgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50IDogITE7CiAgfSwgYS5pc1ZpZGVvVGFnID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB3aW5kb3cuSFRNTFZpZGVvRWxlbWVudCA/IGEgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50IDogITE7CiAgfSwgY3JlYXRlanMuRG9tVXRpbHMgPSBhOwp9KCksIGZ1bmN0aW9uICgpIHsKICB2YXIgYSA9IHt9OwogIGEucGFyc2VYTUwgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBudWxsOwoKICAgIHRyeSB7CiAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7CiAgICAgICAgdmFyIGMgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgYiA9IGMucGFyc2VGcm9tU3RyaW5nKGEsICJ0ZXh0L3htbCIpOwogICAgICB9CiAgICB9IGNhdGNoIChkKSB7fQoKICAgIGlmICghYikgdHJ5IHsKICAgICAgYiA9IG5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksIGIuYXN5bmMgPSAhMSwgYi5sb2FkWE1MKGEpOwogICAgfSBjYXRjaCAoZCkgewogICAgICBiID0gbnVsbDsKICAgIH0KICAgIHJldHVybiBiOwogIH0sIGEucGFyc2VKU09OID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChudWxsID09IGEpIHJldHVybiBudWxsOwoKICAgIHRyeSB7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKGEpOwogICAgfSBjYXRjaCAoYikgewogICAgICB0aHJvdyBiOwogICAgfQogIH0sIGNyZWF0ZWpzLkRhdGFVdGlscyA9IGE7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICB2YXIgYSA9IHt9OwogIGEuQklOQVJZID0gImJpbmFyeSIsIGEuQ1NTID0gImNzcyIsIGEuRk9OVCA9ICJmb250IiwgYS5GT05UQ1NTID0gImZvbnRjc3MiLCBhLklNQUdFID0gImltYWdlIiwgYS5KQVZBU0NSSVBUID0gImphdmFzY3JpcHQiLCBhLkpTT04gPSAianNvbiIsIGEuSlNPTlAgPSAianNvbnAiLCBhLk1BTklGRVNUID0gIm1hbmlmZXN0IiwgYS5TT1VORCA9ICJzb3VuZCIsIGEuVklERU8gPSAidmlkZW8iLCBhLlNQUklURVNIRUVUID0gInNwcml0ZXNoZWV0IiwgYS5TVkcgPSAic3ZnIiwgYS5URVhUID0gInRleHQiLCBhLlhNTCA9ICJ4bWwiLCBjcmVhdGVqcy5UeXBlcyA9IGE7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICB2YXIgYSA9IHt9OwogIGEuUE9TVCA9ICJQT1NUIiwgYS5HRVQgPSAiR0VUIiwgY3JlYXRlanMuTWV0aG9kcyA9IGE7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLnNyYyA9IG51bGwsIHRoaXMudHlwZSA9IG51bGwsIHRoaXMuaWQgPSBudWxsLCB0aGlzLm1haW50YWluT3JkZXIgPSAhMSwgdGhpcy5jYWxsYmFjayA9IG51bGwsIHRoaXMuZGF0YSA9IG51bGwsIHRoaXMubWV0aG9kID0gY3JlYXRlanMuTWV0aG9kcy5HRVQsIHRoaXMudmFsdWVzID0gbnVsbCwgdGhpcy5oZWFkZXJzID0gbnVsbCwgdGhpcy53aXRoQ3JlZGVudGlhbHMgPSAhMSwgdGhpcy5taW1lVHlwZSA9IG51bGwsIHRoaXMuY3Jvc3NPcmlnaW4gPSBudWxsLCB0aGlzLmxvYWRUaW1lb3V0ID0gYy5MT0FEX1RJTUVPVVRfREVGQVVMVDsKICB9CgogIHZhciBiID0gYS5wcm90b3R5cGUgPSB7fSwKICAgICAgYyA9IGE7CiAgYy5MT0FEX1RJTUVPVVRfREVGQVVMVCA9IDhlMywgYy5jcmVhdGUgPSBmdW5jdGlvbiAoYikgewogICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBiKSB7CiAgICAgIHZhciBkID0gbmV3IGEoKTsKICAgICAgcmV0dXJuIGQuc3JjID0gYiwgZDsKICAgIH0KCiAgICBpZiAoYiBpbnN0YW5jZW9mIGMpIHJldHVybiBiOwogICAgaWYgKGIgaW5zdGFuY2VvZiBPYmplY3QgJiYgYi5zcmMpIHJldHVybiBudWxsID09IGIubG9hZFRpbWVvdXQgJiYgKGIubG9hZFRpbWVvdXQgPSBjLkxPQURfVElNRU9VVF9ERUZBVUxUKSwgYjsKICAgIHRocm93IG5ldyBFcnJvcigiVHlwZSBub3QgcmVjb2duaXplZC4iKTsKICB9LCBiLnNldCA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiIGluIGEpIHsKICAgICAgdGhpc1tiXSA9IGFbYl07CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwgY3JlYXRlanMuTG9hZEl0ZW0gPSBjOwp9KCksIGZ1bmN0aW9uICgpIHsKICB2YXIgYSA9IHt9OwogIGEuaXNCaW5hcnkgPSBmdW5jdGlvbiAoYSkgewogICAgc3dpdGNoIChhKSB7CiAgICAgIGNhc2UgY3JlYXRlanMuVHlwZXMuSU1BR0U6CiAgICAgIGNhc2UgY3JlYXRlanMuVHlwZXMuQklOQVJZOgogICAgICAgIHJldHVybiAhMDsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICExOwogICAgfQogIH0sIGEuaXNUZXh0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHN3aXRjaCAoYSkgewogICAgICBjYXNlIGNyZWF0ZWpzLlR5cGVzLlRFWFQ6CiAgICAgIGNhc2UgY3JlYXRlanMuVHlwZXMuSlNPTjoKICAgICAgY2FzZSBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVDoKICAgICAgY2FzZSBjcmVhdGVqcy5UeXBlcy5YTUw6CiAgICAgIGNhc2UgY3JlYXRlanMuVHlwZXMuQ1NTOgogICAgICBjYXNlIGNyZWF0ZWpzLlR5cGVzLlNWRzoKICAgICAgY2FzZSBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUOgogICAgICBjYXNlIGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUOgogICAgICAgIHJldHVybiAhMDsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICExOwogICAgfQogIH0sIGEuZ2V0VHlwZUJ5RXh0ZW5zaW9uID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChudWxsID09IGEpIHJldHVybiBjcmVhdGVqcy5UeXBlcy5URVhUOwoKICAgIHN3aXRjaCAoYS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgImpwZWciOgogICAgICBjYXNlICJqcGciOgogICAgICBjYXNlICJnaWYiOgogICAgICBjYXNlICJwbmciOgogICAgICBjYXNlICJ3ZWJwIjoKICAgICAgY2FzZSAiYm1wIjoKICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuSU1BR0U7CgogICAgICBjYXNlICJvZ2ciOgogICAgICBjYXNlICJtcDMiOgogICAgICBjYXNlICJ3ZWJtIjoKICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuU09VTkQ7CgogICAgICBjYXNlICJtcDQiOgogICAgICBjYXNlICJ3ZWJtIjoKICAgICAgY2FzZSAidHMiOgogICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5WSURFTzsKCiAgICAgIGNhc2UgImpzb24iOgogICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OOwoKICAgICAgY2FzZSAieG1sIjoKICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuWE1MOwoKICAgICAgY2FzZSAiY3NzIjoKICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuQ1NTOwoKICAgICAgY2FzZSAianMiOgogICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUOwoKICAgICAgY2FzZSAic3ZnIjoKICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVDsKICAgIH0KICB9LCBjcmVhdGVqcy5SZXF1ZXN0VXRpbHMgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMpIHsKICAgIHRoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCksIHRoaXMubG9hZGVkID0gITEsIHRoaXMuY2FuY2VsZWQgPSAhMSwgdGhpcy5wcm9ncmVzcyA9IDAsIHRoaXMudHlwZSA9IGMsIHRoaXMucmVzdWx0Rm9ybWF0dGVyID0gbnVsbCwgYSA/IHRoaXMuX2l0ZW0gPSBjcmVhdGVqcy5Mb2FkSXRlbS5jcmVhdGUoYSkgOiB0aGlzLl9pdGVtID0gbnVsbCwgdGhpcy5fcHJlZmVyWEhSID0gYiwgdGhpcy5fcmVzdWx0ID0gbnVsbCwgdGhpcy5fcmF3UmVzdWx0ID0gbnVsbCwgdGhpcy5fbG9hZGVkSXRlbXMgPSBudWxsLCB0aGlzLl90YWdTcmNBdHRyaWJ1dGUgPSBudWxsLCB0aGlzLl90YWcgPSBudWxsOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKSwKICAgICAgYyA9IGE7CgogIHRyeSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjLCB7CiAgICAgIFBPU1Q6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5QT1NUOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5QT1NUIikKICAgICAgfSwKICAgICAgR0VUOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLk1ldGhvZHMuR0VUOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5HRVQiKQogICAgICB9LAogICAgICBCSU5BUlk6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuQklOQVJZOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5CSU5BUlkiKQogICAgICB9LAogICAgICBDU1M6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuQ1NTOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5DU1MiKQogICAgICB9LAogICAgICBGT05UOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlQ7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLkZPTlQiKQogICAgICB9LAogICAgICBGT05UQ1NTOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1M7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLkZPTlRDU1MiKQogICAgICB9LAogICAgICBJTUFHRTogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5JTUFHRTsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuSU1BR0UiKQogICAgICB9LAogICAgICBKQVZBU0NSSVBUOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQ7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLkpBVkFTQ1JJUFQiKQogICAgICB9LAogICAgICBKU09OOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT047CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLkpTT04iKQogICAgICB9LAogICAgICBKU09OUDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OUDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuSlNPTlAiKQogICAgICB9LAogICAgICBNQU5JRkVTVDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuTUFOSUZFU1QiKQogICAgICB9LAogICAgICBTT1VORDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuU09VTkQiKQogICAgICB9LAogICAgICBWSURFTzogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5WSURFTzsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuVklERU8iKQogICAgICB9LAogICAgICBTUFJJVEVTSEVFVDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuU1BSSVRFU0hFRVQiKQogICAgICB9LAogICAgICBTVkc6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5TVkciKQogICAgICB9LAogICAgICBURVhUOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFQ7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLlRFWFQiKQogICAgICB9LAogICAgICBYTUw6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuWE1MOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5YTUwiKQogICAgICB9CiAgICB9KTsKICB9IGNhdGNoIChkKSB7fQoKICBiLmdldEl0ZW0gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5faXRlbTsKICB9LCBiLmdldFJlc3VsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYSA/IHRoaXMuX3Jhd1Jlc3VsdCA6IHRoaXMuX3Jlc3VsdDsKICB9LCBiLmdldFRhZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl90YWc7CiAgfSwgYi5zZXRUYWcgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5fdGFnID0gYTsKICB9LCBiLmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9jcmVhdGVSZXF1ZXN0KCksIHRoaXMuX3JlcXVlc3Qub24oImNvbXBsZXRlIiwgdGhpcywgdGhpcyksIHRoaXMuX3JlcXVlc3Qub24oInByb2dyZXNzIiwgdGhpcywgdGhpcyksIHRoaXMuX3JlcXVlc3Qub24oImxvYWRTdGFydCIsIHRoaXMsIHRoaXMpLCB0aGlzLl9yZXF1ZXN0Lm9uKCJhYm9ydCIsIHRoaXMsIHRoaXMpLCB0aGlzLl9yZXF1ZXN0Lm9uKCJ0aW1lb3V0IiwgdGhpcywgdGhpcyksIHRoaXMuX3JlcXVlc3Qub24oImVycm9yIiwgdGhpcywgdGhpcyk7CiAgICB2YXIgYSA9IG5ldyBjcmVhdGVqcy5FdmVudCgiaW5pdGlhbGl6ZSIpOwogICAgYS5sb2FkZXIgPSB0aGlzLl9yZXF1ZXN0LCB0aGlzLmRpc3BhdGNoRXZlbnQoYSksIHRoaXMuX3JlcXVlc3QubG9hZCgpOwogIH0sIGIuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5jYW5jZWxlZCA9ICEwLCB0aGlzLmRlc3Ryb3koKTsKICB9LCBiLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9yZXF1ZXN0ICYmICh0aGlzLl9yZXF1ZXN0LnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCksIHRoaXMuX3JlcXVlc3QuZGVzdHJveSgpKSwgdGhpcy5fcmVxdWVzdCA9IG51bGwsIHRoaXMuX2l0ZW0gPSBudWxsLCB0aGlzLl9yYXdSZXN1bHQgPSBudWxsLCB0aGlzLl9yZXN1bHQgPSBudWxsLCB0aGlzLl9sb2FkSXRlbXMgPSBudWxsLCB0aGlzLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCk7CiAgfSwgYi5nZXRMb2FkZWRJdGVtcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9sb2FkZWRJdGVtczsKICB9LCBiLl9jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fcHJlZmVyWEhSID8gdGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pIDogdGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5UYWdSZXF1ZXN0KHRoaXMuX2l0ZW0sIHRoaXMuX3RhZyB8fCB0aGlzLl9jcmVhdGVUYWcoKSwgdGhpcy5fdGFnU3JjQXR0cmlidXRlKTsKICB9LCBiLl9jcmVhdGVUYWcgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIG51bGw7CiAgfSwgYi5fc2VuZExvYWRTdGFydCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX2lzQ2FuY2VsZWQoKSB8fCB0aGlzLmRpc3BhdGNoRXZlbnQoImxvYWRzdGFydCIpOwogIH0sIGIuX3NlbmRQcm9ncmVzcyA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoIXRoaXMuX2lzQ2FuY2VsZWQoKSkgewogICAgICB2YXIgYiA9IG51bGw7CiAgICAgICJudW1iZXIiID09IHR5cGVvZiBhID8gKHRoaXMucHJvZ3Jlc3MgPSBhLCBiID0gbmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQodGhpcy5wcm9ncmVzcykpIDogKGIgPSBhLCB0aGlzLnByb2dyZXNzID0gYS5sb2FkZWQgLyBhLnRvdGFsLCBiLnByb2dyZXNzID0gdGhpcy5wcm9ncmVzcywgKGlzTmFOKHRoaXMucHJvZ3Jlc3MpIHx8IHRoaXMucHJvZ3Jlc3MgPT0gMSAvIDApICYmICh0aGlzLnByb2dyZXNzID0gMCkpLCB0aGlzLmhhc0V2ZW50TGlzdGVuZXIoInByb2dyZXNzIikgJiYgdGhpcy5kaXNwYXRjaEV2ZW50KGIpOwogICAgfQogIH0sIGIuX3NlbmRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5faXNDYW5jZWxlZCgpKSB7CiAgICAgIHRoaXMubG9hZGVkID0gITA7CiAgICAgIHZhciBhID0gbmV3IGNyZWF0ZWpzLkV2ZW50KCJjb21wbGV0ZSIpOwogICAgICBhLnJhd1Jlc3VsdCA9IHRoaXMuX3Jhd1Jlc3VsdCwgbnVsbCAhPSB0aGlzLl9yZXN1bHQgJiYgKGEucmVzdWx0ID0gdGhpcy5fcmVzdWx0KSwgdGhpcy5kaXNwYXRjaEV2ZW50KGEpOwogICAgfQogIH0sIGIuX3NlbmRFcnJvciA9IGZ1bmN0aW9uIChhKSB7CiAgICAhdGhpcy5faXNDYW5jZWxlZCgpICYmIHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZXJyb3IiKSAmJiAobnVsbCA9PSBhICYmIChhID0gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoIlBSRUxPQURfRVJST1JfRU1QVFkiKSksIHRoaXMuZGlzcGF0Y2hFdmVudChhKSk7CiAgfSwgYi5faXNDYW5jZWxlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBudWxsID09IHdpbmRvdy5jcmVhdGVqcyB8fCB0aGlzLmNhbmNlbGVkID8gITAgOiAhMTsKICB9LCBiLnJlc3VsdEZvcm1hdHRlciA9IG51bGwsIGIuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoYSkgewogICAgc3dpdGNoIChhLnR5cGUpIHsKICAgICAgY2FzZSAiY29tcGxldGUiOgogICAgICAgIHRoaXMuX3Jhd1Jlc3VsdCA9IGEudGFyZ2V0Ll9yZXNwb25zZTsKICAgICAgICB2YXIgYiA9IHRoaXMucmVzdWx0Rm9ybWF0dGVyICYmIHRoaXMucmVzdWx0Rm9ybWF0dGVyKHRoaXMpOwogICAgICAgIGIgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGIuY2FsbCh0aGlzLCBjcmVhdGVqcy5wcm94eSh0aGlzLl9yZXN1bHRGb3JtYXRTdWNjZXNzLCB0aGlzKSwgY3JlYXRlanMucHJveHkodGhpcy5fcmVzdWx0Rm9ybWF0RmFpbGVkLCB0aGlzKSkgOiAodGhpcy5fcmVzdWx0ID0gYiB8fCB0aGlzLl9yYXdSZXN1bHQsIHRoaXMuX3NlbmRDb21wbGV0ZSgpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInByb2dyZXNzIjoKICAgICAgICB0aGlzLl9zZW5kUHJvZ3Jlc3MoYSk7CgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiZXJyb3IiOgogICAgICAgIHRoaXMuX3NlbmRFcnJvcihhKTsKCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJsb2Fkc3RhcnQiOgogICAgICAgIHRoaXMuX3NlbmRMb2FkU3RhcnQoKTsKCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJhYm9ydCI6CiAgICAgIGNhc2UgInRpbWVvdXQiOgogICAgICAgIHRoaXMuX2lzQ2FuY2VsZWQoKSB8fCB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoIlBSRUxPQURfIiArIGEudHlwZS50b1VwcGVyQ2FzZSgpICsgIl9FUlJPUiIpKTsKICAgIH0KICB9LCBiLl9yZXN1bHRGb3JtYXRTdWNjZXNzID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX3Jlc3VsdCA9IGEsIHRoaXMuX3NlbmRDb21wbGV0ZSgpOwogIH0sIGIuX3Jlc3VsdEZvcm1hdEZhaWxlZCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9zZW5kRXJyb3IoYSk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1ByZWxvYWRKUyBBYnN0cmFjdExvYWRlcl0iOwogIH0sIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiRXZlbnREaXNwYXRjaGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYiwgYykgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCBiLCBjKSwgdGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSB0aGlzLl9mb3JtYXRSZXN1bHQsIHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9ICJzcmMiLCB0aGlzLm9uKCJpbml0aWFsaXplIiwgdGhpcy5fdXBkYXRlWEhSLCB0aGlzKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTsKICBiLmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl90YWcgfHwgKHRoaXMuX3RhZyA9IHRoaXMuX2NyZWF0ZVRhZyh0aGlzLl9pdGVtLnNyYykpLCB0aGlzLl90YWcucHJlbG9hZCA9ICJhdXRvIiwgdGhpcy5fdGFnLmxvYWQoKSwgdGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCk7CiAgfSwgYi5fY3JlYXRlVGFnID0gZnVuY3Rpb24gKCkge30sIGIuX2NyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9wcmVmZXJYSFIgPyB0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSkgOiB0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLk1lZGlhVGFnUmVxdWVzdCh0aGlzLl9pdGVtLCB0aGlzLl90YWcgfHwgdGhpcy5fY3JlYXRlVGFnKCksIHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSk7CiAgfSwgYi5fdXBkYXRlWEhSID0gZnVuY3Rpb24gKGEpIHsKICAgIGEubG9hZGVyLnNldFJlc3BvbnNlVHlwZSAmJiBhLmxvYWRlci5zZXRSZXNwb25zZVR5cGUoImJsb2IiKTsKICB9LCBiLl9mb3JtYXRSZXN1bHQgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyICYmIHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsIHRoaXMuX2xvYWRlZEhhbmRsZXIpLCB0aGlzLl90YWcub25zdGFsbGVkID0gbnVsbCwgdGhpcy5fcHJlZmVyWEhSKSB7CiAgICAgIHZhciBiID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMLAogICAgICAgICAgYyA9IGEuZ2V0UmVzdWx0KCEwKTsKICAgICAgYS5nZXRUYWcoKS5zcmMgPSBiLmNyZWF0ZU9iamVjdFVSTChjKTsKICAgIH0KCiAgICByZXR1cm4gYS5nZXRUYWcoKTsKICB9LCBjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RMb2FkZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIGEgPSBmdW5jdGlvbiBhKF9hKSB7CiAgICB0aGlzLl9pdGVtID0gX2E7CiAgfSwKICAgICAgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpOwoKICBiLmxvYWQgPSBmdW5jdGlvbiAoKSB7fSwgYi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge30sIGIuY2FuY2VsID0gZnVuY3Rpb24gKCkge30sIGNyZWF0ZWpzLkFic3RyYWN0UmVxdWVzdCA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkV2ZW50RGlzcGF0Y2hlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMpIHsKICAgIHRoaXMuQWJzdHJhY3RSZXF1ZXN0X2NvbnN0cnVjdG9yKGEpLCB0aGlzLl90YWcgPSBiLCB0aGlzLl90YWdTcmNBdHRyaWJ1dGUgPSBjLCB0aGlzLl9sb2FkZWRIYW5kbGVyID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnQ29tcGxldGUsIHRoaXMpLCB0aGlzLl9hZGRlZFRvRE9NID0gITE7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdFJlcXVlc3QpOwogIGIubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX3RhZy5vbmxvYWQgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSwgdGhpcyksIHRoaXMuX3RhZy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLCB0aGlzKSwgdGhpcy5fdGFnLm9uZXJyb3IgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvciwgdGhpcyk7CiAgICB2YXIgYSA9IG5ldyBjcmVhdGVqcy5FdmVudCgiaW5pdGlhbGl6ZSIpOwogICAgYS5sb2FkZXIgPSB0aGlzLl90YWcsIHRoaXMuZGlzcGF0Y2hFdmVudChhKSwgdGhpcy5fbG9hZFRpbWVvdXQgPSBzZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsIHRoaXMpLCB0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSwgdGhpcy5fdGFnW3RoaXMuX3RhZ1NyY0F0dHJpYnV0ZV0gPSB0aGlzLl9pdGVtLnNyYywgbnVsbCA9PSB0aGlzLl90YWcucGFyZW50Tm9kZSAmJiAoY3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9Cb2R5KHRoaXMuX3RhZyksIHRoaXMuX2FkZGVkVG9ET00gPSAhMCk7CiAgfSwgYi5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY2xlYW4oKSwgdGhpcy5fdGFnID0gbnVsbCwgdGhpcy5BYnN0cmFjdFJlcXVlc3RfZGVzdHJveSgpOwogIH0sIGIuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICBjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpOwogICAgdmFyIGEgPSB0aGlzLl90YWc7CiAgICAoImxvYWRlZCIgPT0gYS5yZWFkeVN0YXRlIHx8ICJjb21wbGV0ZSIgPT0gYS5yZWFkeVN0YXRlKSAmJiB0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSgpOwogIH0sIGIuX2hhbmRsZUVycm9yID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY2xlYW4oKSwgdGhpcy5kaXNwYXRjaEV2ZW50KCJlcnJvciIpOwogIH0sIGIuX2hhbmRsZVRhZ0NvbXBsZXRlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fcmF3UmVzdWx0ID0gdGhpcy5fdGFnLCB0aGlzLl9yZXN1bHQgPSB0aGlzLnJlc3VsdEZvcm1hdHRlciAmJiB0aGlzLnJlc3VsdEZvcm1hdHRlcih0aGlzKSB8fCB0aGlzLl9yYXdSZXN1bHQsIHRoaXMuX2NsZWFuKCksIHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKTsKICB9LCBiLl9oYW5kbGVUaW1lb3V0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY2xlYW4oKSwgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FdmVudCgidGltZW91dCIpKTsKICB9LCBiLl9jbGVhbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX3RhZy5vbmxvYWQgPSBudWxsLCB0aGlzLl90YWcub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbCwgdGhpcy5fdGFnLm9uZXJyb3IgPSBudWxsLCB0aGlzLl9hZGRlZFRvRE9NICYmIG51bGwgIT0gdGhpcy5fdGFnLnBhcmVudE5vZGUgJiYgdGhpcy5fdGFnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fdGFnKSwgY2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTsKICB9LCBiLl9oYW5kbGVTdGFsbGVkID0gZnVuY3Rpb24gKCkge30sIGNyZWF0ZWpzLlRhZ1JlcXVlc3QgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdFJlcXVlc3QiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiLCBjKSB7CiAgICB0aGlzLkFic3RyYWN0UmVxdWVzdF9jb25zdHJ1Y3RvcihhKSwgdGhpcy5fdGFnID0gYiwgdGhpcy5fdGFnU3JjQXR0cmlidXRlID0gYywgdGhpcy5fbG9hZGVkSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlLCB0aGlzKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLlRhZ1JlcXVlc3QpOwogIGIubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlU3RhbGxlZCwgdGhpcyk7CiAgICB0aGlzLl9zdGFsbGVkQ2FsbGJhY2sgPSBhOwogICAgdmFyIGIgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVQcm9ncmVzcywgdGhpcyk7CiAgICB0aGlzLl9oYW5kbGVQcm9ncmVzcyA9IGIsIHRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyKCJzdGFsbGVkIiwgYSksIHRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsIGIpLCB0aGlzLl90YWcuYWRkRXZlbnRMaXN0ZW5lciAmJiB0aGlzLl90YWcuYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLCB0aGlzLl9sb2FkZWRIYW5kbGVyLCAhMSksIHRoaXMuVGFnUmVxdWVzdF9sb2FkKCk7CiAgfSwgYi5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7CiAgICB2YXIgYSA9IHRoaXMuX3RhZzsKICAgICgibG9hZGVkIiA9PSBhLnJlYWR5U3RhdGUgfHwgImNvbXBsZXRlIiA9PSBhLnJlYWR5U3RhdGUpICYmIHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlKCk7CiAgfSwgYi5faGFuZGxlU3RhbGxlZCA9IGZ1bmN0aW9uICgpIHt9LCBiLl9oYW5kbGVQcm9ncmVzcyA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoYSAmJiAhKGEubG9hZGVkID4gMCAmJiAwID09IGEudG90YWwpKSB7CiAgICAgIHZhciBiID0gbmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQoYS5sb2FkZWQsIGEudG90YWwpOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYik7CiAgICB9CiAgfSwgYi5fY2xlYW4gPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lciAmJiB0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLCB0aGlzLl9sb2FkZWRIYW5kbGVyKSwgdGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoInN0YWxsZWQiLCB0aGlzLl9zdGFsbGVkQ2FsbGJhY2spLCB0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLCB0aGlzLl9wcm9ncmVzc0NhbGxiYWNrKSwgdGhpcy5UYWdSZXF1ZXN0X19jbGVhbigpOwogIH0sIGNyZWF0ZWpzLk1lZGlhVGFnUmVxdWVzdCA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIlRhZ1JlcXVlc3QiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhKSB7CiAgICB0aGlzLkFic3RyYWN0UmVxdWVzdF9jb25zdHJ1Y3RvcihhKSwgdGhpcy5fcmVxdWVzdCA9IG51bGwsIHRoaXMuX2xvYWRUaW1lb3V0ID0gbnVsbCwgdGhpcy5feGhyTGV2ZWwgPSAxLCB0aGlzLl9yZXNwb25zZSA9IG51bGwsIHRoaXMuX3Jhd1Jlc3BvbnNlID0gbnVsbCwgdGhpcy5fY2FuY2VsZWQgPSAhMSwgdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHkgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkU3RhcnQsIHRoaXMpLCB0aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5ID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsIHRoaXMpLCB0aGlzLl9oYW5kbGVBYm9ydFByb3h5ID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlQWJvcnQsIHRoaXMpLCB0aGlzLl9oYW5kbGVFcnJvclByb3h5ID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlRXJyb3IsIHRoaXMpLCB0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHkgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LCB0aGlzKSwgdGhpcy5faGFuZGxlTG9hZFByb3h5ID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCwgdGhpcyksIHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eSA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UsIHRoaXMpLCAhdGhpcy5fY3JlYXRlWEhSKGEpOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RSZXF1ZXN0KTsKICBhLkFDVElWRVhfVkVSU0lPTlMgPSBbIk1zeG1sMi5YTUxIVFRQLjYuMCIsICJNc3htbDIuWE1MSFRUUC41LjAiLCAiTXN4bWwyLlhNTEhUVFAuNC4wIiwgIk1TWE1MMi5YTUxIVFRQLjMuMCIsICJNU1hNTDIuWE1MSFRUUCIsICJNaWNyb3NvZnQuWE1MSFRUUCJdLCBiLmdldFJlc3VsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYSAmJiB0aGlzLl9yYXdSZXNwb25zZSA/IHRoaXMuX3Jhd1Jlc3BvbnNlIDogdGhpcy5fcmVzcG9uc2U7CiAgfSwgYi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmNhbmNlbGVkID0gITAsIHRoaXMuX2NsZWFuKCksIHRoaXMuX3JlcXVlc3QuYWJvcnQoKTsKICB9LCBiLmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAobnVsbCA9PSB0aGlzLl9yZXF1ZXN0KSByZXR1cm4gdm9pZCB0aGlzLl9oYW5kbGVFcnJvcigpOwogICAgbnVsbCAhPSB0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIgPyAodGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCJsb2Fkc3RhcnQiLCB0aGlzLl9oYW5kbGVMb2FkU3RhcnRQcm94eSwgITEpLCB0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgdGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSwgITEpLCB0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IiwgdGhpcy5faGFuZGxlQWJvcnRQcm94eSwgITEpLCB0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgdGhpcy5faGFuZGxlRXJyb3JQcm94eSwgITEpLCB0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLCB0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHksICExKSwgdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgdGhpcy5faGFuZGxlTG9hZFByb3h5LCAhMSksIHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsIHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eSwgITEpKSA6ICh0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0ID0gdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHksIHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcyA9IHRoaXMuX2hhbmRsZVByb2dyZXNzUHJveHksIHRoaXMuX3JlcXVlc3Qub25hYm9ydCA9IHRoaXMuX2hhbmRsZUFib3J0UHJveHksIHRoaXMuX3JlcXVlc3Qub25lcnJvciA9IHRoaXMuX2hhbmRsZUVycm9yUHJveHksIHRoaXMuX3JlcXVlc3Qub250aW1lb3V0ID0gdGhpcy5faGFuZGxlVGltZW91dFByb3h5LCB0aGlzLl9yZXF1ZXN0Lm9ubG9hZCA9IHRoaXMuX2hhbmRsZUxvYWRQcm94eSwgdGhpcy5fcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHkpLCAxID09IHRoaXMuX3hockxldmVsICYmICh0aGlzLl9sb2FkVGltZW91dCA9IHNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCwgdGhpcyksIHRoaXMuX2l0ZW0ubG9hZFRpbWVvdXQpKTsKCiAgICB0cnkgewogICAgICB0aGlzLl9pdGVtLnZhbHVlcyA/IHRoaXMuX3JlcXVlc3Quc2VuZChjcmVhdGVqcy5VUkxVdGlscy5mb3JtYXRRdWVyeVN0cmluZyh0aGlzLl9pdGVtLnZhbHVlcykpIDogdGhpcy5fcmVxdWVzdC5zZW5kKCk7CiAgICB9IGNhdGNoIChhKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudCgiWEhSX1NFTkQiLCBudWxsLCBhKSk7CiAgICB9CiAgfSwgYi5zZXRSZXNwb25zZVR5cGUgPSBmdW5jdGlvbiAoYSkgewogICAgImJsb2IiID09PSBhICYmIChhID0gd2luZG93LlVSTCA/ICJibG9iIiA6ICJhcnJheWJ1ZmZlciIsIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IGEpLCB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGE7CiAgfSwgYi5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHRoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgOiBudWxsOwogIH0sIGIuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHRoaXMuX3JlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoYSkgOiBudWxsOwogIH0sIGIuX2hhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChhICYmICEoYS5sb2FkZWQgPiAwICYmIDAgPT0gYS50b3RhbCkpIHsKICAgICAgdmFyIGIgPSBuZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudChhLmxvYWRlZCwgYS50b3RhbCk7CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiKTsKICAgIH0KICB9LCBiLl9oYW5kbGVMb2FkU3RhcnQgPSBmdW5jdGlvbiAoYSkgewogICAgY2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KSwgdGhpcy5kaXNwYXRjaEV2ZW50KCJsb2Fkc3RhcnQiKTsKICB9LCBiLl9oYW5kbGVBYm9ydCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9jbGVhbigpLCB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoIlhIUl9BQk9SVEVEIiwgbnVsbCwgYSkpOwogIH0sIGIuX2hhbmRsZUVycm9yID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX2NsZWFuKCksIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChhLm1lc3NhZ2UpKTsKICB9LCBiLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKGEpIHsKICAgIDQgPT0gdGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlICYmIHRoaXMuX2hhbmRsZUxvYWQoKTsKICB9LCBiLl9oYW5kbGVMb2FkID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmICghdGhpcy5sb2FkZWQpIHsKICAgICAgdGhpcy5sb2FkZWQgPSAhMDsKCiAgICAgIHZhciBiID0gdGhpcy5fY2hlY2tFcnJvcigpOwoKICAgICAgaWYgKGIpIHJldHVybiB2b2lkIHRoaXMuX2hhbmRsZUVycm9yKGIpOwogICAgICBpZiAodGhpcy5fcmVzcG9uc2UgPSB0aGlzLl9nZXRSZXNwb25zZSgpLCAiYXJyYXlidWZmZXIiID09PSB0aGlzLl9yZXNwb25zZVR5cGUpIHRyeSB7CiAgICAgICAgdGhpcy5fcmVzcG9uc2UgPSBuZXcgQmxvYihbdGhpcy5fcmVzcG9uc2VdKTsKICAgICAgfSBjYXRjaCAoYykgewogICAgICAgIGlmICh3aW5kb3cuQmxvYkJ1aWxkZXIgPSB3aW5kb3cuQmxvYkJ1aWxkZXIgfHwgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8IHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fCB3aW5kb3cuTVNCbG9iQnVpbGRlciwgIlR5cGVFcnJvciIgPT09IGMubmFtZSAmJiB3aW5kb3cuQmxvYkJ1aWxkZXIpIHsKICAgICAgICAgIHZhciBkID0gbmV3IEJsb2JCdWlsZGVyKCk7CiAgICAgICAgICBkLmFwcGVuZCh0aGlzLl9yZXNwb25zZSksIHRoaXMuX3Jlc3BvbnNlID0gZC5nZXRCbG9iKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuX2NsZWFuKCksIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXZlbnQoImNvbXBsZXRlIikpOwogICAgfQogIH0sIGIuX2hhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5fY2xlYW4oKSwgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KCJQUkVMT0FEX1RJTUVPVVQiLCBudWxsLCBhKSk7CiAgfSwgYi5fY2hlY2tFcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gcGFyc2VJbnQodGhpcy5fcmVxdWVzdC5zdGF0dXMpOwogICAgcmV0dXJuIGEgPj0gNDAwICYmIDU5OSA+PSBhID8gbmV3IEVycm9yKGEpIDogMCA9PSBhICYmIC9eaHR0cHM/Oi8udGVzdChsb2NhdGlvbi5wcm90b2NvbCkgPyBuZXcgRXJyb3IoMCkgOiBudWxsOwogIH0sIGIuX2dldFJlc3BvbnNlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKG51bGwgIT0gdGhpcy5fcmVzcG9uc2UpIHJldHVybiB0aGlzLl9yZXNwb25zZTsKICAgIGlmIChudWxsICE9IHRoaXMuX3JlcXVlc3QucmVzcG9uc2UpIHJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlOwoKICAgIHRyeSB7CiAgICAgIGlmIChudWxsICE9IHRoaXMuX3JlcXVlc3QucmVzcG9uc2VUZXh0KSByZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVRleHQ7CiAgICB9IGNhdGNoIChhKSB7fQoKICAgIHRyeSB7CiAgICAgIGlmIChudWxsICE9IHRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUwpIHJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MOwogICAgfSBjYXRjaCAoYSkge30KCiAgICByZXR1cm4gbnVsbDsKICB9LCBiLl9jcmVhdGVYSFIgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBjcmVhdGVqcy5VUkxVdGlscy5pc0Nyb3NzRG9tYWluKGEpLAogICAgICAgIGMgPSB7fSwKICAgICAgICBkID0gbnVsbDsKICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIGQgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSwgYiAmJiB2b2lkIDAgPT09IGQud2l0aENyZWRlbnRpYWxzICYmIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAoZCA9IG5ldyBYRG9tYWluUmVxdWVzdCgpKTtlbHNlIHsKICAgICAgZm9yICh2YXIgZSA9IDAsIGYgPSBzLkFDVElWRVhfVkVSU0lPTlMubGVuZ3RoOyBmID4gZTsgZSsrKSB7CiAgICAgICAgdmFyIGcgPSBzLkFDVElWRVhfVkVSU0lPTlNbZV07CgogICAgICAgIHRyeSB7CiAgICAgICAgICBkID0gbmV3IEFjdGl2ZVhPYmplY3QoZyk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9IGNhdGNoIChoKSB7fQogICAgICB9CgogICAgICBpZiAobnVsbCA9PSBkKSByZXR1cm4gITE7CiAgICB9CiAgICBudWxsID09IGEubWltZVR5cGUgJiYgY3JlYXRlanMuUmVxdWVzdFV0aWxzLmlzVGV4dChhLnR5cGUpICYmIChhLm1pbWVUeXBlID0gInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgiKSwgYS5taW1lVHlwZSAmJiBkLm92ZXJyaWRlTWltZVR5cGUgJiYgZC5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLCB0aGlzLl94aHJMZXZlbCA9ICJzdHJpbmciID09IHR5cGVvZiBkLnJlc3BvbnNlVHlwZSA/IDIgOiAxOwogICAgdmFyIGkgPSBudWxsOwogICAgaWYgKGkgPSBhLm1ldGhvZCA9PSBjcmVhdGVqcy5NZXRob2RzLkdFVCA/IGNyZWF0ZWpzLlVSTFV0aWxzLmJ1aWxkVVJJKGEuc3JjLCBhLnZhbHVlcykgOiBhLnNyYywgZC5vcGVuKGEubWV0aG9kIHx8IGNyZWF0ZWpzLk1ldGhvZHMuR0VULCBpLCAhMCksIGIgJiYgZCBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0ICYmIDEgPT0gdGhpcy5feGhyTGV2ZWwgJiYgKGMuT3JpZ2luID0gbG9jYXRpb24ub3JpZ2luKSwgYS52YWx1ZXMgJiYgYS5tZXRob2QgPT0gY3JlYXRlanMuTWV0aG9kcy5QT1NUICYmIChjWyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSwgYiB8fCBjWyJYLVJlcXVlc3RlZC1XaXRoIl0gfHwgKGNbIlgtUmVxdWVzdGVkLVdpdGgiXSA9ICJYTUxIdHRwUmVxdWVzdCIpLCBhLmhlYWRlcnMpIGZvciAodmFyIGogaW4gYS5oZWFkZXJzKSB7CiAgICAgIGNbal0gPSBhLmhlYWRlcnNbal07CiAgICB9CgogICAgZm9yIChqIGluIGMpIHsKICAgICAgZC5zZXRSZXF1ZXN0SGVhZGVyKGosIGNbal0pOwogICAgfQoKICAgIHJldHVybiBkIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QgJiYgdm9pZCAwICE9PSBhLndpdGhDcmVkZW50aWFscyAmJiAoZC53aXRoQ3JlZGVudGlhbHMgPSBhLndpdGhDcmVkZW50aWFscyksIHRoaXMuX3JlcXVlc3QgPSBkLCAhMDsKICB9LCBiLl9jbGVhbiA9IGZ1bmN0aW9uICgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksIG51bGwgIT0gdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyID8gKHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZHN0YXJ0IiwgdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHkpLCB0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgdGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSksIHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLCB0aGlzLl9oYW5kbGVBYm9ydFByb3h5KSwgdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsIHRoaXMuX2hhbmRsZUVycm9yUHJveHkpLCB0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLCB0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHkpLCB0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzLl9oYW5kbGVMb2FkUHJveHkpLCB0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLCB0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHkpKSA6ICh0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0ID0gbnVsbCwgdGhpcy5fcmVxdWVzdC5vbnByb2dyZXNzID0gbnVsbCwgdGhpcy5fcmVxdWVzdC5vbmFib3J0ID0gbnVsbCwgdGhpcy5fcmVxdWVzdC5vbmVycm9yID0gbnVsbCwgdGhpcy5fcmVxdWVzdC5vbnRpbWVvdXQgPSBudWxsLCB0aGlzLl9yZXF1ZXN0Lm9ubG9hZCA9IG51bGwsIHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbCk7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1ByZWxvYWRKUyBYSFJSZXF1ZXN0XSI7CiAgfSwgY3JlYXRlanMuWEhSUmVxdWVzdCA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0UmVxdWVzdCIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoKSwgdGhpcy5fcGx1Z2lucyA9IFtdLCB0aGlzLl90eXBlQ2FsbGJhY2tzID0ge30sIHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrcyA9IHt9LCB0aGlzLm5leHQgPSBudWxsLCB0aGlzLm1haW50YWluU2NyaXB0T3JkZXIgPSAhMCwgdGhpcy5zdG9wT25FcnJvciA9ICExLCB0aGlzLl9tYXhDb25uZWN0aW9ucyA9IDEsIHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMgPSBbY3JlYXRlanMuRm9udExvYWRlciwgY3JlYXRlanMuSW1hZ2VMb2FkZXIsIGNyZWF0ZWpzLkphdmFTY3JpcHRMb2FkZXIsIGNyZWF0ZWpzLkNTU0xvYWRlciwgY3JlYXRlanMuSlNPTkxvYWRlciwgY3JlYXRlanMuSlNPTlBMb2FkZXIsIGNyZWF0ZWpzLlNvdW5kTG9hZGVyLCBjcmVhdGVqcy5NYW5pZmVzdExvYWRlciwgY3JlYXRlanMuU3ByaXRlU2hlZXRMb2FkZXIsIGNyZWF0ZWpzLlhNTExvYWRlciwgY3JlYXRlanMuU1ZHTG9hZGVyLCBjcmVhdGVqcy5CaW5hcnlMb2FkZXIsIGNyZWF0ZWpzLlZpZGVvTG9hZGVyLCBjcmVhdGVqcy5UZXh0TG9hZGVyXSwgdGhpcy5fZGVmYXVsdExvYWRlckxlbmd0aCA9IHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMubGVuZ3RoLCB0aGlzLmluaXQoYSwgYiwgYyk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksCiAgICAgIGMgPSBhOwoKICB0cnkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYywgewogICAgICBQT1NUOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLk1ldGhvZHMuUE9TVDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuUE9TVCIpCiAgICAgIH0sCiAgICAgIEdFVDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5NZXRob2RzLkdFVDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuR0VUIikKICAgICAgfSwKICAgICAgQklOQVJZOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkJJTkFSWTsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuQklOQVJZIikKICAgICAgfSwKICAgICAgQ1NTOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkNTUzsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuQ1NTIikKICAgICAgfSwKICAgICAgRk9OVDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5GT05UIikKICAgICAgfSwKICAgICAgRk9OVENTUzogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UQ1NTOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5GT05UQ1NTIikKICAgICAgfSwKICAgICAgSU1BR0U6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuSU1BR0U7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLklNQUdFIikKICAgICAgfSwKICAgICAgSkFWQVNDUklQVDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5KQVZBU0NSSVBUIikKICAgICAgfSwKICAgICAgSlNPTjogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5KU09OIikKICAgICAgfSwKICAgICAgSlNPTlA6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuSlNPTlA7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLkpTT05QIikKICAgICAgfSwKICAgICAgTUFOSUZFU1Q6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuTUFOSUZFU1Q7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLk1BTklGRVNUIikKICAgICAgfSwKICAgICAgU09VTkQ6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuU09VTkQ7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLlNPVU5EIikKICAgICAgfSwKICAgICAgVklERU86IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuVklERU87CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLlZJREVPIikKICAgICAgfSwKICAgICAgU1BSSVRFU0hFRVQ6IHsKICAgICAgICBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVQ7CiAgICAgICAgfSwgIkFic3RyYWN0TG9hZGVyLlNQUklURVNIRUVUIikKICAgICAgfSwKICAgICAgU1ZHOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNWRzsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuU1ZHIikKICAgICAgfSwKICAgICAgVEVYVDogewogICAgICAgIGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVqcy5UeXBlcy5URVhUOwogICAgICAgIH0sICJBYnN0cmFjdExvYWRlci5URVhUIikKICAgICAgfSwKICAgICAgWE1MOiB7CiAgICAgICAgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlhNTDsKICAgICAgICB9LCAiQWJzdHJhY3RMb2FkZXIuWE1MIikKICAgICAgfQogICAgfSk7CiAgfSBjYXRjaCAoZCkge30KCiAgYi5pbml0ID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHRoaXMucHJlZmVyWEhSID0gITAsIHRoaXMuX3ByZWZlclhIUiA9ICEwLCB0aGlzLnNldFByZWZlclhIUihhKSwgdGhpcy5fcGF1c2VkID0gITEsIHRoaXMuX2Jhc2VQYXRoID0gYiwgdGhpcy5fY3Jvc3NPcmlnaW4gPSBjLCB0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkID0gITEsIHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQgPSBudWxsLCB0aGlzLl9jdXJyZW50TG9hZHMgPSBbXSwgdGhpcy5fbG9hZFF1ZXVlID0gW10sIHRoaXMuX2xvYWRRdWV1ZUJhY2t1cCA9IFtdLCB0aGlzLl9sb2FkSXRlbXNCeUlkID0ge30sIHRoaXMuX2xvYWRJdGVtc0J5U3JjID0ge30sIHRoaXMuX2xvYWRlZFJlc3VsdHMgPSB7fSwgdGhpcy5fbG9hZGVkUmF3UmVzdWx0cyA9IHt9LCB0aGlzLl9udW1JdGVtcyA9IDAsIHRoaXMuX251bUl0ZW1zTG9hZGVkID0gMCwgdGhpcy5fc2NyaXB0T3JkZXIgPSBbXSwgdGhpcy5fbG9hZGVkU2NyaXB0cyA9IFtdLCB0aGlzLl9sYXN0UHJvZ3Jlc3MgPSBOYU47CiAgfSwgYi5yZWdpc3RlckxvYWRlciA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoIWEgfHwgIWEuY2FuTG9hZEl0ZW0pIHRocm93IG5ldyBFcnJvcigibG9hZGVyIGlzIG9mIGFuIGluY29ycmVjdCB0eXBlLiIpOwogICAgaWYgKC0xICE9IHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuaW5kZXhPZihhKSkgdGhyb3cgbmV3IEVycm9yKCJsb2FkZXIgYWxyZWFkeSBleGlzdHMuIik7CgogICAgdGhpcy5fYXZhaWxhYmxlTG9hZGVycy51bnNoaWZ0KGEpOwogIH0sIGIudW5yZWdpc3RlckxvYWRlciA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuaW5kZXhPZihhKTsKCiAgICAtMSAhPSBiICYmIGIgPCB0aGlzLl9kZWZhdWx0TG9hZGVyTGVuZ3RoIC0gMSAmJiB0aGlzLl9hdmFpbGFibGVMb2FkZXJzLnNwbGljZShiLCAxKTsKICB9LCBiLnNldFByZWZlclhIUiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5wcmVmZXJYSFIgPSAwICE9IGEgJiYgbnVsbCAhPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QsIHRoaXMucHJlZmVyWEhSOwogIH0sIGIucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmUoKTsKICB9LCBiLnJlbW92ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IG51bGw7CiAgICBpZiAoYSAmJiAhQXJyYXkuaXNBcnJheShhKSkgYiA9IFthXTtlbHNlIGlmIChhKSBiID0gYTtlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkgcmV0dXJuOwogICAgdmFyIGMgPSAhMTsKCiAgICBpZiAoYikgewogICAgICBmb3IgKDsgYi5sZW5ndGg7KSB7CiAgICAgICAgdmFyIGQgPSBiLnBvcCgpLAogICAgICAgICAgICBlID0gdGhpcy5nZXRSZXN1bHQoZCk7CgogICAgICAgIGZvciAoZiA9IHRoaXMuX2xvYWRRdWV1ZS5sZW5ndGggLSAxOyBmID49IDA7IGYtLSkgewogICAgICAgICAgaWYgKGcgPSB0aGlzLl9sb2FkUXVldWVbZl0uZ2V0SXRlbSgpLCBnLmlkID09IGQgfHwgZy5zcmMgPT0gZCkgewogICAgICAgICAgICB0aGlzLl9sb2FkUXVldWUuc3BsaWNlKGYsIDEpWzBdLmNhbmNlbCgpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKGYgPSB0aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoIC0gMTsgZiA+PSAwOyBmLS0pIHsKICAgICAgICAgIGlmIChnID0gdGhpcy5fbG9hZFF1ZXVlQmFja3VwW2ZdLmdldEl0ZW0oKSwgZy5pZCA9PSBkIHx8IGcuc3JjID09IGQpIHsKICAgICAgICAgICAgdGhpcy5fbG9hZFF1ZXVlQmFja3VwLnNwbGljZShmLCAxKVswXS5jYW5jZWwoKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGUpIHRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuZ2V0SXRlbShkKSk7ZWxzZSBmb3IgKHZhciBmID0gdGhpcy5fY3VycmVudExvYWRzLmxlbmd0aCAtIDE7IGYgPj0gMDsgZi0tKSB7CiAgICAgICAgICB2YXIgZyA9IHRoaXMuX2N1cnJlbnRMb2Fkc1tmXS5nZXRJdGVtKCk7CgogICAgICAgICAgaWYgKGcuaWQgPT0gZCB8fCBnLnNyYyA9PSBkKSB7CiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2Fkcy5zcGxpY2UoZiwgMSlbMF0uY2FuY2VsKCksIGMgPSAhMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBjICYmIHRoaXMuX2xvYWROZXh0KCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNsb3NlKCk7CgogICAgICBmb3IgKHZhciBoIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpIHsKICAgICAgICB0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLl9sb2FkSXRlbXNCeUlkW2hdKTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0KHRoaXMucHJlZmVyWEhSLCB0aGlzLl9iYXNlUGF0aCk7CiAgICB9CiAgfSwgYi5yZXNldCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2xvc2UoKTsKCiAgICBmb3IgKHZhciBhIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpIHsKICAgICAgdGhpcy5fZGlzcG9zZUl0ZW0odGhpcy5fbG9hZEl0ZW1zQnlJZFthXSk7CiAgICB9CgogICAgZm9yICh2YXIgYiA9IFtdLCBjID0gMCwgZCA9IHRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgYi5wdXNoKHRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtjXS5nZXRJdGVtKCkpOwogICAgfQoKICAgIHRoaXMubG9hZE1hbmlmZXN0KGIsICExKTsKICB9LCBiLmluc3RhbGxQbHVnaW4gPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKG51bGwgIT0gYSAmJiBudWxsICE9IGEuZ2V0UHJlbG9hZEhhbmRsZXJzKSB7CiAgICAgIHRoaXMuX3BsdWdpbnMucHVzaChhKTsKCiAgICAgIHZhciBiID0gYS5nZXRQcmVsb2FkSGFuZGxlcnMoKTsKICAgICAgaWYgKGIuc2NvcGUgPSBhLCBudWxsICE9IGIudHlwZXMpIGZvciAodmFyIGMgPSAwLCBkID0gYi50eXBlcy5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgICB0aGlzLl90eXBlQ2FsbGJhY2tzW2IudHlwZXNbY11dID0gYjsKICAgICAgfQogICAgICBpZiAobnVsbCAhPSBiLmV4dGVuc2lvbnMpIGZvciAoYyA9IDAsIGQgPSBiLmV4dGVuc2lvbnMubGVuZ3RoOyBkID4gYzsgYysrKSB7CiAgICAgICAgdGhpcy5fZXh0ZW5zaW9uQ2FsbGJhY2tzW2IuZXh0ZW5zaW9uc1tjXV0gPSBiOwogICAgICB9CiAgICB9CiAgfSwgYi5zZXRNYXhDb25uZWN0aW9ucyA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9tYXhDb25uZWN0aW9ucyA9IGEsICF0aGlzLl9wYXVzZWQgJiYgdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5fbG9hZE5leHQoKTsKICB9LCBiLmxvYWRGaWxlID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIGlmIChudWxsID09IGEpIHsKICAgICAgdmFyIGQgPSBuZXcgY3JlYXRlanMuRXJyb3JFdmVudCgiUFJFTE9BRF9OT19GSUxFIik7CiAgICAgIHJldHVybiB2b2lkIHRoaXMuX3NlbmRFcnJvcihkKTsKICAgIH0KCiAgICB0aGlzLl9hZGRJdGVtKGEsIG51bGwsIGMpLCBiICE9PSAhMSA/IHRoaXMuc2V0UGF1c2VkKCExKSA6IHRoaXMuc2V0UGF1c2VkKCEwKTsKICB9LCBiLmxvYWRNYW5pZmVzdCA9IGZ1bmN0aW9uIChhLCBiLCBkKSB7CiAgICB2YXIgZSA9IG51bGwsCiAgICAgICAgZiA9IG51bGw7CgogICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHsKICAgICAgaWYgKDAgPT0gYS5sZW5ndGgpIHsKICAgICAgICB2YXIgZyA9IG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KCJQUkVMT0FEX01BTklGRVNUX0VNUFRZIik7CiAgICAgICAgcmV0dXJuIHZvaWQgdGhpcy5fc2VuZEVycm9yKGcpOwogICAgICB9CgogICAgICBlID0gYTsKICAgIH0gZWxzZSBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGEpIGUgPSBbewogICAgICBzcmM6IGEsCiAgICAgIHR5cGU6IGMuTUFOSUZFU1QKICAgIH1dO2Vsc2UgewogICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihhKSkgewogICAgICAgIHZhciBnID0gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoIlBSRUxPQURfTUFOSUZFU1RfTlVMTCIpOwogICAgICAgIHJldHVybiB2b2lkIHRoaXMuX3NlbmRFcnJvcihnKTsKICAgICAgfQoKICAgICAgaWYgKHZvaWQgMCAhPT0gYS5zcmMpIHsKICAgICAgICBpZiAobnVsbCA9PSBhLnR5cGUpIGEudHlwZSA9IGMuTUFOSUZFU1Q7ZWxzZSBpZiAoYS50eXBlICE9IGMuTUFOSUZFU1QpIHsKICAgICAgICAgIHZhciBnID0gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoIlBSRUxPQURfTUFOSUZFU1RfVFlQRSIpOwoKICAgICAgICAgIHRoaXMuX3NlbmRFcnJvcihnKTsKICAgICAgICB9CiAgICAgICAgZSA9IFthXTsKICAgICAgfSBlbHNlIHZvaWQgMCAhPT0gYS5tYW5pZmVzdCAmJiAoZSA9IGEubWFuaWZlc3QsIGYgPSBhLnBhdGgpOwogICAgfQoKICAgIGZvciAodmFyIGggPSAwLCBpID0gZS5sZW5ndGg7IGkgPiBoOyBoKyspIHsKICAgICAgdGhpcy5fYWRkSXRlbShlW2hdLCBmLCBkKTsKICAgIH0KCiAgICBiICE9PSAhMSA/IHRoaXMuc2V0UGF1c2VkKCExKSA6IHRoaXMuc2V0UGF1c2VkKCEwKTsKICB9LCBiLmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNldFBhdXNlZCghMSk7CiAgfSwgYi5nZXRJdGVtID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLl9sb2FkSXRlbXNCeUlkW2FdIHx8IHRoaXMuX2xvYWRJdGVtc0J5U3JjW2FdOwogIH0sIGIuZ2V0UmVzdWx0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gdGhpcy5fbG9hZEl0ZW1zQnlJZFthXSB8fCB0aGlzLl9sb2FkSXRlbXNCeVNyY1thXTsKICAgIGlmIChudWxsID09IGMpIHJldHVybiBudWxsOwogICAgdmFyIGQgPSBjLmlkOwogICAgcmV0dXJuIGIgJiYgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tkXSA/IHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZF0gOiB0aGlzLl9sb2FkZWRSZXN1bHRzW2RdOwogIH0sIGIuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBbXTsKCiAgICBmb3IgKHZhciBjIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpIHsKICAgICAgdmFyIGQgPSB0aGlzLl9sb2FkSXRlbXNCeUlkW2NdLAogICAgICAgICAgZSA9IHRoaXMuZ2V0UmVzdWx0KGMpOwogICAgICAoYSAhPT0gITAgfHwgbnVsbCAhPSBlKSAmJiBiLnB1c2goewogICAgICAgIGl0ZW06IGQsCiAgICAgICAgcmVzdWx0OiBlLAogICAgICAgIHJhd1Jlc3VsdDogdGhpcy5nZXRSZXN1bHQoYywgITApCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBiOwogIH0sIGIuc2V0UGF1c2VkID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX3BhdXNlZCA9IGEsIHRoaXMuX3BhdXNlZCB8fCB0aGlzLl9sb2FkTmV4dCgpOwogIH0sIGIuY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKDsgdGhpcy5fY3VycmVudExvYWRzLmxlbmd0aDspIHsKICAgICAgdGhpcy5fY3VycmVudExvYWRzLnBvcCgpLmNhbmNlbCgpOwogICAgfQoKICAgIHRoaXMuX3NjcmlwdE9yZGVyLmxlbmd0aCA9IDAsIHRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoID0gMCwgdGhpcy5sb2FkU3RhcnRXYXNEaXNwYXRjaGVkID0gITEsIHRoaXMuX2l0ZW1Db3VudCA9IDAsIHRoaXMuX2xhc3RQcm9ncmVzcyA9IE5hTjsKICB9LCBiLl9hZGRJdGVtID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHZhciBkID0gdGhpcy5fY3JlYXRlTG9hZEl0ZW0oYSwgYiwgYyk7CgogICAgaWYgKG51bGwgIT0gZCkgewogICAgICB2YXIgZSA9IHRoaXMuX2NyZWF0ZUxvYWRlcihkKTsKCiAgICAgIG51bGwgIT0gZSAmJiAoInBsdWdpbnMiIGluIGUgJiYgKGUucGx1Z2lucyA9IHRoaXMuX3BsdWdpbnMpLCBkLl9sb2FkZXIgPSBlLCB0aGlzLl9sb2FkUXVldWUucHVzaChlKSwgdGhpcy5fbG9hZFF1ZXVlQmFja3VwLnB1c2goZSksIHRoaXMuX251bUl0ZW1zKyssIHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksICh0aGlzLm1haW50YWluU2NyaXB0T3JkZXIgJiYgZC50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQgfHwgZC5tYWludGFpbk9yZGVyID09PSAhMCkgJiYgKHRoaXMuX3NjcmlwdE9yZGVyLnB1c2goZCksIHRoaXMuX2xvYWRlZFNjcmlwdHMucHVzaChudWxsKSkpOwogICAgfQogIH0sIGIuX2NyZWF0ZUxvYWRJdGVtID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHZhciBkID0gY3JlYXRlanMuTG9hZEl0ZW0uY3JlYXRlKGEpOwogICAgaWYgKG51bGwgPT0gZCkgcmV0dXJuIG51bGw7CiAgICB2YXIgZSA9ICIiLAogICAgICAgIGYgPSBjIHx8IHRoaXMuX2Jhc2VQYXRoOwoKICAgIGlmIChkLnNyYyBpbnN0YW5jZW9mIE9iamVjdCkgewogICAgICBpZiAoIWQudHlwZSkgcmV0dXJuIG51bGw7CgogICAgICBpZiAoYikgewogICAgICAgIGUgPSBiOwogICAgICAgIHZhciBnID0gY3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkoYik7CiAgICAgICAgbnVsbCA9PSBmIHx8IGcuYWJzb2x1dGUgfHwgZy5yZWxhdGl2ZSB8fCAoZSA9IGYgKyBlKTsKICAgICAgfSBlbHNlIG51bGwgIT0gZiAmJiAoZSA9IGYpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGggPSBjcmVhdGVqcy5VUkxVdGlscy5wYXJzZVVSSShkLnNyYyk7CiAgICAgIGguZXh0ZW5zaW9uICYmIChkLmV4dCA9IGguZXh0ZW5zaW9uKSwgbnVsbCA9PSBkLnR5cGUgJiYgKGQudHlwZSA9IGNyZWF0ZWpzLlJlcXVlc3RVdGlscy5nZXRUeXBlQnlFeHRlbnNpb24oZC5leHQpKTsKICAgICAgdmFyIGkgPSBkLnNyYzsKICAgICAgaWYgKCFoLmFic29sdXRlICYmICFoLnJlbGF0aXZlKSBpZiAoYikgewogICAgICAgIGUgPSBiOwogICAgICAgIHZhciBnID0gY3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkoYik7CiAgICAgICAgaSA9IGIgKyBpLCBudWxsID09IGYgfHwgZy5hYnNvbHV0ZSB8fCBnLnJlbGF0aXZlIHx8IChlID0gZiArIGUpOwogICAgICB9IGVsc2UgbnVsbCAhPSBmICYmIChlID0gZik7CiAgICAgIGQuc3JjID0gZSArIGQuc3JjOwogICAgfQoKICAgIGQucGF0aCA9IGUsICh2b2lkIDAgPT09IGQuaWQgfHwgbnVsbCA9PT0gZC5pZCB8fCAiIiA9PT0gZC5pZCkgJiYgKGQuaWQgPSBpKTsKICAgIHZhciBqID0gdGhpcy5fdHlwZUNhbGxiYWNrc1tkLnR5cGVdIHx8IHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tkLmV4dF07CgogICAgaWYgKGopIHsKICAgICAgdmFyIGsgPSBqLmNhbGxiYWNrLmNhbGwoai5zY29wZSwgZCwgdGhpcyk7CiAgICAgIGlmIChrID09PSAhMSkgcmV0dXJuIG51bGw7CiAgICAgIGsgPT09ICEwIHx8IG51bGwgIT0gayAmJiAoZC5fbG9hZGVyID0gayksIGggPSBjcmVhdGVqcy5VUkxVdGlscy5wYXJzZVVSSShkLnNyYyksIG51bGwgIT0gaC5leHRlbnNpb24gJiYgKGQuZXh0ID0gaC5leHRlbnNpb24pOwogICAgfQoKICAgIHJldHVybiB0aGlzLl9sb2FkSXRlbXNCeUlkW2QuaWRdID0gZCwgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbZC5zcmNdID0gZCwgbnVsbCA9PSBkLmNyb3NzT3JpZ2luICYmIChkLmNyb3NzT3JpZ2luID0gdGhpcy5fY3Jvc3NPcmlnaW4pLCBkOwogIH0sIGIuX2NyZWF0ZUxvYWRlciA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAobnVsbCAhPSBhLl9sb2FkZXIpIHJldHVybiBhLl9sb2FkZXI7CgogICAgZm9yICh2YXIgYiA9IHRoaXMucHJlZmVyWEhSLCBjID0gMDsgYyA8IHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMubGVuZ3RoOyBjKyspIHsKICAgICAgdmFyIGQgPSB0aGlzLl9hdmFpbGFibGVMb2FkZXJzW2NdOwogICAgICBpZiAoZCAmJiBkLmNhbkxvYWRJdGVtKGEpKSByZXR1cm4gbmV3IGQoYSwgYik7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwgYi5fbG9hZE5leHQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuX3BhdXNlZCkgewogICAgICB0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkIHx8ICh0aGlzLl9zZW5kTG9hZFN0YXJ0KCksIHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQgPSAhMCksIHRoaXMuX251bUl0ZW1zID09IHRoaXMuX251bUl0ZW1zTG9hZGVkID8gKHRoaXMubG9hZGVkID0gITAsIHRoaXMuX3NlbmRDb21wbGV0ZSgpLCB0aGlzLm5leHQgJiYgdGhpcy5uZXh0LmxvYWQgJiYgdGhpcy5uZXh0LmxvYWQoKSkgOiB0aGlzLmxvYWRlZCA9ICExOwoKICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLl9sb2FkUXVldWUubGVuZ3RoICYmICEodGhpcy5fY3VycmVudExvYWRzLmxlbmd0aCA+PSB0aGlzLl9tYXhDb25uZWN0aW9ucyk7IGErKykgewogICAgICAgIHZhciBiID0gdGhpcy5fbG9hZFF1ZXVlW2FdOwogICAgICAgIHRoaXMuX2NhblN0YXJ0TG9hZChiKSAmJiAodGhpcy5fbG9hZFF1ZXVlLnNwbGljZShhLCAxKSwgYS0tLCB0aGlzLl9sb2FkSXRlbShiKSk7CiAgICAgIH0KICAgIH0KICB9LCBiLl9sb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLm9uKCJmaWxlbG9hZCIsIHRoaXMuX2hhbmRsZUZpbGVMb2FkLCB0aGlzKSwgYS5vbigicHJvZ3Jlc3MiLCB0aGlzLl9oYW5kbGVQcm9ncmVzcywgdGhpcyksIGEub24oImNvbXBsZXRlIiwgdGhpcy5faGFuZGxlRmlsZUNvbXBsZXRlLCB0aGlzKSwgYS5vbigiZXJyb3IiLCB0aGlzLl9oYW5kbGVFcnJvciwgdGhpcyksIGEub24oImZpbGVlcnJvciIsIHRoaXMuX2hhbmRsZUZpbGVFcnJvciwgdGhpcyksIHRoaXMuX2N1cnJlbnRMb2Fkcy5wdXNoKGEpLCB0aGlzLl9zZW5kRmlsZVN0YXJ0KGEuZ2V0SXRlbSgpKSwgYS5sb2FkKCk7CiAgfSwgYi5faGFuZGxlRmlsZUxvYWQgPSBmdW5jdGlvbiAoYSkgewogICAgYS50YXJnZXQgPSBudWxsLCB0aGlzLmRpc3BhdGNoRXZlbnQoYSk7CiAgfSwgYi5faGFuZGxlRmlsZUVycm9yID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoIkZJTEVfTE9BRF9FUlJPUiIsIG51bGwsIGEuaXRlbSk7CgogICAgdGhpcy5fc2VuZEVycm9yKGIpOwogIH0sIGIuX2hhbmRsZUVycm9yID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYS50YXJnZXQ7CiAgICB0aGlzLl9udW1JdGVtc0xvYWRlZCsrLCB0aGlzLl9maW5pc2hPcmRlcmVkSXRlbShiLCAhMCksIHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7CiAgICB2YXIgYyA9IG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KCJGSUxFX0xPQURfRVJST1IiLCBudWxsLCBiLmdldEl0ZW0oKSk7CiAgICB0aGlzLl9zZW5kRXJyb3IoYyksIHRoaXMuc3RvcE9uRXJyb3IgPyB0aGlzLnNldFBhdXNlZCghMCkgOiAodGhpcy5fcmVtb3ZlTG9hZEl0ZW0oYiksIHRoaXMuX2NsZWFuTG9hZEl0ZW0oYiksIHRoaXMuX2xvYWROZXh0KCkpOwogIH0sIGIuX2hhbmRsZUZpbGVDb21wbGV0ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGEudGFyZ2V0LAogICAgICAgIGMgPSBiLmdldEl0ZW0oKSwKICAgICAgICBkID0gYi5nZXRSZXN1bHQoKTsKICAgIHRoaXMuX2xvYWRlZFJlc3VsdHNbYy5pZF0gPSBkOwogICAgdmFyIGUgPSBiLmdldFJlc3VsdCghMCk7CiAgICBudWxsICE9IGUgJiYgZSAhPT0gZCAmJiAodGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tjLmlkXSA9IGUpLCB0aGlzLl9zYXZlTG9hZGVkSXRlbXMoYiksIHRoaXMuX3JlbW92ZUxvYWRJdGVtKGIpLCB0aGlzLl9maW5pc2hPcmRlcmVkSXRlbShiKSB8fCB0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsIGIpLCB0aGlzLl9jbGVhbkxvYWRJdGVtKGIpOwogIH0sIGIuX3NhdmVMb2FkZWRJdGVtcyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGEuZ2V0TG9hZGVkSXRlbXMoKTsKICAgIGlmIChudWxsICE9PSBiKSBmb3IgKHZhciBjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIHsKICAgICAgdmFyIGQgPSBiW2NdLml0ZW07CiAgICAgIHRoaXMuX2xvYWRJdGVtc0J5U3JjW2Quc3JjXSA9IGQsIHRoaXMuX2xvYWRJdGVtc0J5SWRbZC5pZF0gPSBkLCB0aGlzLl9sb2FkZWRSZXN1bHRzW2QuaWRdID0gYltjXS5yZXN1bHQsIHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZC5pZF0gPSBiW2NdLnJhd1Jlc3VsdDsKICAgIH0KICB9LCBiLl9maW5pc2hPcmRlcmVkSXRlbSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgYyA9IGEuZ2V0SXRlbSgpOwoKICAgIGlmICh0aGlzLm1haW50YWluU2NyaXB0T3JkZXIgJiYgYy50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQgfHwgYy5tYWludGFpbk9yZGVyKSB7CiAgICAgIGEgaW5zdGFuY2VvZiBjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyICYmICh0aGlzLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0ID0gITEpOwogICAgICB2YXIgZCA9IGNyZWF0ZWpzLmluZGV4T2YodGhpcy5fc2NyaXB0T3JkZXIsIGMpOwogICAgICByZXR1cm4gLTEgPT0gZCA/ICExIDogKHRoaXMuX2xvYWRlZFNjcmlwdHNbZF0gPSBiID09PSAhMCA/ICEwIDogYywgdGhpcy5fY2hlY2tTY3JpcHRMb2FkT3JkZXIoKSwgITApOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LCBiLl9jaGVja1NjcmlwdExvYWRPcmRlciA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGEgPSB0aGlzLl9sb2FkZWRTY3JpcHRzLmxlbmd0aCwgYiA9IDA7IGEgPiBiOyBiKyspIHsKICAgICAgdmFyIGMgPSB0aGlzLl9sb2FkZWRTY3JpcHRzW2JdOwogICAgICBpZiAobnVsbCA9PT0gYykgYnJlYWs7CgogICAgICBpZiAoYyAhPT0gITApIHsKICAgICAgICB2YXIgZCA9IHRoaXMuX2xvYWRlZFJlc3VsdHNbYy5pZF07CiAgICAgICAgYy50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQgJiYgY3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9IZWFkKGQpOwogICAgICAgIHZhciBlID0gYy5fbG9hZGVyOwogICAgICAgIHRoaXMuX3Byb2Nlc3NGaW5pc2hlZExvYWQoYywgZSksIHRoaXMuX2xvYWRlZFNjcmlwdHNbYl0gPSAhMDsKICAgICAgfQogICAgfQogIH0sIGIuX3Byb2Nlc3NGaW5pc2hlZExvYWQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKHRoaXMuX251bUl0ZW1zTG9hZGVkKyssICF0aGlzLm1haW50YWluU2NyaXB0T3JkZXIgJiYgYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQpIHsKICAgICAgdmFyIGMgPSBiLmdldFRhZygpOwogICAgICBjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0hlYWQoYyk7CiAgICB9CgogICAgdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoKSwgdGhpcy5fc2VuZEZpbGVDb21wbGV0ZShhLCBiKSwgdGhpcy5fbG9hZE5leHQoKTsKICB9LCBiLl9jYW5TdGFydExvYWQgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKCF0aGlzLm1haW50YWluU2NyaXB0T3JkZXIgfHwgYS5wcmVmZXJYSFIpIHJldHVybiAhMDsKICAgIHZhciBiID0gYS5nZXRJdGVtKCk7CiAgICBpZiAoYi50eXBlICE9IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQpIHJldHVybiAhMDsKICAgIGlmICh0aGlzLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0KSByZXR1cm4gITE7CgogICAgZm9yICh2YXIgYyA9IHRoaXMuX3NjcmlwdE9yZGVyLmluZGV4T2YoYiksIGQgPSAwOyBjID4gZDspIHsKICAgICAgdmFyIGUgPSB0aGlzLl9sb2FkZWRTY3JpcHRzW2RdOwogICAgICBpZiAobnVsbCA9PSBlKSByZXR1cm4gITE7CiAgICAgIGQrKzsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdCA9ICEwLCAhMDsKICB9LCBiLl9yZW1vdmVMb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gdGhpcy5fY3VycmVudExvYWRzLmxlbmd0aCwgYyA9IDA7IGIgPiBjOyBjKyspIHsKICAgICAgaWYgKHRoaXMuX2N1cnJlbnRMb2Fkc1tjXSA9PSBhKSB7CiAgICAgICAgdGhpcy5fY3VycmVudExvYWRzLnNwbGljZShjLCAxKTsKCiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9LCBiLl9jbGVhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYS5nZXRJdGVtKCk7CiAgICBiICYmIGRlbGV0ZSBiLl9sb2FkZXI7CiAgfSwgYi5faGFuZGxlUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBhLnRhcmdldDsKICAgIHRoaXMuX3NlbmRGaWxlUHJvZ3Jlc3MoYi5nZXRJdGVtKCksIGIucHJvZ3Jlc3MpLCB0aGlzLl91cGRhdGVQcm9ncmVzcygpOwogIH0sIGIuX3VwZGF0ZVByb2dyZXNzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLl9udW1JdGVtc0xvYWRlZCAvIHRoaXMuX251bUl0ZW1zLAogICAgICAgIGIgPSB0aGlzLl9udW1JdGVtcyAtIHRoaXMuX251bUl0ZW1zTG9hZGVkOwoKICAgIGlmIChiID4gMCkgewogICAgICBmb3IgKHZhciBjID0gMCwgZCA9IDAsIGUgPSB0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoOyBlID4gZDsgZCsrKSB7CiAgICAgICAgYyArPSB0aGlzLl9jdXJyZW50TG9hZHNbZF0ucHJvZ3Jlc3M7CiAgICAgIH0KCiAgICAgIGEgKz0gYyAvIGIgKiAoYiAvIHRoaXMuX251bUl0ZW1zKTsKICAgIH0KCiAgICB0aGlzLl9sYXN0UHJvZ3Jlc3MgIT0gYSAmJiAodGhpcy5fc2VuZFByb2dyZXNzKGEpLCB0aGlzLl9sYXN0UHJvZ3Jlc3MgPSBhKTsKICB9LCBiLl9kaXNwb3NlSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICBkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSwgZGVsZXRlIHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbYS5pZF0sIGRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeUlkW2EuaWRdLCBkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbYS5zcmNdOwogIH0sIGIuX3NlbmRGaWxlUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoYSwgYikgewogICAgaWYgKCF0aGlzLl9pc0NhbmNlbGVkKCkgJiYgIXRoaXMuX3BhdXNlZCAmJiB0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVwcm9ncmVzcyIpKSB7CiAgICAgIHZhciBjID0gbmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlcHJvZ3Jlc3MiKTsKICAgICAgYy5wcm9ncmVzcyA9IGIsIGMubG9hZGVkID0gYiwgYy50b3RhbCA9IDEsIGMuaXRlbSA9IGEsIHRoaXMuZGlzcGF0Y2hFdmVudChjKTsKICAgIH0KICB9LCBiLl9zZW5kRmlsZUNvbXBsZXRlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGlmICghdGhpcy5faXNDYW5jZWxlZCgpICYmICF0aGlzLl9wYXVzZWQpIHsKICAgICAgdmFyIGMgPSBuZXcgY3JlYXRlanMuRXZlbnQoImZpbGVsb2FkIik7CiAgICAgIGMubG9hZGVyID0gYiwgYy5pdGVtID0gYSwgYy5yZXN1bHQgPSB0aGlzLl9sb2FkZWRSZXN1bHRzW2EuaWRdLCBjLnJhd1Jlc3VsdCA9IHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbYS5pZF0sIGEuY29tcGxldGVIYW5kbGVyICYmIGEuY29tcGxldGVIYW5kbGVyKGMpLCB0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVsb2FkIikgJiYgdGhpcy5kaXNwYXRjaEV2ZW50KGMpOwogICAgfQogIH0sIGIuX3NlbmRGaWxlU3RhcnQgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBuZXcgY3JlYXRlanMuRXZlbnQoImZpbGVzdGFydCIpOwogICAgYi5pdGVtID0gYSwgdGhpcy5oYXNFdmVudExpc3RlbmVyKCJmaWxlc3RhcnQiKSAmJiB0aGlzLmRpc3BhdGNoRXZlbnQoYik7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1ByZWxvYWRKUyBMb2FkUXVldWVdIjsKICB9LCBjcmVhdGVqcy5Mb2FkUXVldWUgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdExvYWRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwgITAsIGNyZWF0ZWpzLlR5cGVzLlRFWFQpOwogIH0KCiAgdmFyIGIgPSAoY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSwgYSk7CiAgYi5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLlRFWFQ7CiAgfSwgY3JlYXRlanMuVGV4dExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0TG9hZGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSkgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCAhMCwgY3JlYXRlanMuVHlwZXMuQklOQVJZKSwgdGhpcy5vbigiaW5pdGlhbGl6ZSIsIHRoaXMuX3VwZGF0ZVhIUiwgdGhpcyk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksCiAgICAgIGMgPSBhOwogIGMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEudHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5CSU5BUlk7CiAgfSwgYi5fdXBkYXRlWEhSID0gZnVuY3Rpb24gKGEpIHsKICAgIGEubG9hZGVyLnNldFJlc3BvbnNlVHlwZSgiYXJyYXlidWZmZXIiKTsKICB9LCBjcmVhdGVqcy5CaW5hcnlMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdExvYWRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwgYiwgY3JlYXRlanMuVHlwZXMuQ1NTKSwgdGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSB0aGlzLl9mb3JtYXRSZXN1bHQsIHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9ICJocmVmIiwgYiA/IHRoaXMuX3RhZyA9IGNyZWF0ZWpzLkVsZW1lbnRzLnN0eWxlKCkgOiB0aGlzLl90YWcgPSBjcmVhdGVqcy5FbGVtZW50cy5saW5rKCksIHRoaXMuX3RhZy5yZWwgPSAic3R5bGVzaGVldCIsIHRoaXMuX3RhZy50eXBlID0gInRleHQvY3NzIjsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSwKICAgICAgYyA9IGE7CiAgYy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkNTUzsKICB9LCBiLl9mb3JtYXRSZXN1bHQgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKHRoaXMuX3ByZWZlclhIUikgewogICAgICB2YXIgYiA9IGEuZ2V0VGFnKCk7CiAgICAgIGlmIChiLnN0eWxlU2hlZXQpIGIuc3R5bGVTaGVldC5jc3NUZXh0ID0gYS5nZXRSZXN1bHQoITApO2Vsc2UgewogICAgICAgIHZhciBjID0gY3JlYXRlanMuRWxlbWVudHMudGV4dChhLmdldFJlc3VsdCghMCkpOwogICAgICAgIGIuYXBwZW5kQ2hpbGQoYyk7CiAgICAgIH0KICAgIH0gZWxzZSBiID0gdGhpcy5fdGFnOwoKICAgIHJldHVybiBjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0hlYWQoYiksIGI7CiAgfSwgY3JlYXRlanMuQ1NTTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RMb2FkZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiKSB7CiAgICB0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsIGIsIGEudHlwZSksIHRoaXMuX2ZhY2VzID0ge30sIHRoaXMuX3dhdGNoZWQgPSBbXSwgdGhpcy5fY291bnQgPSAwLCB0aGlzLl93YXRjaEludGVydmFsID0gbnVsbCwgdGhpcy5fbG9hZFRpbWVvdXQgPSBudWxsLCB0aGlzLl9pbmplY3RDU1MgPSB2b2lkIDAgPT09IGEuaW5qZWN0Q1NTID8gITAgOiBhLmluamVjdENTUywgdGhpcy5kaXNwYXRjaEV2ZW50KCJpbml0aWFsaXplIik7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7CiAgYS5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkZPTlQgfHwgYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1M7CiAgfSwgYS5zYW1wbGVUZXh0ID0gImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIiwgYS5fY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSwgYS5fcmVmZXJlbmNlRm9udHMgPSBbInNlcmlmIiwgIm1vbm9zcGFjZSJdLCBhLldFSUdIVF9SRUdFWCA9IC9bLSAuX10qKHRoaW58bm9ybWFsfGJvb2t8cmVndWxhcnxtZWRpdW18YmxhY2t8aGVhdnl8WzEtOV0wMHwoPzpleHRyYXx1bHRyYXxzZW1pfGRlbWkpP1stIC5fXSooPzpsaWdodHxib2xkKSlbLSAuX10qL2dpLCBhLlNUWUxFX1JFR0VYID0gL1stIC5fXSooaXRhbGljfG9ibGlxdWUpWy0gLl9dKi9naSwgYS5GT05UX0ZPUk1BVCA9IHsKICAgIHdvZmYyOiAid29mZjIiLAogICAgd29mZjogIndvZmYiLAogICAgdHRmOiAidHJ1ZXR5cGUiLAogICAgb3RmOiAidHJ1ZXR5cGUiCiAgfSwgYS5GT05UX1dFSUdIVCA9IHsKICAgIHRoaW46IDEwMCwKICAgIGV4dHJhbGlnaHQ6IDIwMCwKICAgIHVsdHJhbGlnaHQ6IDIwMCwKICAgIGxpZ2h0OiAzMDAsCiAgICBzZW1pbGlnaHQ6IDMwMCwKICAgIGRlbWlsaWdodDogMzAwLAogICAgYm9vazogIm5vcm1hbCIsCiAgICByZWd1bGFyOiAibm9ybWFsIiwKICAgIHNlbWlib2xkOiA2MDAsCiAgICBkZW1pYm9sZDogNjAwLAogICAgZXh0cmFib2xkOiA4MDAsCiAgICB1bHRyYWJvbGQ6IDgwMCwKICAgIGJsYWNrOiA5MDAsCiAgICBoZWF2eTogOTAwCiAgfSwgYS5XQVRDSF9EVVJBVElPTiA9IDEwLCBiLmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1MpIHsKICAgICAgdmFyIGEgPSB0aGlzLl93YXRjaENTUygpOwoKICAgICAgaWYgKCFhKSByZXR1cm4gdm9pZCB0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKTsKICAgIH0gZWxzZSBpZiAodGhpcy5faXRlbS5zcmMgaW5zdGFuY2VvZiBBcnJheSkgdGhpcy5fd2F0Y2hGb250QXJyYXkoKTtlbHNlIHsKICAgICAgdmFyIGIgPSB0aGlzLl9kZWZGcm9tU3JjKHRoaXMuX2l0ZW0uc3JjKTsKCiAgICAgIHRoaXMuX3dhdGNoRm9udChiKSwgdGhpcy5faW5qZWN0U3R5bGVUYWcodGhpcy5fY3NzRnJvbURlZihiKSk7CiAgICB9CgogICAgdGhpcy5fbG9hZFRpbWVvdXQgPSBzZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsIHRoaXMpLCB0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSwgdGhpcy5kaXNwYXRjaEV2ZW50KCJsb2Fkc3RhcnQiKTsKICB9LCBiLl9oYW5kbGVUaW1lb3V0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fc3RvcFdhdGNoaW5nKCksIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudCgiUFJFTE9BRF9USU1FT1VUIikpOwogIH0sIGIuX2NyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdDsKICB9LCBiLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIHN3aXRjaCAoYS50eXBlKSB7CiAgICAgIGNhc2UgImNvbXBsZXRlIjoKICAgICAgICB0aGlzLl9yYXdSZXN1bHQgPSBhLnRhcmdldC5fcmVzcG9uc2UsIHRoaXMuX3Jlc3VsdCA9ICEwLCB0aGlzLl9wYXJzZUNTUyh0aGlzLl9yYXdSZXN1bHQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiZXJyb3IiOgogICAgICAgIHRoaXMuX3N0b3BXYXRjaGluZygpLCB0aGlzLkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50KGEpOwogICAgfQogIH0sIGIuX3dhdGNoQ1NTID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLl9pdGVtLnNyYzsKICAgIHJldHVybiBhIGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCAmJiAodGhpcy5faW5qZWN0Q1NTICYmICFhLnBhcmVudE5vZGUgJiYgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSkuYXBwZW5kQ2hpbGQoYSksIHRoaXMuX2luamVjdENTUyA9ICExLCBhID0gIlxuIiArIGEudGV4dENvbnRlbnQpLCAtMSAhPT0gYS5zZWFyY2goL1xufFxyfEBmb250LWZhY2UvaSkgPyAodGhpcy5fcGFyc2VDU1MoYSksICEwKSA6ICh0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSksICExKTsKICB9LCBiLl9wYXJzZUNTUyA9IGZ1bmN0aW9uIChhKSB7CiAgICBmb3IgKHZhciBiID0gL0Bmb250LWZhY2VccypceyhbXn1dKyl9L2c7OykgewogICAgICB2YXIgYyA9IGIuZXhlYyhhKTsKICAgICAgaWYgKCFjKSBicmVhazsKCiAgICAgIHRoaXMuX3dhdGNoRm9udCh0aGlzLl9wYXJzZUZvbnRGYWNlKGNbMV0pKTsKICAgIH0KCiAgICB0aGlzLl9pbmplY3RTdHlsZVRhZyhhKTsKICB9LCBiLl93YXRjaEZvbnRBcnJheSA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGEsIGIgPSB0aGlzLl9pdGVtLnNyYywgYyA9ICIiLCBkID0gYi5sZW5ndGggLSAxOyBkID49IDA7IGQtLSkgewogICAgICB2YXIgZSA9IGJbZF07CiAgICAgIGEgPSAic3RyaW5nIiA9PSB0eXBlb2YgZSA/IHRoaXMuX2RlZkZyb21TcmMoZSkgOiB0aGlzLl9kZWZGcm9tT2JqKGUpLCB0aGlzLl93YXRjaEZvbnQoYSksIGMgKz0gdGhpcy5fY3NzRnJvbURlZihhKSArICJcbiI7CiAgICB9CgogICAgdGhpcy5faW5qZWN0U3R5bGVUYWcoYyk7CiAgfSwgYi5faW5qZWN0U3R5bGVUYWcgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKHRoaXMuX2luamVjdENTUykgewogICAgICB2YXIgYiA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSwKICAgICAgICAgIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOwogICAgICBjLnR5cGUgPSAidGV4dC9jc3MiLCBjLnN0eWxlU2hlZXQgPyBjLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGEgOiBjLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKSwgYi5hcHBlbmRDaGlsZChjKTsKICAgIH0KICB9LCBiLl9wYXJzZUZvbnRGYWNlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fZ2V0Q1NTVmFsdWUoYSwgImZvbnQtZmFtaWx5IiksCiAgICAgICAgYyA9IHRoaXMuX2dldENTU1ZhbHVlKGEsICJzcmMiKTsKCiAgICByZXR1cm4gYiAmJiBjID8gdGhpcy5fZGVmRnJvbU9iaih7CiAgICAgIGZhbWlseTogYiwKICAgICAgc3JjOiBjLAogICAgICBzdHlsZTogdGhpcy5fZ2V0Q1NTVmFsdWUoYSwgImZvbnQtc3R5bGUiKSwKICAgICAgd2VpZ2h0OiB0aGlzLl9nZXRDU1NWYWx1ZShhLCAiZm9udC13ZWlnaHQiKQogICAgfSkgOiBudWxsOwogIH0sIGIuX3dhdGNoRm9udCA9IGZ1bmN0aW9uIChhKSB7CiAgICBhICYmICF0aGlzLl9mYWNlc1thLmlkXSAmJiAodGhpcy5fZmFjZXNbYS5pZF0gPSBhLCB0aGlzLl93YXRjaGVkLnB1c2goYSksIHRoaXMuX2NvdW50KyssIHRoaXMuX2NhbGN1bGF0ZVJlZmVyZW5jZVNpemVzKGEpLCB0aGlzLl9zdGFydFdhdGNoaW5nKCkpOwogIH0sIGIuX3N0YXJ0V2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICBudWxsID09IHRoaXMuX3dhdGNoSW50ZXJ2YWwgJiYgKHRoaXMuX3dhdGNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjcmVhdGVqcy5wcm94eSh0aGlzLl93YXRjaCwgdGhpcyksIGEuV0FUQ0hfRFVSQVRJT04pKTsKICB9LCBiLl9zdG9wV2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMuX3dhdGNoSW50ZXJ2YWwpLCBjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpLCB0aGlzLl93YXRjaEludGVydmFsID0gbnVsbDsKICB9LCBiLl93YXRjaCA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGIgPSB0aGlzLl93YXRjaGVkLCBjID0gYS5fcmVmZXJlbmNlRm9udHMsIGQgPSBiLmxlbmd0aCwgZSA9IGQgLSAxOyBlID49IDA7IGUtLSkgewogICAgICBmb3IgKHZhciBmID0gYltlXSwgZyA9IGYucmVmcywgaCA9IGcubGVuZ3RoIC0gMTsgaCA+PSAwOyBoLS0pIHsKICAgICAgICB2YXIgaSA9IHRoaXMuX2dldFRleHRXaWR0aChmLmZhbWlseSArICIsIiArIGNbaF0sIGYud2VpZ2h0LCBmLnN0eWxlKTsKCiAgICAgICAgaWYgKGkgIT0gZ1toXSkgewogICAgICAgICAgdmFyIGogPSBuZXcgY3JlYXRlanMuRXZlbnQoImZpbGVsb2FkIik7CiAgICAgICAgICBmLnR5cGUgPSAiZm9udC1mYW1pbHkiLCBqLml0ZW0gPSBmLCB0aGlzLmRpc3BhdGNoRXZlbnQoaiksIGIuc3BsaWNlKGUsIDEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGQgIT09IGIubGVuZ3RoKSB7CiAgICAgIHZhciBqID0gbmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQodGhpcy5fY291bnQgLSBiLmxlbmd0aCwgdGhpcy5fY291bnQpOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoaik7CiAgICB9CgogICAgMCA9PT0gZCAmJiAodGhpcy5fc3RvcFdhdGNoaW5nKCksIHRoaXMuX3NlbmRDb21wbGV0ZSgpKTsKICB9LCBiLl9jYWxjdWxhdGVSZWZlcmVuY2VTaXplcyA9IGZ1bmN0aW9uIChiKSB7CiAgICBmb3IgKHZhciBjID0gYS5fcmVmZXJlbmNlRm9udHMsIGQgPSBiLnJlZnMgPSBbXSwgZSA9IDA7IGUgPCBjLmxlbmd0aDsgZSsrKSB7CiAgICAgIGRbZV0gPSB0aGlzLl9nZXRUZXh0V2lkdGgoY1tlXSwgYi53ZWlnaHQsIGIuc3R5bGUpOwogICAgfQogIH0sIGIuX2RlZkZyb21TcmMgPSBmdW5jdGlvbiAoYikgewogICAgdmFyIGMsCiAgICAgICAgZCA9IC9bLSAuX10rL2csCiAgICAgICAgZSA9IGIsCiAgICAgICAgZiA9IG51bGw7CiAgICBjID0gZS5zZWFyY2goL1s/I10vKSwgLTEgIT09IGMgJiYgKGUgPSBlLnN1YnN0cigwLCBjKSksIGMgPSBlLmxhc3RJbmRleE9mKCIuIiksIC0xICE9PSBjICYmIChmID0gZS5zdWJzdHIoYyArIDEpLCBlID0gZS5zdWJzdHIoMCwgYykpLCBjID0gZS5sYXN0SW5kZXhPZigiLyIpLCAtMSAhPT0gYyAmJiAoZSA9IGUuc3Vic3RyKGMgKyAxKSk7CiAgICB2YXIgZyA9IGUsCiAgICAgICAgaCA9IGcubWF0Y2goYS5XRUlHSFRfUkVHRVgpOwogICAgaCAmJiAoaCA9IGhbMF0sIGcgPSBnLnJlcGxhY2UoaCwgIiIpLCBoID0gaC5yZXBsYWNlKGQsICIiKS50b0xvd2VyQ2FzZSgpKTsKICAgIHZhciBpID0gZS5tYXRjaChhLlNUWUxFX1JFR0VYKTsKICAgIGkgJiYgKGcgPSBnLnJlcGxhY2UoaVswXSwgIiIpLCBpID0gIml0YWxpYyIpLCBnID0gZy5yZXBsYWNlKGQsICIiKTsKICAgIHZhciBqID0gImxvY2FsKCciICsgZS5yZXBsYWNlKGQsICIgIikgKyAiJyksIHVybCgnIiArIGIgKyAiJykiLAogICAgICAgIGsgPSBhLkZPTlRfRk9STUFUW2ZdOwogICAgcmV0dXJuIGsgJiYgKGogKz0gIiBmb3JtYXQoJyIgKyBrICsgIicpIiksIHRoaXMuX2RlZkZyb21PYmooewogICAgICBmYW1pbHk6IGcsCiAgICAgIHdlaWdodDogYS5GT05UX1dFSUdIVFtoXSB8fCBoLAogICAgICBzdHlsZTogaSwKICAgICAgc3JjOiBqCiAgICB9KTsKICB9LCBiLl9kZWZGcm9tT2JqID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gewogICAgICBmYW1pbHk6IGEuZmFtaWx5LAogICAgICBzcmM6IGEuc3JjLAogICAgICBzdHlsZTogYS5zdHlsZSB8fCAibm9ybWFsIiwKICAgICAgd2VpZ2h0OiBhLndlaWdodCB8fCAibm9ybWFsIgogICAgfTsKICAgIHJldHVybiBiLmlkID0gYi5mYW1pbHkgKyAiOyIgKyBiLnN0eWxlICsgIjsiICsgYi53ZWlnaHQsIGI7CiAgfSwgYi5fY3NzRnJvbURlZiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gIkBmb250LWZhY2Uge1xuCWZvbnQtZmFtaWx5OiAnIiArIGEuZmFtaWx5ICsgIic7XG4JZm9udC1zdHlsZTogIiArIGEuc3R5bGUgKyAiO1xuCWZvbnQtd2VpZ2h0OiAiICsgYS53ZWlnaHQgKyAiO1xuCXNyYzogIiArIGEuc3JjICsgIjtcbn0iOwogIH0sIGIuX2dldFRleHRXaWR0aCA9IGZ1bmN0aW9uIChiLCBjLCBkKSB7CiAgICB2YXIgZSA9IGEuX2N0eDsKICAgIHJldHVybiBlLmZvbnQgPSBkICsgIiAiICsgYyArICIgNzJweCAiICsgYiwgZS5tZWFzdXJlVGV4dChhLnNhbXBsZVRleHQpLndpZHRoOwogIH0sIGIuX2dldENTU1ZhbHVlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gbmV3IFJlZ0V4cChiICsgIjpzKihbXjt9XSs/KXMqWzt9XSIpLAogICAgICAgIGQgPSBjLmV4ZWMoYSk7CiAgICByZXR1cm4gZCAmJiBkWzFdID8gZFsxXSA6IG51bGw7CiAgfSwgY3JlYXRlanMuRm9udExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0TG9hZGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCBiLCBjcmVhdGVqcy5UeXBlcy5JTUFHRSksIHRoaXMucmVzdWx0Rm9ybWF0dGVyID0gdGhpcy5fZm9ybWF0UmVzdWx0LCB0aGlzLl90YWdTcmNBdHRyaWJ1dGUgPSAic3JjIiwgY3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyhhKSA/IHRoaXMuX3RhZyA9IGEgOiBjcmVhdGVqcy5Eb21VdGlscy5pc0ltYWdlVGFnKGEuc3JjKSA/IHRoaXMuX3RhZyA9IGEuc3JjIDogY3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyhhLnRhZykgJiYgKHRoaXMuX3RhZyA9IGEudGFnKSwgbnVsbCAhPSB0aGlzLl90YWcgPyB0aGlzLl9wcmVmZXJYSFIgPSAhMSA6IHRoaXMuX3RhZyA9IGNyZWF0ZWpzLkVsZW1lbnRzLmltZygpLCB0aGlzLm9uKCJpbml0aWFsaXplIiwgdGhpcy5fdXBkYXRlWEhSLCB0aGlzKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSwKICAgICAgYyA9IGE7CiAgYy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLklNQUdFOwogIH0sIGIubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICgiIiAhPSB0aGlzLl90YWcuc3JjICYmIHRoaXMuX3RhZy5jb21wbGV0ZSkgcmV0dXJuIHZvaWQgdGhpcy5fc2VuZENvbXBsZXRlKCk7CiAgICB2YXIgYSA9IHRoaXMuX2l0ZW0uY3Jvc3NPcmlnaW47CiAgICAxID09IGEgJiYgKGEgPSAiQW5vbnltb3VzIiksIG51bGwgPT0gYSB8fCBjcmVhdGVqcy5VUkxVdGlscy5pc0xvY2FsKHRoaXMuX2l0ZW0pIHx8ICh0aGlzLl90YWcuY3Jvc3NPcmlnaW4gPSBhKSwgdGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCk7CiAgfSwgYi5fdXBkYXRlWEhSID0gZnVuY3Rpb24gKGEpIHsKICAgIGEubG9hZGVyLm1pbWVUeXBlID0gInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQtYmluYXJ5IiwgYS5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlICYmIGEubG9hZGVyLnNldFJlc3BvbnNlVHlwZSgiYmxvYiIpOwogIH0sIGIuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5fZm9ybWF0SW1hZ2U7CiAgfSwgYi5fZm9ybWF0SW1hZ2UgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSB0aGlzLl90YWcsCiAgICAgICAgZCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDsKICAgIGlmICh0aGlzLl9wcmVmZXJYSFIpIHsKICAgICAgaWYgKGQpIHsKICAgICAgICB2YXIgZSA9IGQuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZ2V0UmVzdWx0KCEwKSk7CiAgICAgICAgYy5zcmMgPSBlLCBjLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzLl9jbGVhblVwVVJMLCAhMSksIGMuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCB0aGlzLl9jbGVhblVwVVJMLCAhMSk7CiAgICAgIH0gZWxzZSBjLnNyYyA9IHRoaXMuX2l0ZW0uc3JjOwogICAgfSBlbHNlIDsKICAgIGMuY29tcGxldGUgPyBhKGMpIDogKGMub25sb2FkID0gY3JlYXRlanMucHJveHkoZnVuY3Rpb24gKCkgewogICAgICBhKHRoaXMuX3RhZyksIGMub25sb2FkID0gYy5vbmVycm9yID0gbnVsbDsKICAgIH0sIHRoaXMpLCBjLm9uZXJyb3IgPSBjcmVhdGVqcy5wcm94eShmdW5jdGlvbiAoYSkgewogICAgICBiKG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KCJJTUFHRV9GT1JNQVQiLCBudWxsLCBhKSksIGMub25sb2FkID0gYy5vbmVycm9yID0gbnVsbDsKICAgIH0sIHRoaXMpKTsKICB9LCBiLl9jbGVhblVwVVJMID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOwogICAgYi5yZXZva2VPYmplY3RVUkwoYS50YXJnZXQuc3JjKTsKICB9LCBjcmVhdGVqcy5JbWFnZUxvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0TG9hZGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCBiLCBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKSwgdGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSB0aGlzLl9mb3JtYXRSZXN1bHQsIHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9ICJzcmMiLCB0aGlzLnNldFRhZyhjcmVhdGVqcy5FbGVtZW50cy5zY3JpcHQoKSk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksCiAgICAgIGMgPSBhOwogIGMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEudHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUOwogIH0sIGIuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGEuZ2V0VGFnKCk7CiAgICByZXR1cm4gdGhpcy5fcHJlZmVyWEhSICYmIChiLnRleHQgPSBhLmdldFJlc3VsdCghMCkpLCBiOwogIH0sIGNyZWF0ZWpzLkphdmFTY3JpcHRMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdExvYWRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwgITAsIGNyZWF0ZWpzLlR5cGVzLkpTT04pLCB0aGlzLnJlc3VsdEZvcm1hdHRlciA9IHRoaXMuX2Zvcm1hdFJlc3VsdDsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSwKICAgICAgYyA9IGE7CiAgYy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpTT047CiAgfSwgYi5fZm9ybWF0UmVzdWx0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gbnVsbDsKCiAgICB0cnkgewogICAgICBiID0gY3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlSlNPTihhLmdldFJlc3VsdCghMCkpOwogICAgfSBjYXRjaCAoYykgewogICAgICB2YXIgZCA9IG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KCJKU09OX0ZPUk1BVCIsIG51bGwsIGMpOwogICAgICByZXR1cm4gdGhpcy5fc2VuZEVycm9yKGQpLCBjOwogICAgfQoKICAgIHJldHVybiBiOwogIH0sIGNyZWF0ZWpzLkpTT05Mb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdExvYWRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwgITEsIGNyZWF0ZWpzLlR5cGVzLkpTT05QKSwgdGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpLCB0aGlzLmdldFRhZygpLnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSwKICAgICAgYyA9IGE7CiAgYy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpTT05QOwogIH0sIGIuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9jYW5jZWwoKSwgdGhpcy5fZGlzcG9zZSgpOwogIH0sIGIubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmIChudWxsID09IHRoaXMuX2l0ZW0uY2FsbGJhY2spIHRocm93IG5ldyBFcnJvcigiY2FsbGJhY2sgaXMgcmVxdWlyZWQgZm9yIGxvYWRpbmcgSlNPTlAgcmVxdWVzdHMuIik7CiAgICBpZiAobnVsbCAhPSB3aW5kb3dbdGhpcy5faXRlbS5jYWxsYmFja10pIHRocm93IG5ldyBFcnJvcigiSlNPTlAgY2FsbGJhY2sgJyIgKyB0aGlzLl9pdGVtLmNhbGxiYWNrICsgIicgYWxyZWFkeSBleGlzdHMgb24gd2luZG93LiBZb3UgbmVlZCB0byBzcGVjaWZ5IGEgZGlmZmVyZW50IGNhbGxiYWNrIG9yIHJlLW5hbWUgdGhlIGN1cnJlbnQgb25lLiIpOwogICAgd2luZG93W3RoaXMuX2l0ZW0uY2FsbGJhY2tdID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCwgdGhpcyksIGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvQm9keSh0aGlzLl90YWcpLCB0aGlzLl9sb2FkVGltZW91dCA9IHNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCwgdGhpcyksIHRoaXMuX2l0ZW0ubG9hZFRpbWVvdXQpLCB0aGlzLl90YWcuc3JjID0gdGhpcy5faXRlbS5zcmM7CiAgfSwgYi5faGFuZGxlTG9hZCA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9yYXdSZXN1bHQgPSBhLCB0aGlzLl9zZW5kQ29tcGxldGUoKSwgdGhpcy5fZGlzcG9zZSgpOwogIH0sIGIuX2hhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9kaXNwb3NlKCksIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudCgidGltZW91dCIpKTsKICB9LCBiLl9kaXNwb3NlID0gZnVuY3Rpb24gKCkgewogICAgY3JlYXRlanMuRG9tVXRpbHMucmVtb3ZlQ2hpbGQodGhpcy5fdGFnKSwgZGVsZXRlIHdpbmRvd1t0aGlzLl9pdGVtLmNhbGxiYWNrXSwgY2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTsKICB9LCBjcmVhdGVqcy5KU09OUExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0TG9hZGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCBiLCBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVCksIHRoaXMucGx1Z2lucyA9IG51bGwsIHRoaXMuX21hbmlmZXN0UXVldWUgPSBudWxsOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLAogICAgICBjID0gYTsKICBjLk1BTklGRVNUX1BST0dSRVNTID0gLjI1LCBjLmNhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuTUFOSUZFU1Q7CiAgfSwgYi5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCk7CiAgfSwgYi5fY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gdGhpcy5faXRlbS5jYWxsYmFjazsKICAgIG51bGwgIT0gYSA/IHRoaXMuX3JlcXVlc3QgPSBuZXcgY3JlYXRlanMuSlNPTlBMb2FkZXIodGhpcy5faXRlbSkgOiB0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLkpTT05Mb2FkZXIodGhpcy5faXRlbSk7CiAgfSwgYi5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChhKSB7CiAgICBzd2l0Y2ggKGEudHlwZSkgewogICAgICBjYXNlICJjb21wbGV0ZSI6CiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd1Jlc3VsdCA9IGEudGFyZ2V0LmdldFJlc3VsdCghMCksIHRoaXMuX3Jlc3VsdCA9IGEudGFyZ2V0LmdldFJlc3VsdCgpLCB0aGlzLl9zZW5kUHJvZ3Jlc3MoYy5NQU5JRkVTVF9QUk9HUkVTUyksIHZvaWQgdGhpcy5fbG9hZE1hbmlmZXN0KHRoaXMuX3Jlc3VsdCk7CgogICAgICBjYXNlICJwcm9ncmVzcyI6CiAgICAgICAgcmV0dXJuIGEubG9hZGVkICo9IGMuTUFOSUZFU1RfUFJPR1JFU1MsIHRoaXMucHJvZ3Jlc3MgPSBhLmxvYWRlZCAvIGEudG90YWwsIChpc05hTih0aGlzLnByb2dyZXNzKSB8fCB0aGlzLnByb2dyZXNzID09IDEgLyAwKSAmJiAodGhpcy5wcm9ncmVzcyA9IDApLCB2b2lkIHRoaXMuX3NlbmRQcm9ncmVzcyhhKTsKICAgIH0KCiAgICB0aGlzLkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50KGEpOwogIH0sIGIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfZGVzdHJveSgpLCB0aGlzLl9tYW5pZmVzdFF1ZXVlLmNsb3NlKCk7CiAgfSwgYi5fbG9hZE1hbmlmZXN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChhICYmIGEubWFuaWZlc3QpIHsKICAgICAgdmFyIGIgPSB0aGlzLl9tYW5pZmVzdFF1ZXVlID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0aGlzLl9wcmVmZXJYSFIpOwogICAgICBiLm9uKCJmaWxlbG9hZCIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQsIHRoaXMpLCBiLm9uKCJwcm9ncmVzcyIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3MsIHRoaXMpLCBiLm9uKCJjb21wbGV0ZSIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGUsIHRoaXMsICEwKSwgYi5vbigiZXJyb3IiLCB0aGlzLl9oYW5kbGVNYW5pZmVzdEVycm9yLCB0aGlzLCAhMCk7CgogICAgICBmb3IgKHZhciBjID0gMCwgZCA9IHRoaXMucGx1Z2lucy5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgICBiLmluc3RhbGxQbHVnaW4odGhpcy5wbHVnaW5zW2NdKTsKICAgICAgfQoKICAgICAgYi5sb2FkTWFuaWZlc3QoYSk7CiAgICB9IGVsc2UgdGhpcy5fc2VuZENvbXBsZXRlKCk7CiAgfSwgYi5faGFuZGxlTWFuaWZlc3RGaWxlTG9hZCA9IGZ1bmN0aW9uIChhKSB7CiAgICBhLnRhcmdldCA9IG51bGwsIHRoaXMuZGlzcGF0Y2hFdmVudChhKTsKICB9LCBiLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX2xvYWRlZEl0ZW1zID0gdGhpcy5fbWFuaWZlc3RRdWV1ZS5nZXRJdGVtcyghMCksIHRoaXMuX3NlbmRDb21wbGV0ZSgpOwogIH0sIGIuX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3MgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5wcm9ncmVzcyA9IGEucHJvZ3Jlc3MgKiAoMSAtIGMuTUFOSUZFU1RfUFJPR1JFU1MpICsgYy5NQU5JRkVTVF9QUk9HUkVTUywgdGhpcy5fc2VuZFByb2dyZXNzKHRoaXMucHJvZ3Jlc3MpOwogIH0sIGIuX2hhbmRsZU1hbmlmZXN0RXJyb3IgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBuZXcgY3JlYXRlanMuRXZlbnQoImZpbGVlcnJvciIpOwogICAgYi5pdGVtID0gYS5kYXRhLCB0aGlzLmRpc3BhdGNoRXZlbnQoYik7CiAgfSwgY3JlYXRlanMuTWFuaWZlc3RMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdExvYWRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIpIHsKICAgIHRoaXMuQWJzdHJhY3RNZWRpYUxvYWRlcl9jb25zdHJ1Y3RvcihhLCBiLCBjcmVhdGVqcy5UeXBlcy5TT1VORCksIGNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcoYSkgPyB0aGlzLl90YWcgPSBhIDogY3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhhLnNyYykgPyB0aGlzLl90YWcgPSBhIDogY3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhhLnRhZykgJiYgKHRoaXMuX3RhZyA9IGNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcoYSkgPyBhIDogYS5zcmMpLCBudWxsICE9IHRoaXMuX3RhZyAmJiAodGhpcy5fcHJlZmVyWEhSID0gITEpOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RNZWRpYUxvYWRlciksCiAgICAgIGMgPSBhOwogIGMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEudHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5TT1VORDsKICB9LCBiLl9jcmVhdGVUYWcgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBjcmVhdGVqcy5FbGVtZW50cy5hdWRpbygpOwogICAgcmV0dXJuIGIuYXV0b3BsYXkgPSAhMSwgYi5wcmVsb2FkID0gIm5vbmUiLCBiLnNyYyA9IGEsIGI7CiAgfSwgY3JlYXRlanMuU291bmRMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdE1lZGlhTG9hZGVyIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSwgYikgewogICAgdGhpcy5BYnN0cmFjdE1lZGlhTG9hZGVyX2NvbnN0cnVjdG9yKGEsIGIsIGNyZWF0ZWpzLlR5cGVzLlZJREVPKSwgY3JlYXRlanMuRG9tVXRpbHMuaXNWaWRlb1RhZyhhKSB8fCBjcmVhdGVqcy5Eb21VdGlscy5pc1ZpZGVvVGFnKGEuc3JjKSA/ICh0aGlzLnNldFRhZyhjcmVhdGVqcy5Eb21VdGlscy5pc1ZpZGVvVGFnKGEpID8gYSA6IGEuc3JjKSwgdGhpcy5fcHJlZmVyWEhSID0gITEpIDogdGhpcy5zZXRUYWcodGhpcy5fY3JlYXRlVGFnKCkpOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RNZWRpYUxvYWRlciksCiAgICAgIGMgPSBhOwogIGIuX2NyZWF0ZVRhZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBjcmVhdGVqcy5FbGVtZW50cy52aWRlbygpOwogIH0sIGMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEudHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5WSURFTzsKICB9LCBjcmVhdGVqcy5WaWRlb0xvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0TWVkaWFMb2FkZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiKSB7CiAgICB0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsIGIsIGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUKSwgdGhpcy5fbWFuaWZlc3RRdWV1ZSA9IG51bGw7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksCiAgICAgIGMgPSBhOwogIGMuU1BSSVRFU0hFRVRfUFJPR1JFU1MgPSAuMjUsIGMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEudHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVDsKICB9LCBiLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLkFic3RyYWN0TG9hZGVyX2Rlc3Ryb3koKSwgdGhpcy5fbWFuaWZlc3RRdWV1ZS5jbG9zZSgpOwogIH0sIGIuX2NyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuX2l0ZW0uY2FsbGJhY2s7CiAgICBudWxsICE9IGEgPyB0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLkpTT05QTG9hZGVyKHRoaXMuX2l0ZW0pIDogdGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5KU09OTG9hZGVyKHRoaXMuX2l0ZW0pOwogIH0sIGIuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoYSkgewogICAgc3dpdGNoIChhLnR5cGUpIHsKICAgICAgY2FzZSAiY29tcGxldGUiOgogICAgICAgIHJldHVybiB0aGlzLl9yYXdSZXN1bHQgPSBhLnRhcmdldC5nZXRSZXN1bHQoITApLCB0aGlzLl9yZXN1bHQgPSBhLnRhcmdldC5nZXRSZXN1bHQoKSwgdGhpcy5fc2VuZFByb2dyZXNzKGMuU1BSSVRFU0hFRVRfUFJPR1JFU1MpLCB2b2lkIHRoaXMuX2xvYWRNYW5pZmVzdCh0aGlzLl9yZXN1bHQpOwoKICAgICAgY2FzZSAicHJvZ3Jlc3MiOgogICAgICAgIHJldHVybiBhLmxvYWRlZCAqPSBjLlNQUklURVNIRUVUX1BST0dSRVNTLCB0aGlzLnByb2dyZXNzID0gYS5sb2FkZWQgLyBhLnRvdGFsLCAoaXNOYU4odGhpcy5wcm9ncmVzcykgfHwgdGhpcy5wcm9ncmVzcyA9PSAxIC8gMCkgJiYgKHRoaXMucHJvZ3Jlc3MgPSAwKSwgdm9pZCB0aGlzLl9zZW5kUHJvZ3Jlc3MoYSk7CiAgICB9CgogICAgdGhpcy5BYnN0cmFjdExvYWRlcl9oYW5kbGVFdmVudChhKTsKICB9LCBiLl9sb2FkTWFuaWZlc3QgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKGEgJiYgYS5pbWFnZXMpIHsKICAgICAgdmFyIGIgPSB0aGlzLl9tYW5pZmVzdFF1ZXVlID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0aGlzLl9wcmVmZXJYSFIsIHRoaXMuX2l0ZW0ucGF0aCwgdGhpcy5faXRlbS5jcm9zc09yaWdpbik7CiAgICAgIGIub24oImNvbXBsZXRlIiwgdGhpcy5faGFuZGxlTWFuaWZlc3RDb21wbGV0ZSwgdGhpcywgITApLCBiLm9uKCJmaWxlbG9hZCIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQsIHRoaXMpLCBiLm9uKCJwcm9ncmVzcyIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3MsIHRoaXMpLCBiLm9uKCJlcnJvciIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0RXJyb3IsIHRoaXMsICEwKSwgYi5sb2FkTWFuaWZlc3QoYS5pbWFnZXMpOwogICAgfQogIH0sIGIuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBhLnJlc3VsdDsKCiAgICBpZiAobnVsbCAhPSBiKSB7CiAgICAgIHZhciBjID0gdGhpcy5nZXRSZXN1bHQoKS5pbWFnZXMsCiAgICAgICAgICBkID0gYy5pbmRleE9mKGEuaXRlbS5zcmMpOwogICAgICBjW2RdID0gYjsKICAgIH0KICB9LCBiLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBjcmVhdGVqcy5TcHJpdGVTaGVldCh0aGlzLl9yZXN1bHQpLCB0aGlzLl9sb2FkZWRJdGVtcyA9IHRoaXMuX21hbmlmZXN0UXVldWUuZ2V0SXRlbXMoITApLCB0aGlzLl9zZW5kQ29tcGxldGUoKTsKICB9LCBiLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMucHJvZ3Jlc3MgPSBhLnByb2dyZXNzICogKDEgLSBjLlNQUklURVNIRUVUX1BST0dSRVNTKSArIGMuU1BSSVRFU0hFRVRfUFJPR1JFU1MsIHRoaXMuX3NlbmRQcm9ncmVzcyh0aGlzLnByb2dyZXNzKTsKICB9LCBiLl9oYW5kbGVNYW5pZmVzdEVycm9yID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gbmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlZXJyb3IiKTsKICAgIGIuaXRlbSA9IGEuZGF0YSwgdGhpcy5kaXNwYXRjaEV2ZW50KGIpOwogIH0sIGNyZWF0ZWpzLlNwcml0ZVNoZWV0TG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RMb2FkZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiKSB7CiAgICB0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsIGIsIGNyZWF0ZWpzLlR5cGVzLlNWRyksIHRoaXMucmVzdWx0Rm9ybWF0dGVyID0gdGhpcy5fZm9ybWF0UmVzdWx0LCB0aGlzLl90YWdTcmNBdHRyaWJ1dGUgPSAiZGF0YSIsIGIgPyB0aGlzLnNldFRhZyhjcmVhdGVqcy5FbGVtZW50cy5zdmcoKSkgOiAodGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMub2JqZWN0KCkpLCB0aGlzLmdldFRhZygpLnR5cGUgPSAiaW1hZ2Uvc3ZnK3htbCIpOwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLAogICAgICBjID0gYTsKICBjLmNhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuU1ZHOwogIH0sIGIuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZVhNTChhLmdldFJlc3VsdCghMCkpLAogICAgICAgIGMgPSBhLmdldFRhZygpOwoKICAgIGlmICghdGhpcy5fcHJlZmVyWEhSICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnMoYykgJiYgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjKSwgbnVsbCAhPSBiLmRvY3VtZW50RWxlbWVudCkgewogICAgICB2YXIgZCA9IGIuZG9jdW1lbnRFbGVtZW50OwogICAgICByZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSAmJiAoZCA9IGRvY3VtZW50LmltcG9ydE5vZGUoZCwgITApKSwgYy5hcHBlbmRDaGlsZChkKSwgYzsKICAgIH0KCiAgICByZXR1cm4gYjsKICB9LCBjcmVhdGVqcy5TVkdMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKGEsICJBYnN0cmFjdExvYWRlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwgITAsIGNyZWF0ZWpzLlR5cGVzLlhNTCksIHRoaXMucmVzdWx0Rm9ybWF0dGVyID0gdGhpcy5fZm9ybWF0UmVzdWx0OwogIH0KCiAgdmFyIGIgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLAogICAgICBjID0gYTsKICBjLmNhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuWE1MOwogIH0sIGIuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gY3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlWE1MKGEuZ2V0UmVzdWx0KCEwKSk7CiAgfSwgY3JlYXRlanMuWE1MTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RMb2FkZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogIHZhciBhID0gY3JlYXRlanMuU291bmRKUyA9IGNyZWF0ZWpzLlNvdW5kSlMgfHwge307CiAgYS52ZXJzaW9uID0gIjEuMC4wIiwgYS5idWlsZERhdGUgPSAiVGh1LCAxMiBPY3QgMjAxNyAxNjozNDowNSBHTVQiOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKCkgewogICAgdGhyb3cgIkJyb3dzZXJEZXRlY3QgY2Fubm90IGJlIGluc3RhbnRpYXRlZCI7CiAgfQoKICB2YXIgYiA9IGEuYWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKICBhLmlzV2luZG93UGhvbmUgPSBiLmluZGV4T2YoIklFTW9iaWxlIikgPiAtMSB8fCBiLmluZGV4T2YoIldpbmRvd3MgUGhvbmUiKSA+IC0xLCBhLmlzRmlyZWZveCA9IGIuaW5kZXhPZigiRmlyZWZveCIpID4gLTEsIGEuaXNPcGVyYSA9IG51bGwgIT0gd2luZG93Lm9wZXJhLCBhLmlzQ2hyb21lID0gYi5pbmRleE9mKCJDaHJvbWUiKSA+IC0xLCBhLmlzSU9TID0gKGIuaW5kZXhPZigiaVBvZCIpID4gLTEgfHwgYi5pbmRleE9mKCJpUGhvbmUiKSA+IC0xIHx8IGIuaW5kZXhPZigiaVBhZCIpID4gLTEpICYmICFhLmlzV2luZG93UGhvbmUsIGEuaXNBbmRyb2lkID0gYi5pbmRleE9mKCJBbmRyb2lkIikgPiAtMSAmJiAhYS5pc1dpbmRvd1Bob25lLCBhLmlzQmxhY2tiZXJyeSA9IGIuaW5kZXhPZigiQmxhY2tiZXJyeSIpID4gLTEsIGNyZWF0ZWpzLkJyb3dzZXJEZXRlY3QgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgYSA9IGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLmludGVycnVwdCA9IG51bGwsIHRoaXMuZGVsYXkgPSBudWxsLCB0aGlzLm9mZnNldCA9IG51bGwsIHRoaXMubG9vcCA9IG51bGwsIHRoaXMudm9sdW1lID0gbnVsbCwgdGhpcy5wYW4gPSBudWxsLCB0aGlzLnN0YXJ0VGltZSA9IG51bGwsIHRoaXMuZHVyYXRpb24gPSBudWxsOwogIH0sCiAgICAgIGIgPSBhLnByb3RvdHlwZSA9IHt9LAogICAgICBjID0gYTsKCiAgYy5jcmVhdGUgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBhKSByZXR1cm4gY29uc29sZSAmJiAoY29uc29sZS53YXJuIHx8IGNvbnNvbGUubG9nKSgiRGVwcmVjYXRlZCBiZWhhdmlvdXIuIFNvdW5kLnBsYXkgdGFrZXMgYSBjb25maWd1cmF0aW9uIG9iamVjdCBpbnN0ZWFkIG9mIGluZGl2aWR1YWwgYXJndW1lbnRzLiBTZWUgZG9jcyBmb3IgaW5mby4iKSwgbmV3IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZygpLnNldCh7CiAgICAgIGludGVycnVwdDogYQogICAgfSk7CiAgICBpZiAobnVsbCA9PSBhIHx8IGEgaW5zdGFuY2VvZiBjIHx8IGEgaW5zdGFuY2VvZiBPYmplY3QpIHJldHVybiBuZXcgY3JlYXRlanMuUGxheVByb3BzQ29uZmlnKCkuc2V0KGEpOwogICAgaWYgKG51bGwgPT0gYSkgdGhyb3cgbmV3IEVycm9yKCJQbGF5UHJvcHMgY29uZmlndXJhdGlvbiBub3QgcmVjb2duaXplZC4iKTsKICB9LCBiLnNldCA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAobnVsbCAhPSBhKSBmb3IgKHZhciBiIGluIGEpIHsKICAgICAgdGhpc1tiXSA9IGFbYl07CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbUGxheVByb3BzQ29uZmlnXSI7CiAgfSwgY3JlYXRlanMuUGxheVByb3BzQ29uZmlnID0gYzsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRocm93ICJTb3VuZCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIjsKICB9CgogIGZ1bmN0aW9uIGIoYSwgYikgewogICAgdGhpcy5pbml0KGEsIGIpOwogIH0KCiAgdmFyIGMgPSBhOwogIGMuSU5URVJSVVBUX0FOWSA9ICJhbnkiLCBjLklOVEVSUlVQVF9FQVJMWSA9ICJlYXJseSIsIGMuSU5URVJSVVBUX0xBVEUgPSAibGF0ZSIsIGMuSU5URVJSVVBUX05PTkUgPSAibm9uZSIsIGMuUExBWV9JTklURUQgPSAicGxheUluaXRlZCIsIGMuUExBWV9TVUNDRUVERUQgPSAicGxheVN1Y2NlZWRlZCIsIGMuUExBWV9JTlRFUlJVUFRFRCA9ICJwbGF5SW50ZXJydXB0ZWQiLCBjLlBMQVlfRklOSVNIRUQgPSAicGxheUZpbmlzaGVkIiwgYy5QTEFZX0ZBSUxFRCA9ICJwbGF5RmFpbGVkIiwgYy5TVVBQT1JURURfRVhURU5TSU9OUyA9IFsibXAzIiwgIm9nZyIsICJvcHVzIiwgIm1wZWciLCAid2F2IiwgIm00YSIsICJtcDQiLCAiYWlmZiIsICJ3bWEiLCAibWlkIl0sIGMuRVhURU5TSU9OX01BUCA9IHsKICAgIG00YTogIm1wNCIKICB9LCBjLkZJTEVfUEFUVEVSTiA9IC9eKD86KFx3KzopXC97Mn0oXHcrKD86XC5cdyspKlwvPykpPyhbXC8uXSo/KD86W14/XSspP1wvKT8oKD86W15cLz9dKylcLihcdyspKSg/Olw/KFxTKyk/KT8kLywgYy5kZWZhdWx0SW50ZXJydXB0QmVoYXZpb3IgPSBjLklOVEVSUlVQVF9OT05FLCBjLmFsdGVybmF0ZUV4dGVuc2lvbnMgPSBbXSwgYy5hY3RpdmVQbHVnaW4gPSBudWxsLCBjLl9tYXN0ZXJWb2x1bWUgPSAxLCBjLl9nZXRNYXN0ZXJWb2x1bWUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fbWFzdGVyVm9sdW1lOwogIH0sIGMuZ2V0Vm9sdW1lID0gY3JlYXRlanMuZGVwcmVjYXRlKGMuX2dldE1hc3RlclZvbHVtZSwgIlNvdW5kLmdldFZvbHVtZSIpLCBjLl9zZXRNYXN0ZXJWb2x1bWUgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKG51bGwgIT0gTnVtYmVyKGEpICYmIChhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgYSkpLCBjLl9tYXN0ZXJWb2x1bWUgPSBhLCAhdGhpcy5hY3RpdmVQbHVnaW4gfHwgIXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZSB8fCAhdGhpcy5hY3RpdmVQbHVnaW4uc2V0Vm9sdW1lKGEpKSkgZm9yICh2YXIgYiA9IHRoaXMuX2luc3RhbmNlcywgZCA9IDAsIGUgPSBiLmxlbmd0aDsgZSA+IGQ7IGQrKykgewogICAgICBiW2RdLnNldE1hc3RlclZvbHVtZShhKTsKICAgIH0KICB9LCBjLnNldFZvbHVtZSA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShjLl9zZXRNYXN0ZXJWb2x1bWUsICJTb3VuZC5zZXRWb2x1bWUiKSwgYy5fbWFzdGVyTXV0ZSA9ICExLCBjLl9nZXRNdXRlID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX21hc3Rlck11dGU7CiAgfSwgYy5nZXRNdXRlID0gY3JlYXRlanMuZGVwcmVjYXRlKGMuX2dldE11dGUsICJTb3VuZC5nZXRNdXRlIiksIGMuX3NldE11dGUgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKG51bGwgIT0gYSAmJiAodGhpcy5fbWFzdGVyTXV0ZSA9IGEsICF0aGlzLmFjdGl2ZVBsdWdpbiB8fCAhdGhpcy5hY3RpdmVQbHVnaW4uc2V0TXV0ZSB8fCAhdGhpcy5hY3RpdmVQbHVnaW4uc2V0TXV0ZShhKSkpIGZvciAodmFyIGIgPSB0aGlzLl9pbnN0YW5jZXMsIGMgPSAwLCBkID0gYi5sZW5ndGg7IGQgPiBjOyBjKyspIHsKICAgICAgYltjXS5zZXRNYXN0ZXJNdXRlKGEpOwogICAgfQogIH0sIGMuc2V0TXV0ZSA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShjLl9zZXRNdXRlLCAiU291bmQuc2V0TXV0ZSIpLCBjLl9nZXRDYXBhYmlsaXRpZXMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbnVsbCA9PSBjLmFjdGl2ZVBsdWdpbiA/IG51bGwgOiBjLmFjdGl2ZVBsdWdpbi5fY2FwYWJpbGl0aWVzOwogIH0sIGMuZ2V0Q2FwYWJpbGl0aWVzID0gY3JlYXRlanMuZGVwcmVjYXRlKGMuX2dldENhcGFiaWxpdGllcywgIlNvdW5kLmdldENhcGFiaWxpdGllcyIpLCBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjLCB7CiAgICB2b2x1bWU6IHsKICAgICAgZ2V0OiBjLl9nZXRNYXN0ZXJWb2x1bWUsCiAgICAgIHNldDogYy5fc2V0TWFzdGVyVm9sdW1lCiAgICB9LAogICAgbXV0ZWQ6IHsKICAgICAgZ2V0OiBjLl9nZXRNdXRlLAogICAgICBzZXQ6IGMuX3NldE11dGUKICAgIH0sCiAgICBjYXBhYmlsaXRpZXM6IHsKICAgICAgZ2V0OiBjLl9nZXRDYXBhYmlsaXRpZXMKICAgIH0KICB9KSwgYy5fcGx1Z2luc1JlZ2lzdGVyZWQgPSAhMSwgYy5fbGFzdElEID0gMCwgYy5faW5zdGFuY2VzID0gW10sIGMuX2lkSGFzaCA9IHt9LCBjLl9wcmVsb2FkSGFzaCA9IHt9LCBjLl9kZWZhdWx0UGxheVByb3BzSGFzaCA9IHt9LCBjLmFkZEV2ZW50TGlzdGVuZXIgPSBudWxsLCBjLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBudWxsLCBjLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzID0gbnVsbCwgYy5kaXNwYXRjaEV2ZW50ID0gbnVsbCwgYy5oYXNFdmVudExpc3RlbmVyID0gbnVsbCwgYy5fbGlzdGVuZXJzID0gbnVsbCwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyLmluaXRpYWxpemUoYyksIGMuZ2V0UHJlbG9hZEhhbmRsZXJzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FsbGJhY2s6IGNyZWF0ZWpzLnByb3h5KGMuaW5pdExvYWQsIGMpLAogICAgICB0eXBlczogWyJzb3VuZCJdLAogICAgICBleHRlbnNpb25zOiBjLlNVUFBPUlRFRF9FWFRFTlNJT05TCiAgICB9OwogIH0sIGMuX2hhbmRsZUxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGEudGFyZ2V0LmdldEl0ZW0oKS5zcmM7CiAgICBpZiAoYy5fcHJlbG9hZEhhc2hbYl0pIGZvciAodmFyIGQgPSAwLCBlID0gYy5fcHJlbG9hZEhhc2hbYl0ubGVuZ3RoOyBlID4gZDsgZCsrKSB7CiAgICAgIHZhciBmID0gYy5fcHJlbG9hZEhhc2hbYl1bZF07CgogICAgICBpZiAoYy5fcHJlbG9hZEhhc2hbYl1bZF0gPSAhMCwgYy5oYXNFdmVudExpc3RlbmVyKCJmaWxlbG9hZCIpKSB7CiAgICAgICAgdmFyIGEgPSBuZXcgY3JlYXRlanMuRXZlbnQoImZpbGVsb2FkIik7CiAgICAgICAgYS5zcmMgPSBmLnNyYywgYS5pZCA9IGYuaWQsIGEuZGF0YSA9IGYuZGF0YSwgYS5zcHJpdGUgPSBmLnNwcml0ZSwgYy5kaXNwYXRjaEV2ZW50KGEpOwogICAgICB9CiAgICB9CiAgfSwgYy5faGFuZGxlTG9hZEVycm9yID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYS50YXJnZXQuZ2V0SXRlbSgpLnNyYzsKICAgIGlmIChjLl9wcmVsb2FkSGFzaFtiXSkgZm9yICh2YXIgZCA9IDAsIGUgPSBjLl9wcmVsb2FkSGFzaFtiXS5sZW5ndGg7IGUgPiBkOyBkKyspIHsKICAgICAgdmFyIGYgPSBjLl9wcmVsb2FkSGFzaFtiXVtkXTsKCiAgICAgIGlmIChjLl9wcmVsb2FkSGFzaFtiXVtkXSA9ICExLCBjLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVlcnJvciIpKSB7CiAgICAgICAgdmFyIGEgPSBuZXcgY3JlYXRlanMuRXZlbnQoImZpbGVlcnJvciIpOwogICAgICAgIGEuc3JjID0gZi5zcmMsIGEuaWQgPSBmLmlkLCBhLmRhdGEgPSBmLmRhdGEsIGEuc3ByaXRlID0gZi5zcHJpdGUsIGMuZGlzcGF0Y2hFdmVudChhKTsKICAgICAgfQogICAgfQogIH0sIGMuX3JlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhLmlzU3VwcG9ydGVkKCkgPyAoYy5hY3RpdmVQbHVnaW4gPSBuZXcgYSgpLCAhMCkgOiAhMTsKICB9LCBjLnJlZ2lzdGVyUGx1Z2lucyA9IGZ1bmN0aW9uIChhKSB7CiAgICBjLl9wbHVnaW5zUmVnaXN0ZXJlZCA9ICEwOwoKICAgIGZvciAodmFyIGIgPSAwLCBkID0gYS5sZW5ndGg7IGQgPiBiOyBiKyspIHsKICAgICAgaWYgKGMuX3JlZ2lzdGVyUGx1Z2luKGFbYl0pKSByZXR1cm4gITA7CiAgICB9CgogICAgcmV0dXJuICExOwogIH0sIGMuaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG51bGwgIT0gYy5hY3RpdmVQbHVnaW4gPyAhMCA6IGMuX3BsdWdpbnNSZWdpc3RlcmVkID8gITEgOiBjLnJlZ2lzdGVyUGx1Z2lucyhbY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4sIGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbl0pID8gITAgOiAhMTsKICB9LCBjLmlzUmVhZHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbnVsbCAhPSBjLmFjdGl2ZVBsdWdpbjsKICB9LCBjLmluaXRMb2FkID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiAidmlkZW8iID09IGEudHlwZSA/ICEwIDogYy5fcmVnaXN0ZXJTb3VuZChhKTsKICB9LCBjLl9yZWdpc3RlclNvdW5kID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmICghYy5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSkgcmV0dXJuICExOwogICAgdmFyIGQ7CiAgICBpZiAoYS5zcmMgaW5zdGFuY2VvZiBPYmplY3QgPyAoZCA9IGMuX3BhcnNlU3JjKGEuc3JjKSwgZC5zcmMgPSBhLnBhdGggKyBkLnNyYykgOiBkID0gYy5fcGFyc2VQYXRoKGEuc3JjKSwgbnVsbCA9PSBkKSByZXR1cm4gITE7CiAgICBhLnNyYyA9IGQuc3JjLCBhLnR5cGUgPSAic291bmQiOwogICAgdmFyIGUgPSBhLmRhdGEsCiAgICAgICAgZiA9IG51bGw7CiAgICBpZiAobnVsbCAhPSBlICYmIChpc05hTihlLmNoYW5uZWxzKSA/IGlzTmFOKGUpIHx8IChmID0gcGFyc2VJbnQoZSkpIDogZiA9IHBhcnNlSW50KGUuY2hhbm5lbHMpLCBlLmF1ZGlvU3ByaXRlKSkgZm9yICh2YXIgZywgaCA9IGUuYXVkaW9TcHJpdGUubGVuZ3RoOyBoLS07KSB7CiAgICAgIGcgPSBlLmF1ZGlvU3ByaXRlW2hdLCBjLl9pZEhhc2hbZy5pZF0gPSB7CiAgICAgICAgc3JjOiBhLnNyYywKICAgICAgICBzdGFydFRpbWU6IHBhcnNlSW50KGcuc3RhcnRUaW1lKSwKICAgICAgICBkdXJhdGlvbjogcGFyc2VJbnQoZy5kdXJhdGlvbikKICAgICAgfSwgZy5kZWZhdWx0UGxheVByb3BzICYmIChjLl9kZWZhdWx0UGxheVByb3BzSGFzaFtnLmlkXSA9IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUoZy5kZWZhdWx0UGxheVByb3BzKSk7CiAgICB9CiAgICBudWxsICE9IGEuaWQgJiYgKGMuX2lkSGFzaFthLmlkXSA9IHsKICAgICAgc3JjOiBhLnNyYwogICAgfSk7CiAgICB2YXIgaSA9IGMuYWN0aXZlUGx1Z2luLnJlZ2lzdGVyKGEpOwogICAgcmV0dXJuIGIuY3JlYXRlKGEuc3JjLCBmKSwgbnVsbCAhPSBlICYmIGlzTmFOKGUpID8gYS5kYXRhLmNoYW5uZWxzID0gZiB8fCBiLm1heFBlckNoYW5uZWwoKSA6IGEuZGF0YSA9IGYgfHwgYi5tYXhQZXJDaGFubmVsKCksIGkudHlwZSAmJiAoYS50eXBlID0gaS50eXBlKSwgYS5kZWZhdWx0UGxheVByb3BzICYmIChjLl9kZWZhdWx0UGxheVByb3BzSGFzaFthLnNyY10gPSBjcmVhdGVqcy5QbGF5UHJvcHNDb25maWcuY3JlYXRlKGEuZGVmYXVsdFBsYXlQcm9wcykpLCBpOwogIH0sIGMucmVnaXN0ZXJTb3VuZCA9IGZ1bmN0aW9uIChhLCBiLCBkLCBlLCBmKSB7CiAgICB2YXIgZyA9IHsKICAgICAgc3JjOiBhLAogICAgICBpZDogYiwKICAgICAgZGF0YTogZCwKICAgICAgZGVmYXVsdFBsYXlQcm9wczogZgogICAgfTsKICAgIGEgaW5zdGFuY2VvZiBPYmplY3QgJiYgYS5zcmMgJiYgKGUgPSBiLCBnID0gYSksIGcgPSBjcmVhdGVqcy5Mb2FkSXRlbS5jcmVhdGUoZyksIGcucGF0aCA9IGUsIG51bGwgPT0gZSB8fCBnLnNyYyBpbnN0YW5jZW9mIE9iamVjdCB8fCAoZy5zcmMgPSBlICsgZy5zcmMpOwoKICAgIHZhciBoID0gYy5fcmVnaXN0ZXJTb3VuZChnKTsKCiAgICBpZiAoIWgpIHJldHVybiAhMTsKICAgIGlmIChjLl9wcmVsb2FkSGFzaFtnLnNyY10gfHwgKGMuX3ByZWxvYWRIYXNoW2cuc3JjXSA9IFtdKSwgYy5fcHJlbG9hZEhhc2hbZy5zcmNdLnB1c2goZyksIDEgPT0gYy5fcHJlbG9hZEhhc2hbZy5zcmNdLmxlbmd0aCkgaC5vbigiY29tcGxldGUiLCB0aGlzLl9oYW5kbGVMb2FkQ29tcGxldGUsIHRoaXMpLCBoLm9uKCJlcnJvciIsIHRoaXMuX2hhbmRsZUxvYWRFcnJvciwgdGhpcyksIGMuYWN0aXZlUGx1Z2luLnByZWxvYWQoaCk7ZWxzZSBpZiAoMSA9PSBjLl9wcmVsb2FkSGFzaFtnLnNyY11bMF0pIHJldHVybiAhMDsKICAgIHJldHVybiBnOwogIH0sIGMucmVnaXN0ZXJTb3VuZHMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSBbXTsKICAgIGEucGF0aCAmJiAoYiA/IGIgKz0gYS5wYXRoIDogYiA9IGEucGF0aCwgYSA9IGEubWFuaWZlc3QpOwoKICAgIGZvciAodmFyIGQgPSAwLCBlID0gYS5sZW5ndGg7IGUgPiBkOyBkKyspIHsKICAgICAgY1tkXSA9IGNyZWF0ZWpzLlNvdW5kLnJlZ2lzdGVyU291bmQoYVtkXS5zcmMsIGFbZF0uaWQsIGFbZF0uZGF0YSwgYiwgYVtkXS5kZWZhdWx0UGxheVByb3BzKTsKICAgIH0KCiAgICByZXR1cm4gYzsKICB9LCBjLnJlbW92ZVNvdW5kID0gZnVuY3Rpb24gKGEsIGQpIHsKICAgIGlmIChudWxsID09IGMuYWN0aXZlUGx1Z2luKSByZXR1cm4gITE7CiAgICBhIGluc3RhbmNlb2YgT2JqZWN0ICYmIGEuc3JjICYmIChhID0gYS5zcmMpOwogICAgdmFyIGU7CiAgICBpZiAoYSBpbnN0YW5jZW9mIE9iamVjdCA/IGUgPSBjLl9wYXJzZVNyYyhhKSA6IChhID0gYy5fZ2V0U3JjQnlJZChhKS5zcmMsIGUgPSBjLl9wYXJzZVBhdGgoYSkpLCBudWxsID09IGUpIHJldHVybiAhMTsKICAgIGEgPSBlLnNyYywgbnVsbCAhPSBkICYmIChhID0gZCArIGEpOwoKICAgIGZvciAodmFyIGYgaW4gYy5faWRIYXNoKSB7CiAgICAgIGMuX2lkSGFzaFtmXS5zcmMgPT0gYSAmJiBkZWxldGUgYy5faWRIYXNoW2ZdOwogICAgfQoKICAgIHJldHVybiBiLnJlbW92ZVNyYyhhKSwgZGVsZXRlIGMuX3ByZWxvYWRIYXNoW2FdLCBjLmFjdGl2ZVBsdWdpbi5yZW1vdmVTb3VuZChhKSwgITA7CiAgfSwgYy5yZW1vdmVTb3VuZHMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSBbXTsKICAgIGEucGF0aCAmJiAoYiA/IGIgKz0gYS5wYXRoIDogYiA9IGEucGF0aCwgYSA9IGEubWFuaWZlc3QpOwoKICAgIGZvciAodmFyIGQgPSAwLCBlID0gYS5sZW5ndGg7IGUgPiBkOyBkKyspIHsKICAgICAgY1tkXSA9IGNyZWF0ZWpzLlNvdW5kLnJlbW92ZVNvdW5kKGFbZF0uc3JjLCBiKTsKICAgIH0KCiAgICByZXR1cm4gYzsKICB9LCBjLnJlbW92ZUFsbFNvdW5kcyA9IGZ1bmN0aW9uICgpIHsKICAgIGMuX2lkSGFzaCA9IHt9LCBjLl9wcmVsb2FkSGFzaCA9IHt9LCBiLnJlbW92ZUFsbCgpLCBjLmFjdGl2ZVBsdWdpbiAmJiBjLmFjdGl2ZVBsdWdpbi5yZW1vdmVBbGxTb3VuZHMoKTsKICB9LCBjLmxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoIWMuaXNSZWFkeSgpKSByZXR1cm4gITE7CgogICAgdmFyIGIgPSBjLl9wYXJzZVBhdGgoYSk7CgogICAgcmV0dXJuIGEgPSBiID8gYy5fZ2V0U3JjQnlJZChiLnNyYykuc3JjIDogYy5fZ2V0U3JjQnlJZChhKS5zcmMsIHZvaWQgMCA9PSBjLl9wcmVsb2FkSGFzaFthXSA/ICExIDogMSA9PSBjLl9wcmVsb2FkSGFzaFthXVswXTsKICB9LCBjLl9wYXJzZVBhdGggPSBmdW5jdGlvbiAoYSkgewogICAgInN0cmluZyIgIT0gdHlwZW9mIGEgJiYgKGEgPSBhLnRvU3RyaW5nKCkpOwogICAgdmFyIGIgPSBhLm1hdGNoKGMuRklMRV9QQVRURVJOKTsKICAgIGlmIChudWxsID09IGIpIHJldHVybiAhMTsKCiAgICBmb3IgKHZhciBkID0gYls0XSwgZSA9IGJbNV0sIGYgPSBjLmNhcGFiaWxpdGllcywgZyA9IDA7ICFmW2VdOykgewogICAgICBpZiAoZSA9IGMuYWx0ZXJuYXRlRXh0ZW5zaW9uc1tnKytdLCBnID4gYy5hbHRlcm5hdGVFeHRlbnNpb25zLmxlbmd0aCkgcmV0dXJuIG51bGw7CiAgICB9CgogICAgYSA9IGEucmVwbGFjZSgiLiIgKyBiWzVdLCAiLiIgKyBlKTsKICAgIHZhciBoID0gewogICAgICBuYW1lOiBkLAogICAgICBzcmM6IGEsCiAgICAgIGV4dGVuc2lvbjogZQogICAgfTsKICAgIHJldHVybiBoOwogIH0sIGMuX3BhcnNlU3JjID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gewogICAgICBuYW1lOiB2b2lkIDAsCiAgICAgIHNyYzogdm9pZCAwLAogICAgICBleHRlbnNpb246IHZvaWQgMAogICAgfSwKICAgICAgICBkID0gYy5jYXBhYmlsaXRpZXM7CgogICAgZm9yICh2YXIgZSBpbiBhKSB7CiAgICAgIGlmIChhLmhhc093blByb3BlcnR5KGUpICYmIGRbZV0pIHsKICAgICAgICBiLnNyYyA9IGFbZV0sIGIuZXh0ZW5zaW9uID0gZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmICghYi5zcmMpIHJldHVybiAhMTsKICAgIHZhciBmID0gYi5zcmMubGFzdEluZGV4T2YoIi8iKTsKICAgIHJldHVybiAtMSAhPSBmID8gYi5uYW1lID0gYi5zcmMuc2xpY2UoZiArIDEpIDogYi5uYW1lID0gYi5zcmMsIGI7CiAgfSwgYy5wbGF5ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBkID0gY3JlYXRlanMuUGxheVByb3BzQ29uZmlnLmNyZWF0ZShiKSwKICAgICAgICBlID0gYy5jcmVhdGVJbnN0YW5jZShhLCBkLnN0YXJ0VGltZSwgZC5kdXJhdGlvbiksCiAgICAgICAgZiA9IGMuX3BsYXlJbnN0YW5jZShlLCBkKTsKCiAgICByZXR1cm4gZiB8fCBlLl9wbGF5RmFpbGVkKCksIGU7CiAgfSwgYy5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIChhLCBkLCBlKSB7CiAgICBpZiAoIWMuaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zKCkpIHJldHVybiBuZXcgY3JlYXRlanMuRGVmYXVsdFNvdW5kSW5zdGFuY2UoYSwgZCwgZSk7CiAgICB2YXIgZiA9IGMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW2FdOwogICAgYSA9IGMuX2dldFNyY0J5SWQoYSk7CgogICAgdmFyIGcgPSBjLl9wYXJzZVBhdGgoYS5zcmMpLAogICAgICAgIGggPSBudWxsOwoKICAgIHJldHVybiBudWxsICE9IGcgJiYgbnVsbCAhPSBnLnNyYyA/IChiLmNyZWF0ZShnLnNyYyksIG51bGwgPT0gZCAmJiAoZCA9IGEuc3RhcnRUaW1lKSwgaCA9IGMuYWN0aXZlUGx1Z2luLmNyZWF0ZShnLnNyYywgZCwgZSB8fCBhLmR1cmF0aW9uKSwgZiA9IGYgfHwgYy5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbZy5zcmNdLCBmICYmIGguYXBwbHlQbGF5UHJvcHMoZikpIDogaCA9IG5ldyBjcmVhdGVqcy5EZWZhdWx0U291bmRJbnN0YW5jZShhLCBkLCBlKSwgaC51bmlxdWVJZCA9IGMuX2xhc3RJRCsrLCBoOwogIH0sIGMuc3RvcCA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGEgPSB0aGlzLl9pbnN0YW5jZXMsIGIgPSBhLmxlbmd0aDsgYi0tOykgewogICAgICBhW2JdLnN0b3AoKTsKICAgIH0KICB9LCBjLnNldERlZmF1bHRQbGF5UHJvcHMgPSBmdW5jdGlvbiAoYSwgYikgewogICAgYSA9IGMuX2dldFNyY0J5SWQoYSksIGMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW2MuX3BhcnNlUGF0aChhLnNyYykuc3JjXSA9IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUoYik7CiAgfSwgYy5nZXREZWZhdWx0UGxheVByb3BzID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhID0gYy5fZ2V0U3JjQnlJZChhKSwgYy5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbYy5fcGFyc2VQYXRoKGEuc3JjKS5zcmNdOwogIH0sIGMuX3BsYXlJbnN0YW5jZSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICB2YXIgZCA9IGMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW2Euc3JjXSB8fCB7fTsKCiAgICBpZiAobnVsbCA9PSBiLmludGVycnVwdCAmJiAoYi5pbnRlcnJ1cHQgPSBkLmludGVycnVwdCB8fCBjLmRlZmF1bHRJbnRlcnJ1cHRCZWhhdmlvciksIG51bGwgPT0gYi5kZWxheSAmJiAoYi5kZWxheSA9IGQuZGVsYXkgfHwgMCksIG51bGwgPT0gYi5vZmZzZXQgJiYgKGIub2Zmc2V0ID0gYS5wb3NpdGlvbiksIG51bGwgPT0gYi5sb29wICYmIChiLmxvb3AgPSBhLmxvb3ApLCBudWxsID09IGIudm9sdW1lICYmIChiLnZvbHVtZSA9IGEudm9sdW1lKSwgbnVsbCA9PSBiLnBhbiAmJiAoYi5wYW4gPSBhLnBhbiksIDAgPT0gYi5kZWxheSkgewogICAgICB2YXIgZSA9IGMuX2JlZ2luUGxheWluZyhhLCBiKTsKCiAgICAgIGlmICghZSkgcmV0dXJuICExOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjLl9iZWdpblBsYXlpbmcoYSwgYik7CiAgICAgIH0sIGIuZGVsYXkpOwogICAgICBhLmRlbGF5VGltZW91dElkID0gZjsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VzLnB1c2goYSksICEwOwogIH0sIGMuX2JlZ2luUGxheWluZyA9IGZ1bmN0aW9uIChhLCBjKSB7CiAgICBpZiAoIWIuYWRkKGEsIGMuaW50ZXJydXB0KSkgcmV0dXJuICExOwoKICAgIHZhciBkID0gYS5fYmVnaW5QbGF5aW5nKGMpOwoKICAgIGlmICghZCkgewogICAgICB2YXIgZSA9IGNyZWF0ZWpzLmluZGV4T2YodGhpcy5faW5zdGFuY2VzLCBhKTsKICAgICAgcmV0dXJuIGUgPiAtMSAmJiB0aGlzLl9pbnN0YW5jZXMuc3BsaWNlKGUsIDEpLCAhMTsKICAgIH0KCiAgICByZXR1cm4gITA7CiAgfSwgYy5fZ2V0U3JjQnlJZCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYy5faWRIYXNoW2FdIHx8IHsKICAgICAgc3JjOiBhCiAgICB9OwogIH0sIGMuX3BsYXlGaW5pc2hlZCA9IGZ1bmN0aW9uIChhKSB7CiAgICBiLnJlbW92ZShhKTsKICAgIHZhciBjID0gY3JlYXRlanMuaW5kZXhPZih0aGlzLl9pbnN0YW5jZXMsIGEpOwogICAgYyA+IC0xICYmIHRoaXMuX2luc3RhbmNlcy5zcGxpY2UoYywgMSk7CiAgfSwgY3JlYXRlanMuU291bmQgPSBhLCBiLmNoYW5uZWxzID0ge30sIGIuY3JlYXRlID0gZnVuY3Rpb24gKGEsIGMpIHsKICAgIHZhciBkID0gYi5nZXQoYSk7CiAgICByZXR1cm4gbnVsbCA9PSBkID8gKGIuY2hhbm5lbHNbYV0gPSBuZXcgYihhLCBjKSwgITApIDogITE7CiAgfSwgYi5yZW1vdmVTcmMgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGMgPSBiLmdldChhKTsKICAgIHJldHVybiBudWxsID09IGMgPyAhMSA6IChjLl9yZW1vdmVBbGwoKSwgZGVsZXRlIGIuY2hhbm5lbHNbYV0sICEwKTsKICB9LCBiLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGEgaW4gYi5jaGFubmVscykgewogICAgICBiLmNoYW5uZWxzW2FdLl9yZW1vdmVBbGwoKTsKICAgIH0KCiAgICBiLmNoYW5uZWxzID0ge307CiAgfSwgYi5hZGQgPSBmdW5jdGlvbiAoYSwgYykgewogICAgdmFyIGQgPSBiLmdldChhLnNyYyk7CiAgICByZXR1cm4gbnVsbCA9PSBkID8gITEgOiBkLl9hZGQoYSwgYyk7CiAgfSwgYi5yZW1vdmUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGMgPSBiLmdldChhLnNyYyk7CiAgICByZXR1cm4gbnVsbCA9PSBjID8gITEgOiAoYy5fcmVtb3ZlKGEpLCAhMCk7CiAgfSwgYi5tYXhQZXJDaGFubmVsID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGQubWF4RGVmYXVsdDsKICB9LCBiLmdldCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYi5jaGFubmVsc1thXTsKICB9OwogIHZhciBkID0gYi5wcm90b3R5cGU7CiAgZC5jb25zdHJ1Y3RvciA9IGIsIGQuc3JjID0gbnVsbCwgZC5tYXggPSBudWxsLCBkLm1heERlZmF1bHQgPSAxMDAsIGQubGVuZ3RoID0gMCwgZC5pbml0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHRoaXMuc3JjID0gYSwgdGhpcy5tYXggPSBiIHx8IHRoaXMubWF4RGVmYXVsdCwgLTEgPT0gdGhpcy5tYXggJiYgKHRoaXMubWF4ID0gdGhpcy5tYXhEZWZhdWx0KSwgdGhpcy5faW5zdGFuY2VzID0gW107CiAgfSwgZC5fZ2V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZXNbYV07CiAgfSwgZC5fYWRkID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiB0aGlzLl9nZXRTbG90KGIsIGEpID8gKHRoaXMuX2luc3RhbmNlcy5wdXNoKGEpLCB0aGlzLmxlbmd0aCsrLCAhMCkgOiAhMTsKICB9LCBkLl9yZW1vdmUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBjcmVhdGVqcy5pbmRleE9mKHRoaXMuX2luc3RhbmNlcywgYSk7CiAgICByZXR1cm4gLTEgPT0gYiA/ICExIDogKHRoaXMuX2luc3RhbmNlcy5zcGxpY2UoYiwgMSksIHRoaXMubGVuZ3RoLS0sICEwKTsKICB9LCBkLl9yZW1vdmVBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBhID0gdGhpcy5sZW5ndGggLSAxOyBhID49IDA7IGEtLSkgewogICAgICB0aGlzLl9pbnN0YW5jZXNbYV0uc3RvcCgpOwogICAgfQogIH0sIGQuX2dldFNsb3QgPSBmdW5jdGlvbiAoYiwgYykgewogICAgdmFyIGQsIGU7CiAgICBpZiAoYiAhPSBhLklOVEVSUlVQVF9OT05FICYmIChlID0gdGhpcy5fZ2V0KDApLCBudWxsID09IGUpKSByZXR1cm4gITA7CgogICAgZm9yICh2YXIgZiA9IDAsIGcgPSB0aGlzLm1heDsgZyA+IGY7IGYrKykgewogICAgICBpZiAoZCA9IHRoaXMuX2dldChmKSwgbnVsbCA9PSBkKSByZXR1cm4gITA7CgogICAgICBpZiAoZC5wbGF5U3RhdGUgPT0gYS5QTEFZX0ZJTklTSEVEIHx8IGQucGxheVN0YXRlID09IGEuUExBWV9JTlRFUlJVUFRFRCB8fCBkLnBsYXlTdGF0ZSA9PSBhLlBMQVlfRkFJTEVEKSB7CiAgICAgICAgZSA9IGQ7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGIgIT0gYS5JTlRFUlJVUFRfTk9ORSAmJiAoYiA9PSBhLklOVEVSUlVQVF9FQVJMWSAmJiBkLnBvc2l0aW9uIDwgZS5wb3NpdGlvbiB8fCBiID09IGEuSU5URVJSVVBUX0xBVEUgJiYgZC5wb3NpdGlvbiA+IGUucG9zaXRpb24pICYmIChlID0gZCk7CiAgICB9CgogICAgcmV0dXJuIG51bGwgIT0gZSA/IChlLl9pbnRlcnJ1cHQoKSwgdGhpcy5fcmVtb3ZlKGUpLCAhMCkgOiAhMTsKICB9LCBkLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbU291bmQgU291bmRDaGFubmVsXSI7CiAgfTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIGEgPSBmdW5jdGlvbiBhKF9hMiwgYiwgYywgZCkgewogICAgdGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKSwgdGhpcy5zcmMgPSBfYTIsIHRoaXMudW5pcXVlSWQgPSAtMSwgdGhpcy5wbGF5U3RhdGUgPSBudWxsLCB0aGlzLmRlbGF5VGltZW91dElkID0gbnVsbCwgdGhpcy5fdm9sdW1lID0gMSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJ2b2x1bWUiLCB7CiAgICAgIGdldDogdGhpcy5fZ2V0Vm9sdW1lLAogICAgICBzZXQ6IHRoaXMuX3NldFZvbHVtZQogICAgfSksIHRoaXMuZ2V0Vm9sdW1lID0gY3JlYXRlanMuZGVwcmVjYXRlKHRoaXMuX2dldFZvbHVtZSwgIkFic3RyYWN0U291bmRJbnN0YW5jZS5nZXRWb2x1bWUiKSwgdGhpcy5zZXRWb2x1bWUgPSBjcmVhdGVqcy5kZXByZWNhdGUodGhpcy5fc2V0Vm9sdW1lLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlLnNldFZvbHVtZSIpLCB0aGlzLl9wYW4gPSAwLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgInBhbiIsIHsKICAgICAgZ2V0OiB0aGlzLl9nZXRQYW4sCiAgICAgIHNldDogdGhpcy5fc2V0UGFuCiAgICB9KSwgdGhpcy5nZXRQYW4gPSBjcmVhdGVqcy5kZXByZWNhdGUodGhpcy5fZ2V0UGFuLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlLmdldFBhbiIpLCB0aGlzLnNldFBhbiA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9zZXRQYW4sICJBYnN0cmFjdFNvdW5kSW5zdGFuY2Uuc2V0UGFuIiksIHRoaXMuX3N0YXJ0VGltZSA9IE1hdGgubWF4KDAsIGIgfHwgMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3RhcnRUaW1lIiwgewogICAgICBnZXQ6IHRoaXMuX2dldFN0YXJ0VGltZSwKICAgICAgc2V0OiB0aGlzLl9zZXRTdGFydFRpbWUKICAgIH0pLCB0aGlzLmdldFN0YXJ0VGltZSA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9nZXRTdGFydFRpbWUsICJBYnN0cmFjdFNvdW5kSW5zdGFuY2UuZ2V0U3RhcnRUaW1lIiksIHRoaXMuc2V0U3RhcnRUaW1lID0gY3JlYXRlanMuZGVwcmVjYXRlKHRoaXMuX3NldFN0YXJ0VGltZSwgIkFic3RyYWN0U291bmRJbnN0YW5jZS5zZXRTdGFydFRpbWUiKSwgdGhpcy5fZHVyYXRpb24gPSBNYXRoLm1heCgwLCBjIHx8IDApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgImR1cmF0aW9uIiwgewogICAgICBnZXQ6IHRoaXMuX2dldER1cmF0aW9uLAogICAgICBzZXQ6IHRoaXMuX3NldER1cmF0aW9uCiAgICB9KSwgdGhpcy5nZXREdXJhdGlvbiA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9nZXREdXJhdGlvbiwgIkFic3RyYWN0U291bmRJbnN0YW5jZS5nZXREdXJhdGlvbiIpLCB0aGlzLnNldER1cmF0aW9uID0gY3JlYXRlanMuZGVwcmVjYXRlKHRoaXMuX3NldER1cmF0aW9uLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlLnNldER1cmF0aW9uIiksIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UgPSBudWxsLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgInBsYXliYWNrUmVzb3VyY2UiLCB7CiAgICAgIGdldDogdGhpcy5fZ2V0UGxheWJhY2tSZXNvdXJjZSwKICAgICAgc2V0OiB0aGlzLl9zZXRQbGF5YmFja1Jlc291cmNlCiAgICB9KSwgZCAhPT0gITEgJiYgZCAhPT0gITAgJiYgdGhpcy5fc2V0UGxheWJhY2tSZXNvdXJjZShkKSwgdGhpcy5nZXRQbGF5YmFja1Jlc291cmNlID0gY3JlYXRlanMuZGVwcmVjYXRlKHRoaXMuX2dldFBsYXliYWNrUmVzb3VyY2UsICJBYnN0cmFjdFNvdW5kSW5zdGFuY2UuZ2V0UGxheWJhY2tSZXNvdXJjZSIpLCB0aGlzLnNldFBsYXliYWNrUmVzb3VyY2UgPSBjcmVhdGVqcy5kZXByZWNhdGUodGhpcy5fc2V0UGxheWJhY2tSZXNvdXJjZSwgIkFic3RyYWN0U291bmRJbnN0YW5jZS5zZXRQbGF5YmFja1Jlc291cmNlIiksIHRoaXMuX3Bvc2l0aW9uID0gMCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJwb3NpdGlvbiIsIHsKICAgICAgZ2V0OiB0aGlzLl9nZXRQb3NpdGlvbiwKICAgICAgc2V0OiB0aGlzLl9zZXRQb3NpdGlvbgogICAgfSksIHRoaXMuZ2V0UG9zaXRpb24gPSBjcmVhdGVqcy5kZXByZWNhdGUodGhpcy5fZ2V0UG9zaXRpb24sICJBYnN0cmFjdFNvdW5kSW5zdGFuY2UuZ2V0UG9zaXRpb24iKSwgdGhpcy5zZXRQb3NpdGlvbiA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9zZXRQb3NpdGlvbiwgIkFic3RyYWN0U291bmRJbnN0YW5jZS5zZXRQb3NpdGlvbiIpLCB0aGlzLl9sb29wID0gMCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJsb29wIiwgewogICAgICBnZXQ6IHRoaXMuX2dldExvb3AsCiAgICAgIHNldDogdGhpcy5fc2V0TG9vcAogICAgfSksIHRoaXMuZ2V0TG9vcCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9nZXRMb29wLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlLmdldExvb3AiKSwgdGhpcy5zZXRMb29wID0gY3JlYXRlanMuZGVwcmVjYXRlKHRoaXMuX3NldExvb3AsICJBYnN0cmFjdFNvdW5kSW5zdGFuY2Uuc2V0TG9vcCIpLCB0aGlzLl9tdXRlZCA9ICExLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgIm11dGVkIiwgewogICAgICBnZXQ6IHRoaXMuX2dldE11dGVkLAogICAgICBzZXQ6IHRoaXMuX3NldE11dGVkCiAgICB9KSwgdGhpcy5nZXRNdXRlZCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9nZXRNdXRlZCwgIkFic3RyYWN0U291bmRJbnN0YW5jZS5nZXRNdXRlZCIpLCB0aGlzLnNldE11dGVkID0gY3JlYXRlanMuZGVwcmVjYXRlKHRoaXMuX3NldE11dGVkLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlLnNldE11dGVkIiksIHRoaXMuX3BhdXNlZCA9ICExLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgInBhdXNlZCIsIHsKICAgICAgZ2V0OiB0aGlzLl9nZXRQYXVzZWQsCiAgICAgIHNldDogdGhpcy5fc2V0UGF1c2VkCiAgICB9KSwgdGhpcy5nZXRQYXVzZWQgPSBjcmVhdGVqcy5kZXByZWNhdGUodGhpcy5fZ2V0UGF1c2VkLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlLmdldFBhdXNlZCIpLCB0aGlzLnNldFBhdXNlZCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZSh0aGlzLl9zZXRQYXVzZWQsICJBYnN0cmFjdFNvdW5kSW5zdGFuY2Uuc2V0UGF1c2VkIik7CiAgfSwKICAgICAgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpOwoKICBiLnBsYXkgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBjcmVhdGVqcy5QbGF5UHJvcHNDb25maWcuY3JlYXRlKGEpOwogICAgcmV0dXJuIHRoaXMucGxheVN0YXRlID09IGNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVEID8gKHRoaXMuYXBwbHlQbGF5UHJvcHMoYiksIHZvaWQgKHRoaXMuX3BhdXNlZCAmJiB0aGlzLl9zZXRQYXVzZWQoITEpKSkgOiAodGhpcy5fY2xlYW5VcCgpLCBjcmVhdGVqcy5Tb3VuZC5fcGxheUluc3RhbmNlKHRoaXMsIGIpLCB0aGlzKTsKICB9LCBiLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb24gPSAwLCB0aGlzLl9wYXVzZWQgPSAhMSwgdGhpcy5faGFuZGxlU3RvcCgpLCB0aGlzLl9jbGVhblVwKCksIHRoaXMucGxheVN0YXRlID0gY3JlYXRlanMuU291bmQuUExBWV9GSU5JU0hFRCwgdGhpczsKICB9LCBiLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9jbGVhblVwKCksIHRoaXMuc3JjID0gbnVsbCwgdGhpcy5wbGF5YmFja1Jlc291cmNlID0gbnVsbCwgdGhpcy5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpOwogIH0sIGIuYXBwbHlQbGF5UHJvcHMgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIG51bGwgIT0gYS5vZmZzZXQgJiYgdGhpcy5fc2V0UG9zaXRpb24oYS5vZmZzZXQpLCBudWxsICE9IGEubG9vcCAmJiB0aGlzLl9zZXRMb29wKGEubG9vcCksIG51bGwgIT0gYS52b2x1bWUgJiYgdGhpcy5fc2V0Vm9sdW1lKGEudm9sdW1lKSwgbnVsbCAhPSBhLnBhbiAmJiB0aGlzLl9zZXRQYW4oYS5wYW4pLCBudWxsICE9IGEuc3RhcnRUaW1lICYmICh0aGlzLl9zZXRTdGFydFRpbWUoYS5zdGFydFRpbWUpLCB0aGlzLl9zZXREdXJhdGlvbihhLmR1cmF0aW9uKSksIHRoaXM7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0Fic3RyYWN0U291bmRJbnN0YW5jZV0iOwogIH0sIGIuX2dldFBhdXNlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9wYXVzZWQ7CiAgfSwgYi5fc2V0UGF1c2VkID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhICE9PSAhMCAmJiBhICE9PSAhMSB8fCB0aGlzLl9wYXVzZWQgPT0gYSB8fCAxID09IGEgJiYgdGhpcy5wbGF5U3RhdGUgIT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQgPyB2b2lkIDAgOiAodGhpcy5fcGF1c2VkID0gYSwgYSA/IHRoaXMuX3BhdXNlKCkgOiB0aGlzLl9yZXN1bWUoKSwgY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlUaW1lb3V0SWQpLCB0aGlzKTsKICB9LCBiLl9zZXRWb2x1bWUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEgPT0gdGhpcy5fdm9sdW1lID8gdGhpcyA6ICh0aGlzLl92b2x1bWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBhKSksIHRoaXMuX211dGVkIHx8IHRoaXMuX3VwZGF0ZVZvbHVtZSgpLCB0aGlzKTsKICB9LCBiLl9nZXRWb2x1bWUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fdm9sdW1lOwogIH0sIGIuX3NldE11dGVkID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhID09PSAhMCB8fCBhID09PSAhMSA/ICh0aGlzLl9tdXRlZCA9IGEsIHRoaXMuX3VwZGF0ZVZvbHVtZSgpLCB0aGlzKSA6IHZvaWQgMDsKICB9LCBiLl9nZXRNdXRlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9tdXRlZDsKICB9LCBiLl9zZXRQYW4gPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGEgPT0gdGhpcy5fcGFuID8gdGhpcyA6ICh0aGlzLl9wYW4gPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgYSkpLCB0aGlzLl91cGRhdGVQYW4oKSwgdGhpcyk7CiAgfSwgYi5fZ2V0UGFuID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX3BhbjsKICB9LCBiLl9nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9wYXVzZWQgfHwgdGhpcy5wbGF5U3RhdGUgIT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQgfHwgKHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fY2FsY3VsYXRlQ3VycmVudFBvc2l0aW9uKCkpLCB0aGlzLl9wb3NpdGlvbjsKICB9LCBiLl9zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb24gPSBNYXRoLm1heCgwLCBhKSwgdGhpcy5wbGF5U3RhdGUgPT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQgJiYgdGhpcy5fdXBkYXRlUG9zaXRpb24oKSwgdGhpczsKICB9LCBiLl9nZXRTdGFydFRpbWUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fc3RhcnRUaW1lOwogIH0sIGIuX3NldFN0YXJ0VGltZSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYSA9PSB0aGlzLl9zdGFydFRpbWUgPyB0aGlzIDogKHRoaXMuX3N0YXJ0VGltZSA9IE1hdGgubWF4KDAsIGEgfHwgMCksIHRoaXMuX3VwZGF0ZVN0YXJ0VGltZSgpLCB0aGlzKTsKICB9LCBiLl9nZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9kdXJhdGlvbjsKICB9LCBiLl9zZXREdXJhdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gYSA9PSB0aGlzLl9kdXJhdGlvbiA/IHRoaXMgOiAodGhpcy5fZHVyYXRpb24gPSBNYXRoLm1heCgwLCBhIHx8IDApLCB0aGlzLl91cGRhdGVEdXJhdGlvbigpLCB0aGlzKTsKICB9LCBiLl9zZXRQbGF5YmFja1Jlc291cmNlID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLl9wbGF5YmFja1Jlc291cmNlID0gYSwgMCA9PSB0aGlzLl9kdXJhdGlvbiAmJiB0aGlzLl9wbGF5YmFja1Jlc291cmNlICYmIHRoaXMuX3NldER1cmF0aW9uRnJvbVNvdXJjZSgpLCB0aGlzOwogIH0sIGIuX2dldFBsYXliYWNrUmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5fcGxheWJhY2tSZXNvdXJjZTsKICB9LCBiLl9nZXRMb29wID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2xvb3A7CiAgfSwgYi5fc2V0TG9vcCA9IGZ1bmN0aW9uIChhKSB7CiAgICBudWxsICE9IHRoaXMuX3BsYXliYWNrUmVzb3VyY2UgJiYgKDAgIT0gdGhpcy5fbG9vcCAmJiAwID09IGEgPyB0aGlzLl9yZW1vdmVMb29waW5nKGEpIDogMCA9PSB0aGlzLl9sb29wICYmIDAgIT0gYSAmJiB0aGlzLl9hZGRMb29waW5nKGEpKSwgdGhpcy5fbG9vcCA9IGE7CiAgfSwgYi5fc2VuZEV2ZW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gbmV3IGNyZWF0ZWpzLkV2ZW50KGEpOwogICAgdGhpcy5kaXNwYXRjaEV2ZW50KGIpOwogIH0sIGIuX2NsZWFuVXAgPSBmdW5jdGlvbiAoKSB7CiAgICBjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRJZCksIHRoaXMuX2hhbmRsZUNsZWFuVXAoKSwgdGhpcy5fcGF1c2VkID0gITEsIGNyZWF0ZWpzLlNvdW5kLl9wbGF5RmluaXNoZWQodGhpcyk7CiAgfSwgYi5faW50ZXJydXB0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY2xlYW5VcCgpLCB0aGlzLnBsYXlTdGF0ZSA9IGNyZWF0ZWpzLlNvdW5kLlBMQVlfSU5URVJSVVBURUQsIHRoaXMuX3NlbmRFdmVudCgiaW50ZXJydXB0ZWQiKTsKICB9LCBiLl9iZWdpblBsYXlpbmcgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3NldFBvc2l0aW9uKGEub2Zmc2V0KSwgdGhpcy5fc2V0TG9vcChhLmxvb3ApLCB0aGlzLl9zZXRWb2x1bWUoYS52b2x1bWUpLCB0aGlzLl9zZXRQYW4oYS5wYW4pLCBudWxsICE9IGEuc3RhcnRUaW1lICYmICh0aGlzLl9zZXRTdGFydFRpbWUoYS5zdGFydFRpbWUpLCB0aGlzLl9zZXREdXJhdGlvbihhLmR1cmF0aW9uKSksIG51bGwgIT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZSAmJiB0aGlzLl9wb3NpdGlvbiA8IHRoaXMuX2R1cmF0aW9uID8gKHRoaXMuX3BhdXNlZCA9ICExLCB0aGlzLl9oYW5kbGVTb3VuZFJlYWR5KCksIHRoaXMucGxheVN0YXRlID0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQsIHRoaXMuX3NlbmRFdmVudCgic3VjY2VlZGVkIiksICEwKSA6ICh0aGlzLl9wbGF5RmFpbGVkKCksICExKTsKICB9LCBiLl9wbGF5RmFpbGVkID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY2xlYW5VcCgpLCB0aGlzLnBsYXlTdGF0ZSA9IGNyZWF0ZWpzLlNvdW5kLlBMQVlfRkFJTEVELCB0aGlzLl9zZW5kRXZlbnQoImZhaWxlZCIpOwogIH0sIGIuX2hhbmRsZVNvdW5kQ29tcGxldGUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uID0gMCwgMCAhPSB0aGlzLl9sb29wID8gKHRoaXMuX2xvb3AtLSwgdGhpcy5faGFuZGxlTG9vcCgpLCB2b2lkIHRoaXMuX3NlbmRFdmVudCgibG9vcCIpKSA6ICh0aGlzLl9jbGVhblVwKCksIHRoaXMucGxheVN0YXRlID0gY3JlYXRlanMuU291bmQuUExBWV9GSU5JU0hFRCwgdm9pZCB0aGlzLl9zZW5kRXZlbnQoImNvbXBsZXRlIikpOwogIH0sIGIuX2hhbmRsZVNvdW5kUmVhZHkgPSBmdW5jdGlvbiAoKSB7fSwgYi5fdXBkYXRlVm9sdW1lID0gZnVuY3Rpb24gKCkge30sIGIuX3VwZGF0ZVBhbiA9IGZ1bmN0aW9uICgpIHt9LCBiLl91cGRhdGVTdGFydFRpbWUgPSBmdW5jdGlvbiAoKSB7fSwgYi5fdXBkYXRlRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7fSwgYi5fc2V0RHVyYXRpb25Gcm9tU291cmNlID0gZnVuY3Rpb24gKCkge30sIGIuX2NhbGN1bGF0ZUN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHt9LCBiLl91cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHt9LCBiLl9yZW1vdmVMb29waW5nID0gZnVuY3Rpb24gKGEpIHt9LCBiLl9hZGRMb29waW5nID0gZnVuY3Rpb24gKGEpIHt9LCBiLl9wYXVzZSA9IGZ1bmN0aW9uICgpIHt9LCBiLl9yZXN1bWUgPSBmdW5jdGlvbiAoKSB7fSwgYi5faGFuZGxlU3RvcCA9IGZ1bmN0aW9uICgpIHt9LCBiLl9oYW5kbGVDbGVhblVwID0gZnVuY3Rpb24gKCkge30sIGIuX2hhbmRsZUxvb3AgPSBmdW5jdGlvbiAoKSB7fSwgY3JlYXRlanMuQWJzdHJhY3RTb3VuZEluc3RhbmNlID0gY3JlYXRlanMucHJvbW90ZShhLCAiRXZlbnREaXNwYXRjaGVyIiksIGNyZWF0ZWpzLkRlZmF1bHRTb3VuZEluc3RhbmNlID0gY3JlYXRlanMuQWJzdHJhY3RTb3VuZEluc3RhbmNlOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgYSA9IGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLl9jYXBhYmlsaXRpZXMgPSBudWxsLCB0aGlzLl9sb2FkZXJzID0ge30sIHRoaXMuX2F1ZGlvU291cmNlcyA9IHt9LCB0aGlzLl9zb3VuZEluc3RhbmNlcyA9IHt9LCB0aGlzLl92b2x1bWUgPSAxLCB0aGlzLl9sb2FkZXJDbGFzcywgdGhpcy5fc291bmRJbnN0YW5jZUNsYXNzOwogIH0sCiAgICAgIGIgPSBhLnByb3RvdHlwZTsKCiAgYS5fY2FwYWJpbGl0aWVzID0gbnVsbCwgYS5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAhMDsKICB9LCBiLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fbG9hZGVyc1thLnNyY107CiAgICByZXR1cm4gYiAmJiAhYi5jYW5jZWxlZCA/IHRoaXMuX2xvYWRlcnNbYS5zcmNdIDogKHRoaXMuX2F1ZGlvU291cmNlc1thLnNyY10gPSAhMCwgdGhpcy5fc291bmRJbnN0YW5jZXNbYS5zcmNdID0gW10sIGIgPSBuZXcgdGhpcy5fbG9hZGVyQ2xhc3MoYSksIGIub24oImNvbXBsZXRlIiwgdGhpcy5faGFuZGxlUHJlbG9hZENvbXBsZXRlLCB0aGlzKSwgdGhpcy5fbG9hZGVyc1thLnNyY10gPSBiLCBiKTsKICB9LCBiLnByZWxvYWQgPSBmdW5jdGlvbiAoYSkgewogICAgYS5vbigiZXJyb3IiLCB0aGlzLl9oYW5kbGVQcmVsb2FkRXJyb3IsIHRoaXMpLCBhLmxvYWQoKTsKICB9LCBiLmlzUHJlbG9hZFN0YXJ0ZWQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIG51bGwgIT0gdGhpcy5fYXVkaW9Tb3VyY2VzW2FdOwogIH0sIGIuaXNQcmVsb2FkQ29tcGxldGUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuICEobnVsbCA9PSB0aGlzLl9hdWRpb1NvdXJjZXNbYV0gfHwgMSA9PSB0aGlzLl9hdWRpb1NvdXJjZXNbYV0pOwogIH0sIGIucmVtb3ZlU291bmQgPSBmdW5jdGlvbiAoYSkgewogICAgaWYgKHRoaXMuX3NvdW5kSW5zdGFuY2VzW2FdKSB7CiAgICAgIGZvciAodmFyIGIgPSB0aGlzLl9zb3VuZEluc3RhbmNlc1thXS5sZW5ndGg7IGItLTspIHsKICAgICAgICB2YXIgYyA9IHRoaXMuX3NvdW5kSW5zdGFuY2VzW2FdW2JdOwogICAgICAgIGMuZGVzdHJveSgpOwogICAgICB9CgogICAgICBkZWxldGUgdGhpcy5fc291bmRJbnN0YW5jZXNbYV0sIGRlbGV0ZSB0aGlzLl9hdWRpb1NvdXJjZXNbYV0sIHRoaXMuX2xvYWRlcnNbYV0gJiYgdGhpcy5fbG9hZGVyc1thXS5kZXN0cm95KCksIGRlbGV0ZSB0aGlzLl9sb2FkZXJzW2FdOwogICAgfQogIH0sIGIucmVtb3ZlQWxsU291bmRzID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgYSBpbiB0aGlzLl9hdWRpb1NvdXJjZXMpIHsKICAgICAgdGhpcy5yZW1vdmVTb3VuZChhKTsKICAgIH0KICB9LCBiLmNyZWF0ZSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICB0aGlzLmlzUHJlbG9hZFN0YXJ0ZWQoYSkgfHwgdGhpcy5wcmVsb2FkKHRoaXMucmVnaXN0ZXIoYSkpOwogICAgdmFyIGQgPSBuZXcgdGhpcy5fc291bmRJbnN0YW5jZUNsYXNzKGEsIGIsIGMsIHRoaXMuX2F1ZGlvU291cmNlc1thXSk7CiAgICByZXR1cm4gdGhpcy5fc291bmRJbnN0YW5jZXNbYV0gJiYgdGhpcy5fc291bmRJbnN0YW5jZXNbYV0ucHVzaChkKSwgZC5zZXRNYXN0ZXJWb2x1bWUgJiYgZC5zZXRNYXN0ZXJWb2x1bWUoY3JlYXRlanMuU291bmQudm9sdW1lKSwgZC5zZXRNYXN0ZXJNdXRlICYmIGQuc2V0TWFzdGVyTXV0ZShjcmVhdGVqcy5Tb3VuZC5tdXRlZCksIGQ7CiAgfSwgYi5zZXRWb2x1bWUgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3ZvbHVtZSA9IGEsIHRoaXMuX3VwZGF0ZVZvbHVtZSgpLCAhMDsKICB9LCBiLmdldFZvbHVtZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl92b2x1bWU7CiAgfSwgYi5zZXRNdXRlID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiB0aGlzLl91cGRhdGVWb2x1bWUoKSwgITA7CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW0Fic3RyYWN0UGx1Z2luXSI7CiAgfSwgYi5faGFuZGxlUHJlbG9hZENvbXBsZXRlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYS50YXJnZXQuZ2V0SXRlbSgpLnNyYzsKICAgIHRoaXMuX2F1ZGlvU291cmNlc1tiXSA9IGEucmVzdWx0OwoKICAgIGZvciAodmFyIGMgPSAwLCBkID0gdGhpcy5fc291bmRJbnN0YW5jZXNbYl0ubGVuZ3RoOyBkID4gYzsgYysrKSB7CiAgICAgIHZhciBlID0gdGhpcy5fc291bmRJbnN0YW5jZXNbYl1bY107CiAgICAgIGUucGxheWJhY2tSZXNvdXJjZSA9IHRoaXMuX2F1ZGlvU291cmNlc1tiXSwgdGhpcy5fc291bmRJbnN0YW5jZXNbYl0gPSBudWxsOwogICAgfQogIH0sIGIuX2hhbmRsZVByZWxvYWRFcnJvciA9IGZ1bmN0aW9uIChhKSB7fSwgYi5fdXBkYXRlVm9sdW1lID0gZnVuY3Rpb24gKCkge30sIGNyZWF0ZWpzLkFic3RyYWN0UGx1Z2luID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhKSB7CiAgICB0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsICEwLCBjcmVhdGVqcy5UeXBlcy5TT1VORCk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7CiAgYS5jb250ZXh0ID0gbnVsbCwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1dlYkF1ZGlvTG9hZGVyXSI7CiAgfSwgYi5fY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX3JlcXVlc3QgPSBuZXcgY3JlYXRlanMuWEhSUmVxdWVzdCh0aGlzLl9pdGVtLCAhMSksIHRoaXMuX3JlcXVlc3Quc2V0UmVzcG9uc2VUeXBlKCJhcnJheWJ1ZmZlciIpOwogIH0sIGIuX3NlbmRDb21wbGV0ZSA9IGZ1bmN0aW9uIChiKSB7CiAgICBhLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHRoaXMuX3Jhd1Jlc3VsdCwgY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlQXVkaW9EZWNvZGVkLCB0aGlzKSwgY3JlYXRlanMucHJveHkodGhpcy5fc2VuZEVycm9yLCB0aGlzKSk7CiAgfSwgYi5faGFuZGxlQXVkaW9EZWNvZGVkID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX3Jlc3VsdCA9IGEsIHRoaXMuQWJzdHJhY3RMb2FkZXJfX3NlbmRDb21wbGV0ZSgpOwogIH0sIGNyZWF0ZWpzLldlYkF1ZGlvTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RMb2FkZXIiKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYShhLCBiLCBkLCBlKSB7CiAgICB0aGlzLkFic3RyYWN0U291bmRJbnN0YW5jZV9jb25zdHJ1Y3RvcihhLCBiLCBkLCBlKSwgdGhpcy5nYWluTm9kZSA9IGMuY29udGV4dC5jcmVhdGVHYWluKCksIHRoaXMucGFuTm9kZSA9IGMuY29udGV4dC5jcmVhdGVQYW5uZXIoKSwgdGhpcy5wYW5Ob2RlLnBhbm5pbmdNb2RlbCA9IGMuX3Bhbm5pbmdNb2RlbCwgdGhpcy5wYW5Ob2RlLmNvbm5lY3QodGhpcy5nYWluTm9kZSksIHRoaXMuX3VwZGF0ZVBhbigpLCB0aGlzLnNvdXJjZU5vZGUgPSBudWxsLCB0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCA9IG51bGwsIHRoaXMuX3NvdXJjZU5vZGVOZXh0ID0gbnVsbCwgdGhpcy5fcGxheWJhY2tTdGFydFRpbWUgPSAwLCB0aGlzLl9lbmRlZEhhbmRsZXIgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTb3VuZENvbXBsZXRlLCB0aGlzKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0U291bmRJbnN0YW5jZSksCiAgICAgIGMgPSBhOwogIGMuY29udGV4dCA9IG51bGwsIGMuX3NjcmF0Y2hCdWZmZXIgPSBudWxsLCBjLmRlc3RpbmF0aW9uTm9kZSA9IG51bGwsIGMuX3Bhbm5pbmdNb2RlbCA9ICJlcXVhbHBvd2VyIiwgYi5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5BYnN0cmFjdFNvdW5kSW5zdGFuY2VfZGVzdHJveSgpLCB0aGlzLnBhbk5vZGUuZGlzY29ubmVjdCgwKSwgdGhpcy5wYW5Ob2RlID0gbnVsbCwgdGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApLCB0aGlzLmdhaW5Ob2RlID0gbnVsbDsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbV2ViQXVkaW9Tb3VuZEluc3RhbmNlXSI7CiAgfSwgYi5fdXBkYXRlUGFuID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wYW5Ob2RlLnNldFBvc2l0aW9uKHRoaXMuX3BhbiwgMCwgLS41KTsKICB9LCBiLl9yZW1vdmVMb29waW5nID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX3NvdXJjZU5vZGVOZXh0ID0gdGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLl9zb3VyY2VOb2RlTmV4dCk7CiAgfSwgYi5fYWRkTG9vcGluZyA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLnBsYXlTdGF0ZSA9PSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCAmJiAodGhpcy5fc291cmNlTm9kZU5leHQgPSB0aGlzLl9jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlKHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lLCAwKSk7CiAgfSwgYi5fc2V0RHVyYXRpb25Gcm9tU291cmNlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fZHVyYXRpb24gPSAxZTMgKiB0aGlzLnBsYXliYWNrUmVzb3VyY2UuZHVyYXRpb247CiAgfSwgYi5faGFuZGxlQ2xlYW5VcCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc291cmNlTm9kZSAmJiB0aGlzLnBsYXlTdGF0ZSA9PSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCAmJiAodGhpcy5zb3VyY2VOb2RlID0gdGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLCB0aGlzLl9zb3VyY2VOb2RlTmV4dCA9IHRoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5fc291cmNlTm9kZU5leHQpKSwgMCAhPSB0aGlzLmdhaW5Ob2RlLm51bWJlck9mT3V0cHV0cyAmJiB0aGlzLmdhaW5Ob2RlLmRpc2Nvbm5lY3QoMCksIGNsZWFyVGltZW91dCh0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCksIHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lID0gMDsKICB9LCBiLl9jbGVhblVwQXVkaW9Ob2RlID0gZnVuY3Rpb24gKGEpIHsKICAgIGlmIChhKSB7CiAgICAgIGlmIChhLnN0b3AoMCksIGEuZGlzY29ubmVjdCgwKSwgY3JlYXRlanMuQnJvd3NlckRldGVjdC5pc0lPUykgdHJ5IHsKICAgICAgICBhLmJ1ZmZlciA9IGMuX3NjcmF0Y2hCdWZmZXI7CiAgICAgIH0gY2F0Y2ggKGIpIHt9CiAgICAgIGEgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBhOwogIH0sIGIuX2hhbmRsZVNvdW5kUmVhZHkgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5nYWluTm9kZS5jb25uZWN0KGMuZGVzdGluYXRpb25Ob2RlKTsKICAgIHZhciBiID0gLjAwMSAqIHRoaXMuX2R1cmF0aW9uLAogICAgICAgIGQgPSBNYXRoLm1pbiguMDAxICogTWF0aC5tYXgoMCwgdGhpcy5fcG9zaXRpb24pLCBiKTsKICAgIHRoaXMuc291cmNlTm9kZSA9IHRoaXMuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUoYy5jb250ZXh0LmN1cnJlbnRUaW1lIC0gYiwgZCksIHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lID0gdGhpcy5zb3VyY2VOb2RlLnN0YXJ0VGltZSAtIGQsIHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9lbmRlZEhhbmRsZXIsIDFlMyAqIChiIC0gZCkpLCAwICE9IHRoaXMuX2xvb3AgJiYgKHRoaXMuX3NvdXJjZU5vZGVOZXh0ID0gdGhpcy5fY3JlYXRlQW5kUGxheUF1ZGlvTm9kZSh0aGlzLl9wbGF5YmFja1N0YXJ0VGltZSwgMCkpOwogIH0sIGIuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGQgPSBjLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICBkLmJ1ZmZlciA9IHRoaXMucGxheWJhY2tSZXNvdXJjZSwgZC5jb25uZWN0KHRoaXMucGFuTm9kZSk7CiAgICB2YXIgZSA9IC4wMDEgKiB0aGlzLl9kdXJhdGlvbjsKICAgIHJldHVybiBkLnN0YXJ0VGltZSA9IGEgKyBlLCBkLnN0YXJ0KGQuc3RhcnRUaW1lLCBiICsgLjAwMSAqIHRoaXMuX3N0YXJ0VGltZSwgZSAtIGIpLCBkOwogIH0sIGIuX3BhdXNlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fcG9zaXRpb24gPSAxZTMgKiAoYy5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdGhpcy5fcGxheWJhY2tTdGFydFRpbWUpLCB0aGlzLnNvdXJjZU5vZGUgPSB0aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZSksIHRoaXMuX3NvdXJjZU5vZGVOZXh0ID0gdGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLl9zb3VyY2VOb2RlTmV4dCksIDAgIT0gdGhpcy5nYWluTm9kZS5udW1iZXJPZk91dHB1dHMgJiYgdGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApLCBjbGVhclRpbWVvdXQodGhpcy5fc291bmRDb21wbGV0ZVRpbWVvdXQpOwogIH0sIGIuX3Jlc3VtZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX2hhbmRsZVNvdW5kUmVhZHkoKTsKICB9LCBiLl91cGRhdGVWb2x1bWUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IHRoaXMuX211dGVkID8gMCA6IHRoaXMuX3ZvbHVtZTsKICAgIGEgIT0gdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlICYmICh0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSBhKTsKICB9LCBiLl9jYWxjdWxhdGVDdXJyZW50UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gMWUzICogKGMuY29udGV4dC5jdXJyZW50VGltZSAtIHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lKTsKICB9LCBiLl91cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc291cmNlTm9kZSA9IHRoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlKSwgdGhpcy5fc291cmNlTm9kZU5leHQgPSB0aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuX3NvdXJjZU5vZGVOZXh0KSwgY2xlYXJUaW1lb3V0KHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0KSwgdGhpcy5fcGF1c2VkIHx8IHRoaXMuX2hhbmRsZVNvdW5kUmVhZHkoKTsKICB9LCBiLl9oYW5kbGVMb29wID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLCB0aGlzLnNvdXJjZU5vZGUgPSB0aGlzLl9zb3VyY2VOb2RlTmV4dCwgdGhpcy5fcGxheWJhY2tTdGFydFRpbWUgPSB0aGlzLnNvdXJjZU5vZGUuc3RhcnRUaW1lLCB0aGlzLl9zb3VyY2VOb2RlTmV4dCA9IHRoaXMuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5fcGxheWJhY2tTdGFydFRpbWUsIDApLCB0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fZW5kZWRIYW5kbGVyLCB0aGlzLl9kdXJhdGlvbik7CiAgfSwgYi5fdXBkYXRlRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBsYXlTdGF0ZSA9PSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCAmJiAodGhpcy5fcGF1c2UoKSwgdGhpcy5fcmVzdW1lKCkpOwogIH0sIGNyZWF0ZWpzLldlYkF1ZGlvU291bmRJbnN0YW5jZSA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0U291bmRJbnN0YW5jZSIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKCkgewogICAgdGhpcy5BYnN0cmFjdFBsdWdpbl9jb25zdHJ1Y3RvcigpLCB0aGlzLl9wYW5uaW5nTW9kZWwgPSBjLl9wYW5uaW5nTW9kZWwsIHRoaXMuY29udGV4dCA9IGMuY29udGV4dCwgdGhpcy5keW5hbWljc0NvbXByZXNzb3JOb2RlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpLCB0aGlzLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGUuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLCB0aGlzLmdhaW5Ob2RlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSwgdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMuZHluYW1pY3NDb21wcmVzc29yTm9kZSksIGNyZWF0ZWpzLldlYkF1ZGlvU291bmRJbnN0YW5jZS5kZXN0aW5hdGlvbk5vZGUgPSB0aGlzLmdhaW5Ob2RlLCB0aGlzLl9jYXBhYmlsaXRpZXMgPSBjLl9jYXBhYmlsaXRpZXMsIHRoaXMuX2xvYWRlckNsYXNzID0gY3JlYXRlanMuV2ViQXVkaW9Mb2FkZXIsIHRoaXMuX3NvdW5kSW5zdGFuY2VDbGFzcyA9IGNyZWF0ZWpzLldlYkF1ZGlvU291bmRJbnN0YW5jZSwgdGhpcy5fYWRkUHJvcHNUb0NsYXNzZXMoKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0UGx1Z2luKSwKICAgICAgYyA9IGE7CiAgYy5fY2FwYWJpbGl0aWVzID0gbnVsbCwgYy5fcGFubmluZ01vZGVsID0gImVxdWFscG93ZXIiLCBjLmNvbnRleHQgPSBudWxsLCBjLl9zY3JhdGNoQnVmZmVyID0gbnVsbCwgYy5fdW5sb2NrZWQgPSAhMSwgYy5ERUZBVUxUX1NBTVBMRV9SQVRFID0gNDQxMDAsIGMuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IGNyZWF0ZWpzLkJyb3dzZXJEZXRlY3QuaXNJT1MgfHwgY3JlYXRlanMuQnJvd3NlckRldGVjdC5pc0FuZHJvaWQgfHwgY3JlYXRlanMuQnJvd3NlckRldGVjdC5pc0JsYWNrYmVycnk7CiAgICByZXR1cm4gImZpbGU6IiAhPSBsb2NhdGlvbi5wcm90b2NvbCB8fCBhIHx8IHRoaXMuX2lzRmlsZVhIUlN1cHBvcnRlZCgpID8gKGMuX2dlbmVyYXRlQ2FwYWJpbGl0aWVzKCksIG51bGwgPT0gYy5jb250ZXh0ID8gITEgOiAhMCkgOiAhMTsKICB9LCBjLnBsYXlFbXB0eVNvdW5kID0gZnVuY3Rpb24gKCkgewogICAgaWYgKG51bGwgIT0gYy5jb250ZXh0KSB7CiAgICAgIHZhciBhID0gYy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICBhLmJ1ZmZlciA9IGMuX3NjcmF0Y2hCdWZmZXIsIGEuY29ubmVjdChjLmNvbnRleHQuZGVzdGluYXRpb24pLCBhLnN0YXJ0KDAsIDAsIDApOwogICAgfQogIH0sIGMuX2lzRmlsZVhIUlN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gITAsCiAgICAgICAgYiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgIHRyeSB7CiAgICAgIGIub3BlbigiR0VUIiwgIldlYkF1ZGlvUGx1Z2luVGVzdC5mYWlsIiwgITEpOwogICAgfSBjYXRjaCAoYykgewogICAgICByZXR1cm4gYSA9ICExOwogICAgfQoKICAgIGIub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgYSA9ICExOwogICAgfSwgYi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGEgPSA0MDQgPT0gdGhpcy5zdGF0dXMgfHwgMjAwID09IHRoaXMuc3RhdHVzIHx8IDAgPT0gdGhpcy5zdGF0dXMgJiYgIiIgIT0gdGhpcy5yZXNwb25zZTsKICAgIH07CgogICAgdHJ5IHsKICAgICAgYi5zZW5kKCk7CiAgICB9IGNhdGNoIChjKSB7CiAgICAgIGEgPSAhMTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9LCBjLl9nZW5lcmF0ZUNhcGFiaWxpdGllcyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmIChudWxsID09IGMuX2NhcGFiaWxpdGllcykgewogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIik7CiAgICAgIGlmIChudWxsID09IGEuY2FuUGxheVR5cGUpIHJldHVybiBudWxsOwogICAgICBpZiAobnVsbCA9PSBjLmNvbnRleHQgJiYgKGMuY29udGV4dCA9IGMuX2NyZWF0ZUF1ZGlvQ29udGV4dCgpLCBudWxsID09IGMuY29udGV4dCkpIHJldHVybiBudWxsOwogICAgICBudWxsID09IGMuX3NjcmF0Y2hCdWZmZXIgJiYgKGMuX3NjcmF0Y2hCdWZmZXIgPSBjLmNvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKSksIGMuX2NvbXBhdGliaWxpdHlTZXRVcCgpLCAib250b3VjaHN0YXJ0IiBpbiB3aW5kb3cgJiYgInJ1bm5pbmciICE9IGMuY29udGV4dC5zdGF0ZSAmJiAoYy5fdW5sb2NrKCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGMuX3VubG9jaywgITApLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgYy5fdW5sb2NrLCAhMCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgYy5fdW5sb2NrLCAhMCkpLCBjLl9jYXBhYmlsaXRpZXMgPSB7CiAgICAgICAgcGFubmluZzogITAsCiAgICAgICAgdm9sdW1lOiAhMCwKICAgICAgICB0cmFja3M6IC0xCiAgICAgIH07CgogICAgICBmb3IgKHZhciBiID0gY3JlYXRlanMuU291bmQuU1VQUE9SVEVEX0VYVEVOU0lPTlMsIGQgPSBjcmVhdGVqcy5Tb3VuZC5FWFRFTlNJT05fTUFQLCBlID0gMCwgZiA9IGIubGVuZ3RoOyBmID4gZTsgZSsrKSB7CiAgICAgICAgdmFyIGcgPSBiW2VdLAogICAgICAgICAgICBoID0gZFtnXSB8fCBnOwogICAgICAgIGMuX2NhcGFiaWxpdGllc1tnXSA9ICJubyIgIT0gYS5jYW5QbGF5VHlwZSgiYXVkaW8vIiArIGcpICYmICIiICE9IGEuY2FuUGxheVR5cGUoImF1ZGlvLyIgKyBnKSB8fCAibm8iICE9IGEuY2FuUGxheVR5cGUoImF1ZGlvLyIgKyBoKSAmJiAiIiAhPSBhLmNhblBsYXlUeXBlKCJhdWRpby8iICsgaCk7CiAgICAgIH0KCiAgICAgIGMuY29udGV4dC5kZXN0aW5hdGlvbi5udW1iZXJPZkNoYW5uZWxzIDwgMiAmJiAoYy5fY2FwYWJpbGl0aWVzLnBhbm5pbmcgPSAhMSk7CiAgICB9CiAgfSwgYy5fY3JlYXRlQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7CiAgICBpZiAobnVsbCA9PSBhKSByZXR1cm4gbnVsbDsKICAgIHZhciBiID0gbmV3IGEoKTsKCiAgICBpZiAoLyhpUGhvbmV8aVBhZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIGIuc2FtcGxlUmF0ZSAhPT0gYy5ERUZBVUxUX1NBTVBMRV9SQVRFKSB7CiAgICAgIHZhciBkID0gYi5jcmVhdGVCdWZmZXIoMSwgMSwgYy5ERUZBVUxUX1NBTVBMRV9SQVRFKSwKICAgICAgICAgIGUgPSBiLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICBlLmJ1ZmZlciA9IGQsIGUuY29ubmVjdChiLmRlc3RpbmF0aW9uKSwgZS5zdGFydCgwKSwgZS5kaXNjb25uZWN0KCksIGIuY2xvc2UoKSwgYiA9IG5ldyBhKCk7CiAgICB9CgogICAgcmV0dXJuIGI7CiAgfSwgYy5fY29tcGF0aWJpbGl0eVNldFVwID0gZnVuY3Rpb24gKCkgewogICAgaWYgKGMuX3Bhbm5pbmdNb2RlbCA9ICJlcXVhbHBvd2VyIiwgIWMuY29udGV4dC5jcmVhdGVHYWluKSB7CiAgICAgIGMuY29udGV4dC5jcmVhdGVHYWluID0gYy5jb250ZXh0LmNyZWF0ZUdhaW5Ob2RlOwogICAgICB2YXIgYSA9IGMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTsKICAgICAgYS5fX3Byb3RvX18uc3RhcnQgPSBhLl9fcHJvdG9fXy5ub3RlR3JhaW5PbiwgYS5fX3Byb3RvX18uc3RvcCA9IGEuX19wcm90b19fLm5vdGVPZmYsIGMuX3Bhbm5pbmdNb2RlbCA9IDA7CiAgICB9CiAgfSwgYy5fdW5sb2NrID0gZnVuY3Rpb24gKCkgewogICAgYy5fdW5sb2NrZWQgfHwgKGMucGxheUVtcHR5U291bmQoKSwgInJ1bm5pbmciID09IGMuY29udGV4dC5zdGF0ZSAmJiAoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgYy5fdW5sb2NrLCAhMCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgYy5fdW5sb2NrLCAhMCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBjLl91bmxvY2ssICEwKSwgYy5fdW5sb2NrZWQgPSAhMCkpOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltXZWJBdWRpb1BsdWdpbl0iOwogIH0sIGIuX2FkZFByb3BzVG9DbGFzc2VzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLl9zb3VuZEluc3RhbmNlQ2xhc3M7CiAgICBhLmNvbnRleHQgPSB0aGlzLmNvbnRleHQsIGEuX3NjcmF0Y2hCdWZmZXIgPSBjLl9zY3JhdGNoQnVmZmVyLCBhLmRlc3RpbmF0aW9uTm9kZSA9IHRoaXMuZ2Fpbk5vZGUsIGEuX3Bhbm5pbmdNb2RlbCA9IHRoaXMuX3Bhbm5pbmdNb2RlbCwgdGhpcy5fbG9hZGVyQ2xhc3MuY29udGV4dCA9IHRoaXMuY29udGV4dDsKICB9LCBiLl91cGRhdGVWb2x1bWUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IGNyZWF0ZWpzLlNvdW5kLl9tYXN0ZXJNdXRlID8gMCA6IHRoaXMuX3ZvbHVtZTsKICAgIGEgIT0gdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlICYmICh0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSBhKTsKICB9LCBjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbiA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0UGx1Z2luIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aHJvdyAiSFRNTEF1ZGlvVGFnUG9vbCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIjsKICB9CgogIGZ1bmN0aW9uIGIoYSkgewogICAgdGhpcy5fdGFncyA9IFtdOwogIH0KCiAgdmFyIGMgPSBhOwogIGMuX3RhZ3MgPSB7fSwgYy5fdGFnUG9vbCA9IG5ldyBiKCksIGMuX3RhZ1VzZWQgPSB7fSwgYy5nZXQgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBjLl90YWdzW2FdOwogICAgcmV0dXJuIG51bGwgPT0gYiA/IChiID0gYy5fdGFnc1thXSA9IGMuX3RhZ1Bvb2wuZ2V0KCksIGIuc3JjID0gYSkgOiBjLl90YWdVc2VkW2FdID8gKGIgPSBjLl90YWdQb29sLmdldCgpLCBiLnNyYyA9IGEpIDogYy5fdGFnVXNlZFthXSA9ICEwLCBiOwogIH0sIGMuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGIgPT0gYy5fdGFnc1thXSA/IGMuX3RhZ1VzZWRbYV0gPSAhMSA6IGMuX3RhZ1Bvb2wuc2V0KGIpOwogIH0sIGMucmVtb3ZlID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gYy5fdGFnc1thXTsKICAgIHJldHVybiBudWxsID09IGIgPyAhMSA6IChjLl90YWdQb29sLnNldChiKSwgZGVsZXRlIGMuX3RhZ3NbYV0sIGRlbGV0ZSBjLl90YWdVc2VkW2FdLCAhMCk7CiAgfSwgYy5nZXREdXJhdGlvbiA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGMuX3RhZ3NbYV07CiAgICByZXR1cm4gbnVsbCAhPSBiICYmIGIuZHVyYXRpb24gPyAxZTMgKiBiLmR1cmF0aW9uIDogMDsKICB9LCBjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sID0gYTsKICB2YXIgZCA9IGIucHJvdG90eXBlOwogIGQuY29uc3RydWN0b3IgPSBiLCBkLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhOwogICAgcmV0dXJuIGEgPSAwID09IHRoaXMuX3RhZ3MubGVuZ3RoID8gdGhpcy5fY3JlYXRlVGFnKCkgOiB0aGlzLl90YWdzLnBvcCgpLCBudWxsID09IGEucGFyZW50Tm9kZSAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLCBhOwogIH0sIGQuc2V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gY3JlYXRlanMuaW5kZXhPZih0aGlzLl90YWdzLCBhKTsKICAgIC0xID09IGIgJiYgKHRoaXMuX3RhZ3Muc3JjID0gbnVsbCwgdGhpcy5fdGFncy5wdXNoKGEpKTsKICB9LCBkLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbVGFnUG9vbF0iOwogIH0sIGQuX2NyZWF0ZVRhZyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKTsKICAgIHJldHVybiBhLmF1dG9wbGF5ID0gITEsIGEucHJlbG9hZCA9ICJub25lIiwgYTsKICB9Owp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEsIGIsIGMsIGQpIHsKICAgIHRoaXMuQWJzdHJhY3RTb3VuZEluc3RhbmNlX2NvbnN0cnVjdG9yKGEsIGIsIGMsIGQpLCB0aGlzLl9hdWRpb1Nwcml0ZVN0b3BUaW1lID0gbnVsbCwgdGhpcy5fZGVsYXlUaW1lb3V0SWQgPSBudWxsLCB0aGlzLl9lbmRlZEhhbmRsZXIgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTb3VuZENvbXBsZXRlLCB0aGlzKSwgdGhpcy5fcmVhZHlIYW5kbGVyID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnUmVhZHksIHRoaXMpLCB0aGlzLl9zdGFsbGVkSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX3BsYXlGYWlsZWQsIHRoaXMpLCB0aGlzLl9hdWRpb1Nwcml0ZUVuZEhhbmRsZXIgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVBdWRpb1Nwcml0ZUxvb3AsIHRoaXMpLCB0aGlzLl9sb29wSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUsIHRoaXMpLCBjID8gdGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZSA9IC4wMDEgKiAoYiArIGMpIDogdGhpcy5fZHVyYXRpb24gPSBjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sLmdldER1cmF0aW9uKHRoaXMuc3JjKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0U291bmRJbnN0YW5jZSk7CiAgYi5zZXRNYXN0ZXJWb2x1bWUgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5fdXBkYXRlVm9sdW1lKCk7CiAgfSwgYi5zZXRNYXN0ZXJNdXRlID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuX3VwZGF0ZVZvbHVtZSgpOwogIH0sIGIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIltIVE1MQXVkaW9Tb3VuZEluc3RhbmNlXSI7CiAgfSwgYi5fcmVtb3ZlTG9vcGluZyA9IGZ1bmN0aW9uICgpIHsKICAgIG51bGwgIT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZSAmJiAodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5sb29wID0gITEsIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5fbG9vcEhhbmRsZXIsICExKSk7CiAgfSwgYi5fYWRkTG9vcGluZyA9IGZ1bmN0aW9uICgpIHsKICAgIG51bGwgPT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZSB8fCB0aGlzLl9hdWRpb1Nwcml0ZVN0b3BUaW1lIHx8ICh0aGlzLl9wbGF5YmFja1Jlc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TRUVLRUQsIHRoaXMuX2xvb3BIYW5kbGVyLCAhMSksIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UubG9vcCA9ICEwKTsKICB9LCBiLl9oYW5kbGVDbGVhblVwID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSB0aGlzLl9wbGF5YmFja1Jlc291cmNlOwoKICAgIGlmIChudWxsICE9IGEpIHsKICAgICAgYS5wYXVzZSgpLCBhLmxvb3AgPSAhMSwgYS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fRU5ERUQsIHRoaXMuX2VuZGVkSGFuZGxlciwgITEpLCBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19SRUFEWSwgdGhpcy5fcmVhZHlIYW5kbGVyLCAhMSksIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NUQUxMRUQsIHRoaXMuX3N0YWxsZWRIYW5kbGVyLCAhMSksIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5fbG9vcEhhbmRsZXIsICExKSwgYS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsIHRoaXMuX2F1ZGlvU3ByaXRlRW5kSGFuZGxlciwgITEpOwoKICAgICAgdHJ5IHsKICAgICAgICBhLmN1cnJlbnRUaW1lID0gdGhpcy5fc3RhcnRUaW1lOwogICAgICB9IGNhdGNoIChiKSB7fQoKICAgICAgY3JlYXRlanMuSFRNTEF1ZGlvVGFnUG9vbC5zZXQodGhpcy5zcmMsIGEpLCB0aGlzLl9wbGF5YmFja1Jlc291cmNlID0gbnVsbDsKICAgIH0KICB9LCBiLl9iZWdpblBsYXlpbmcgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UgPSBjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sLmdldCh0aGlzLnNyYyksIHRoaXMuQWJzdHJhY3RTb3VuZEluc3RhbmNlX19iZWdpblBsYXlpbmcoYSk7CiAgfSwgYi5faGFuZGxlU291bmRSZWFkeSA9IGZ1bmN0aW9uIChhKSB7CiAgICBpZiAoNCAhPT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZWFkeVN0YXRlKSB7CiAgICAgIHZhciBiID0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZTsKICAgICAgcmV0dXJuIGIuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1JFQURZLCB0aGlzLl9yZWFkeUhhbmRsZXIsICExKSwgYi5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU1RBTExFRCwgdGhpcy5fc3RhbGxlZEhhbmRsZXIsICExKSwgYi5wcmVsb2FkID0gImF1dG8iLCB2b2lkIGIubG9hZCgpOwogICAgfQoKICAgIHRoaXMuX3VwZGF0ZVZvbHVtZSgpLCB0aGlzLl9wbGF5YmFja1Jlc291cmNlLmN1cnJlbnRUaW1lID0gLjAwMSAqICh0aGlzLl9zdGFydFRpbWUgKyB0aGlzLl9wb3NpdGlvbiksIHRoaXMuX2F1ZGlvU3ByaXRlU3RvcFRpbWUgPyB0aGlzLl9wbGF5YmFja1Jlc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9USU1FX1VQREFURSwgdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyLCAhMSkgOiAodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fRU5ERUQsIHRoaXMuX2VuZGVkSGFuZGxlciwgITEpLCAwICE9IHRoaXMuX2xvb3AgJiYgKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5fbG9vcEhhbmRsZXIsICExKSwgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5sb29wID0gITApKSwgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5wbGF5KCk7CiAgfSwgYi5faGFuZGxlVGFnUmVhZHkgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fUkVBRFksIHRoaXMuX3JlYWR5SGFuZGxlciwgITEpLCB0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TVEFMTEVELCB0aGlzLl9zdGFsbGVkSGFuZGxlciwgITEpLCB0aGlzLl9oYW5kbGVTb3VuZFJlYWR5KCk7CiAgfSwgYi5fcGF1c2UgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBhdXNlKCk7CiAgfSwgYi5fcmVzdW1lID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5wbGF5KCk7CiAgfSwgYi5fdXBkYXRlVm9sdW1lID0gZnVuY3Rpb24gKCkgewogICAgaWYgKG51bGwgIT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZSkgewogICAgICB2YXIgYSA9IHRoaXMuX211dGVkIHx8IGNyZWF0ZWpzLlNvdW5kLl9tYXN0ZXJNdXRlID8gMCA6IHRoaXMuX3ZvbHVtZSAqIGNyZWF0ZWpzLlNvdW5kLl9tYXN0ZXJWb2x1bWU7CiAgICAgIGEgIT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZS52b2x1bWUgJiYgKHRoaXMuX3BsYXliYWNrUmVzb3VyY2Uudm9sdW1lID0gYSk7CiAgICB9CiAgfSwgYi5fY2FsY3VsYXRlQ3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIDFlMyAqIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWUgLSB0aGlzLl9zdGFydFRpbWU7CiAgfSwgYi5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TRUVLRUQsIHRoaXMuX2xvb3BIYW5kbGVyLCAhMSksIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5faGFuZGxlU2V0UG9zaXRpb25TZWVrLCAhMSk7CgogICAgdHJ5IHsKICAgICAgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5jdXJyZW50VGltZSA9IC4wMDEgKiAodGhpcy5fcG9zaXRpb24gKyB0aGlzLl9zdGFydFRpbWUpOwogICAgfSBjYXRjaCAoYSkgewogICAgICB0aGlzLl9oYW5kbGVTZXRQb3NpdGlvblNlZWsobnVsbCk7CiAgICB9CiAgfSwgYi5faGFuZGxlU2V0UG9zaXRpb25TZWVrID0gZnVuY3Rpb24gKGEpIHsKICAgIG51bGwgIT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZSAmJiAodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9oYW5kbGVTZXRQb3NpdGlvblNlZWssICExKSwgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9sb29wSGFuZGxlciwgITEpKTsKICB9LCBiLl9oYW5kbGVBdWRpb1Nwcml0ZUxvb3AgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5jdXJyZW50VGltZSA8PSB0aGlzLl9hdWRpb1Nwcml0ZVN0b3BUaW1lIHx8ICh0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBhdXNlKCksIDAgPT0gdGhpcy5fbG9vcCA/IHRoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUobnVsbCkgOiAodGhpcy5fcG9zaXRpb24gPSAwLCB0aGlzLl9sb29wLS0sIHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWUgPSAuMDAxICogdGhpcy5fc3RhcnRUaW1lLCB0aGlzLl9wYXVzZWQgfHwgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5wbGF5KCksIHRoaXMuX3NlbmRFdmVudCgibG9vcCIpKSk7CiAgfSwgYi5faGFuZGxlTG9vcCA9IGZ1bmN0aW9uIChhKSB7CiAgICAwID09IHRoaXMuX2xvb3AgJiYgKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UubG9vcCA9ICExLCB0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TRUVLRUQsIHRoaXMuX2xvb3BIYW5kbGVyLCAhMSkpOwogIH0sIGIuX3VwZGF0ZVN0YXJ0VGltZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX2F1ZGlvU3ByaXRlU3RvcFRpbWUgPSAuMDAxICogKHRoaXMuX3N0YXJ0VGltZSArIHRoaXMuX2R1cmF0aW9uKSwgdGhpcy5wbGF5U3RhdGUgPT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQgJiYgKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX0VOREVELCB0aGlzLl9lbmRlZEhhbmRsZXIsICExKSwgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsIHRoaXMuX2F1ZGlvU3ByaXRlRW5kSGFuZGxlciwgITEpKTsKICB9LCBiLl91cGRhdGVEdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuX2F1ZGlvU3ByaXRlU3RvcFRpbWUgPSAuMDAxICogKHRoaXMuX3N0YXJ0VGltZSArIHRoaXMuX2R1cmF0aW9uKSwgdGhpcy5wbGF5U3RhdGUgPT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQgJiYgKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX0VOREVELCB0aGlzLl9lbmRlZEhhbmRsZXIsICExKSwgdGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsIHRoaXMuX2F1ZGlvU3ByaXRlRW5kSGFuZGxlciwgITEpKTsKICB9LCBiLl9zZXREdXJhdGlvbkZyb21Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9kdXJhdGlvbiA9IGNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuZ2V0RHVyYXRpb24odGhpcy5zcmMpLCB0aGlzLl9wbGF5YmFja1Jlc291cmNlID0gbnVsbDsKICB9LCBjcmVhdGVqcy5IVE1MQXVkaW9Tb3VuZEluc3RhbmNlID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RTb3VuZEluc3RhbmNlIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoKSB7CiAgICB0aGlzLkFic3RyYWN0UGx1Z2luX2NvbnN0cnVjdG9yKCksIHRoaXMuX2NhcGFiaWxpdGllcyA9IGMuX2NhcGFiaWxpdGllcywgdGhpcy5fbG9hZGVyQ2xhc3MgPSBjcmVhdGVqcy5Tb3VuZExvYWRlciwgdGhpcy5fc291bmRJbnN0YW5jZUNsYXNzID0gY3JlYXRlanMuSFRNTEF1ZGlvU291bmRJbnN0YW5jZTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0UGx1Z2luKSwKICAgICAgYyA9IGE7CiAgYy5NQVhfSU5TVEFOQ0VTID0gMzAsIGMuX0FVRElPX1JFQURZID0gImNhbnBsYXl0aHJvdWdoIiwgYy5fQVVESU9fRU5ERUQgPSAiZW5kZWQiLCBjLl9BVURJT19TRUVLRUQgPSAic2Vla2VkIiwgYy5fQVVESU9fU1RBTExFRCA9ICJzdGFsbGVkIiwgYy5fVElNRV9VUERBVEUgPSAidGltZXVwZGF0ZSIsIGMuX2NhcGFiaWxpdGllcyA9IG51bGwsIGMuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gYy5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKSwgbnVsbCAhPSBjLl9jYXBhYmlsaXRpZXM7CiAgfSwgYy5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAobnVsbCA9PSBjLl9jYXBhYmlsaXRpZXMpIHsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpOwogICAgICBpZiAobnVsbCA9PSBhLmNhblBsYXlUeXBlKSByZXR1cm4gbnVsbDsKICAgICAgYy5fY2FwYWJpbGl0aWVzID0gewogICAgICAgIHBhbm5pbmc6ICExLAogICAgICAgIHZvbHVtZTogITAsCiAgICAgICAgdHJhY2tzOiAtMQogICAgICB9OwoKICAgICAgZm9yICh2YXIgYiA9IGNyZWF0ZWpzLlNvdW5kLlNVUFBPUlRFRF9FWFRFTlNJT05TLCBkID0gY3JlYXRlanMuU291bmQuRVhURU5TSU9OX01BUCwgZSA9IDAsIGYgPSBiLmxlbmd0aDsgZiA+IGU7IGUrKykgewogICAgICAgIHZhciBnID0gYltlXSwKICAgICAgICAgICAgaCA9IGRbZ10gfHwgZzsKICAgICAgICBjLl9jYXBhYmlsaXRpZXNbZ10gPSAibm8iICE9IGEuY2FuUGxheVR5cGUoImF1ZGlvLyIgKyBnKSAmJiAiIiAhPSBhLmNhblBsYXlUeXBlKCJhdWRpby8iICsgZykgfHwgIm5vIiAhPSBhLmNhblBsYXlUeXBlKCJhdWRpby8iICsgaCkgJiYgIiIgIT0gYS5jYW5QbGF5VHlwZSgiYXVkaW8vIiArIGgpOwogICAgICB9CiAgICB9CiAgfSwgYi5yZWdpc3RlciA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuZ2V0KGEuc3JjKSwKICAgICAgICBjID0gdGhpcy5BYnN0cmFjdFBsdWdpbl9yZWdpc3RlcihhKTsKICAgIHJldHVybiBjLnNldFRhZyhiKSwgYzsKICB9LCBiLnJlbW92ZVNvdW5kID0gZnVuY3Rpb24gKGEpIHsKICAgIHRoaXMuQWJzdHJhY3RQbHVnaW5fcmVtb3ZlU291bmQoYSksIGNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wucmVtb3ZlKGEpOwogIH0sIGIuY3JlYXRlID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHZhciBkID0gdGhpcy5BYnN0cmFjdFBsdWdpbl9jcmVhdGUoYSwgYiwgYyk7CiAgICByZXR1cm4gZC5wbGF5YmFja1Jlc291cmNlID0gbnVsbCwgZDsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbSFRNTEF1ZGlvUGx1Z2luXSI7CiAgfSwgYi5zZXRWb2x1bWUgPSBiLmdldFZvbHVtZSA9IGIuc2V0TXV0ZSA9IG51bGwsIGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbiA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0UGx1Z2luIik7Cn0oKSwgdGhpcy5jcmVhdGVqcyA9IHRoaXMuY3JlYXRlanMgfHwge30sIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIGEoYSkgewogICAgdGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKSwgdGhpcy5pZ25vcmVHbG9iYWxQYXVzZSA9ICExLCB0aGlzLmxvb3AgPSAwLCB0aGlzLnVzZVRpY2tzID0gITEsIHRoaXMucmV2ZXJzZWQgPSAhMSwgdGhpcy5ib3VuY2UgPSAhMSwgdGhpcy50aW1lU2NhbGUgPSAxLCB0aGlzLmR1cmF0aW9uID0gMCwgdGhpcy5wb3NpdGlvbiA9IDAsIHRoaXMucmF3UG9zaXRpb24gPSAtMSwgdGhpcy5fcGF1c2VkID0gITAsIHRoaXMuX25leHQgPSBudWxsLCB0aGlzLl9wcmV2ID0gbnVsbCwgdGhpcy5fcGFyZW50ID0gbnVsbCwgdGhpcy5fbGFiZWxzID0gbnVsbCwgdGhpcy5fbGFiZWxMaXN0ID0gbnVsbCwgYSAmJiAodGhpcy51c2VUaWNrcyA9ICEhYS51c2VUaWNrcywgdGhpcy5pZ25vcmVHbG9iYWxQYXVzZSA9ICEhYS5pZ25vcmVHbG9iYWxQYXVzZSwgdGhpcy5sb29wID0gYS5sb29wID09PSAhMCA/IC0xIDogYS5sb29wIHx8IDAsIHRoaXMucmV2ZXJzZWQgPSAhIWEucmV2ZXJzZWQsIHRoaXMuYm91bmNlID0gISFhLmJvdW5jZSwgdGhpcy50aW1lU2NhbGUgPSBhLnRpbWVTY2FsZSB8fCAxLCBhLm9uQ2hhbmdlICYmIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgYS5vbkNoYW5nZSksIGEub25Db21wbGV0ZSAmJiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBsZXRlIiwgYS5vbkNvbXBsZXRlKSk7CiAgfQoKICB2YXIgYiA9IGNyZWF0ZWpzLmV4dGVuZChhLCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpOwogIGIuX3NldFBhdXNlZCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gY3JlYXRlanMuVHdlZW4uX3JlZ2lzdGVyKHRoaXMsIGEpLCB0aGlzOwogIH0sIGIuc2V0UGF1c2VkID0gY3JlYXRlanMuZGVwcmVjYXRlKGIuX3NldFBhdXNlZCwgIkFic3RyYWN0VHdlZW4uc2V0UGF1c2VkIiksIGIuX2dldFBhdXNlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLl9wYXVzZWQ7CiAgfSwgYi5nZXRQYXVzZWQgPSBjcmVhdGVqcy5kZXByZWNhdGUoYi5fZ2V0UGF1c2VkLCAiQWJzdGFjdFR3ZWVuLmdldFBhdXNlZCIpLCBiLl9nZXRDdXJyZW50TGFiZWwgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmdldExhYmVscygpOwogICAgbnVsbCA9PSBhICYmIChhID0gdGhpcy5wb3NpdGlvbik7CgogICAgZm9yICh2YXIgYyA9IDAsIGQgPSBiLmxlbmd0aDsgZCA+IGMgJiYgIShhIDwgYltjXS5wb3NpdGlvbik7IGMrKykgewogICAgICA7CiAgICB9CgogICAgcmV0dXJuIDAgPT09IGMgPyBudWxsIDogYltjIC0gMV0ubGFiZWw7CiAgfSwgYi5nZXRDdXJyZW50TGFiZWwgPSBjcmVhdGVqcy5kZXByZWNhdGUoYi5fZ2V0Q3VycmVudExhYmVsLCAiQWJzdHJhY3RUd2Vlbi5nZXRDdXJyZW50TGFiZWwiKTsKCiAgdHJ5IHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGIsIHsKICAgICAgcGF1c2VkOiB7CiAgICAgICAgc2V0OiBiLl9zZXRQYXVzZWQsCiAgICAgICAgZ2V0OiBiLl9nZXRQYXVzZWQKICAgICAgfSwKICAgICAgY3VycmVudExhYmVsOiB7CiAgICAgICAgZ2V0OiBiLl9nZXRDdXJyZW50TGFiZWwKICAgICAgfQogICAgfSk7CiAgfSBjYXRjaCAoYykge30KCiAgYi5hZHZhbmNlID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5yYXdQb3NpdGlvbiArIGEgKiB0aGlzLnRpbWVTY2FsZSwgYik7CiAgfSwgYi5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICB2YXIgZSA9IHRoaXMuZHVyYXRpb24sCiAgICAgICAgZiA9IHRoaXMubG9vcCwKICAgICAgICBnID0gdGhpcy5yYXdQb3NpdGlvbiwKICAgICAgICBoID0gMCwKICAgICAgICBpID0gMCwKICAgICAgICBqID0gITE7CgogICAgaWYgKDAgPiBhICYmIChhID0gMCksIDAgPT09IGUpIHsKICAgICAgaWYgKGogPSAhMCwgLTEgIT09IGcpIHJldHVybiBqOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGggPSBhIC8gZSB8IDAsIGkgPSBhIC0gaCAqIGUsIGogPSAtMSAhPT0gZiAmJiBhID49IGYgKiBlICsgZSwgaiAmJiAoYSA9IChpID0gZSkgKiAoaCA9IGYpICsgZSksIGEgPT09IGcpIHJldHVybiBqOwogICAgICB2YXIgayA9ICF0aGlzLnJldmVyc2VkICE9ICEodGhpcy5ib3VuY2UgJiYgaCAlIDIpOwogICAgICBrICYmIChpID0gZSAtIGkpOwogICAgfQoKICAgIHRoaXMucG9zaXRpb24gPSBpLCB0aGlzLnJhd1Bvc2l0aW9uID0gYSwgdGhpcy5fdXBkYXRlUG9zaXRpb24oYywgaiksIGogJiYgKHRoaXMucGF1c2VkID0gITApLCBkICYmIGQodGhpcyksIGIgfHwgdGhpcy5fcnVuQWN0aW9ucyhnLCBhLCBjLCAhYyAmJiAtMSA9PT0gZyksIHRoaXMuZGlzcGF0Y2hFdmVudCgiY2hhbmdlIiksIGogJiYgdGhpcy5kaXNwYXRjaEV2ZW50KCJjb21wbGV0ZSIpOwogIH0sIGIuY2FsY3VsYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLmR1cmF0aW9uLAogICAgICAgIGMgPSB0aGlzLmxvb3AsCiAgICAgICAgZCA9IDAsCiAgICAgICAgZSA9IDA7CiAgICBpZiAoMCA9PT0gYikgcmV0dXJuIDA7CiAgICAtMSAhPT0gYyAmJiBhID49IGMgKiBiICsgYiA/IChlID0gYiwgZCA9IGMpIDogMCA+IGEgPyBlID0gMCA6IChkID0gYSAvIGIgfCAwLCBlID0gYSAtIGQgKiBiKTsKICAgIHZhciBmID0gIXRoaXMucmV2ZXJzZWQgIT0gISh0aGlzLmJvdW5jZSAmJiBkICUgMik7CiAgICByZXR1cm4gZiA/IGIgLSBlIDogZTsKICB9LCBiLmdldExhYmVscyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhID0gdGhpcy5fbGFiZWxMaXN0OwoKICAgIGlmICghYSkgewogICAgICBhID0gdGhpcy5fbGFiZWxMaXN0ID0gW107CiAgICAgIHZhciBiID0gdGhpcy5fbGFiZWxzOwoKICAgICAgZm9yICh2YXIgYyBpbiBiKSB7CiAgICAgICAgYS5wdXNoKHsKICAgICAgICAgIGxhYmVsOiBjLAogICAgICAgICAgcG9zaXRpb246IGJbY10KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgYS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEucG9zaXRpb24gLSBiLnBvc2l0aW9uOwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9LCBiLnNldExhYmVscyA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLl9sYWJlbHMgPSBhLCB0aGlzLl9sYWJlbExpc3QgPSBudWxsOwogIH0sIGIuYWRkTGFiZWwgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdGhpcy5fbGFiZWxzIHx8ICh0aGlzLl9sYWJlbHMgPSB7fSksIHRoaXMuX2xhYmVsc1thXSA9IGI7CiAgICB2YXIgYyA9IHRoaXMuX2xhYmVsTGlzdDsKCiAgICBpZiAoYykgewogICAgICBmb3IgKHZhciBkID0gMCwgZSA9IGMubGVuZ3RoOyBlID4gZCAmJiAhKGIgPCBjW2RdLnBvc2l0aW9uKTsgZCsrKSB7CiAgICAgICAgOwogICAgICB9CgogICAgICBjLnNwbGljZShkLCAwLCB7CiAgICAgICAgbGFiZWw6IGEsCiAgICAgICAgcG9zaXRpb246IGIKICAgICAgfSk7CiAgICB9CiAgfSwgYi5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIChhKSB7CiAgICB0aGlzLnBhdXNlZCA9ICExLCB0aGlzLl9nb3RvKGEpOwogIH0sIGIuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiAoYSkgewogICAgdGhpcy5wYXVzZWQgPSAhMCwgdGhpcy5fZ290byhhKTsKICB9LCBiLnJlc29sdmUgPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSBOdW1iZXIoYSk7CiAgICByZXR1cm4gaXNOYU4oYikgJiYgKGIgPSB0aGlzLl9sYWJlbHMgJiYgdGhpcy5fbGFiZWxzW2FdKSwgYjsKICB9LCBiLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbQWJzdHJhY3RUd2Vlbl0iOwogIH0sIGIuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyAiQWJzdHJhY3RUd2VlbiBjYW4gbm90IGJlIGNsb25lZC4iOwogIH0sIGIuX2luaXQgPSBmdW5jdGlvbiAoYSkgewogICAgYSAmJiBhLnBhdXNlZCB8fCAodGhpcy5wYXVzZWQgPSAhMSksIGEgJiYgbnVsbCAhPSBhLnBvc2l0aW9uICYmIHRoaXMuc2V0UG9zaXRpb24oYS5wb3NpdGlvbik7CiAgfSwgYi5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoYSwgYikge30sIGIuX2dvdG8gPSBmdW5jdGlvbiAoYSkgewogICAgdmFyIGIgPSB0aGlzLnJlc29sdmUoYSk7CiAgICBudWxsICE9IGIgJiYgdGhpcy5zZXRQb3NpdGlvbihiLCAhMSwgITApOwogIH0sIGIuX3J1bkFjdGlvbnMgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgewogICAgaWYgKHRoaXMuX2FjdGlvbkhlYWQgfHwgdGhpcy50d2VlbnMpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBmLAogICAgICAgICAgZywKICAgICAgICAgIGgsCiAgICAgICAgICBpID0gdGhpcy5kdXJhdGlvbiwKICAgICAgICAgIGogPSB0aGlzLnJldmVyc2VkLAogICAgICAgICAgayA9IHRoaXMuYm91bmNlLAogICAgICAgICAgbCA9IHRoaXMubG9vcDsKICAgICAgaWYgKDAgPT09IGkgPyAoZSA9IGYgPSBnID0gaCA9IDAsIGogPSBrID0gITEpIDogKGUgPSBhIC8gaSB8IDAsIGYgPSBiIC8gaSB8IDAsIGcgPSBhIC0gZSAqIGksIGggPSBiIC0gZiAqIGkpLCAtMSAhPT0gbCAmJiAoZiA+IGwgJiYgKGggPSBpLCBmID0gbCksIGUgPiBsICYmIChnID0gaSwgZSA9IGwpKSwgYykgcmV0dXJuIHRoaXMuX3J1bkFjdGlvbnNSYW5nZShoLCBoLCBjLCBkKTsKCiAgICAgIGlmIChlICE9PSBmIHx8IGcgIT09IGggfHwgYyB8fCBkKSB7CiAgICAgICAgLTEgPT09IGUgJiYgKGUgPSBnID0gMCk7CiAgICAgICAgdmFyIG0gPSBiID49IGEsCiAgICAgICAgICAgIG4gPSBlOwoKICAgICAgICBkbyB7CiAgICAgICAgICB2YXIgbyA9ICFqICE9ICEoayAmJiBuICUgMiksCiAgICAgICAgICAgICAgcCA9IG4gPT09IGUgPyBnIDogbSA/IDAgOiBpLAogICAgICAgICAgICAgIHEgPSBuID09PSBmID8gaCA6IG0gPyBpIDogMDsKICAgICAgICAgIGlmIChvICYmIChwID0gaSAtIHAsIHEgPSBpIC0gcSksIGsgJiYgbiAhPT0gZSAmJiBwID09PSBxKSA7ZWxzZSBpZiAodGhpcy5fcnVuQWN0aW9uc1JhbmdlKHAsIHEsIGMsIGQgfHwgbiAhPT0gZSAmJiAhaykpIHJldHVybiAhMDsKICAgICAgICAgIGQgPSAhMTsKICAgICAgICB9IHdoaWxlIChtICYmICsrbiA8PSBmIHx8ICFtICYmIC0tbiA+PSBmKTsKICAgICAgfQogICAgfQogIH0sIGIuX3J1bkFjdGlvbnNSYW5nZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7fSwgY3JlYXRlanMuQWJzdHJhY3RUd2VlbiA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkV2ZW50RGlzcGF0Y2hlciIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGMsIGQpIHsKICAgIHRoaXMuQWJzdHJhY3RUd2Vlbl9jb25zdHJ1Y3RvcihkKSwgdGhpcy5wbHVnaW5EYXRhID0gbnVsbCwgdGhpcy50YXJnZXQgPSBjLCB0aGlzLnBhc3NpdmUgPSAhMSwgdGhpcy5fc3RlcEhlYWQgPSBuZXcgYihudWxsLCAwLCAwLCB7fSwgbnVsbCwgITApLCB0aGlzLl9zdGVwVGFpbCA9IHRoaXMuX3N0ZXBIZWFkLCB0aGlzLl9zdGVwUG9zaXRpb24gPSAwLCB0aGlzLl9hY3Rpb25IZWFkID0gbnVsbCwgdGhpcy5fYWN0aW9uVGFpbCA9IG51bGwsIHRoaXMuX3BsdWdpbnMgPSBudWxsLCB0aGlzLl9wbHVnaW5JZHMgPSBudWxsLCB0aGlzLl9pbmplY3RlZCA9IG51bGwsIGQgJiYgKHRoaXMucGx1Z2luRGF0YSA9IGQucGx1Z2luRGF0YSwgZC5vdmVycmlkZSAmJiBhLnJlbW92ZVR3ZWVucyhjKSksIHRoaXMucGx1Z2luRGF0YSB8fCAodGhpcy5wbHVnaW5EYXRhID0ge30pLCB0aGlzLl9pbml0KGQpOwogIH0KCiAgZnVuY3Rpb24gYihhLCBiLCBjLCBkLCBlLCBmKSB7CiAgICB0aGlzLm5leHQgPSBudWxsLCB0aGlzLnByZXYgPSBhLCB0aGlzLnQgPSBiLCB0aGlzLmQgPSBjLCB0aGlzLnByb3BzID0gZCwgdGhpcy5lYXNlID0gZSwgdGhpcy5wYXNzaXZlID0gZiwgdGhpcy5pbmRleCA9IGEgPyBhLmluZGV4ICsgMSA6IDA7CiAgfQoKICBmdW5jdGlvbiBjKGEsIGIsIGMsIGQsIGUpIHsKICAgIHRoaXMubmV4dCA9IG51bGwsIHRoaXMucHJldiA9IGEsIHRoaXMudCA9IGIsIHRoaXMuZCA9IDAsIHRoaXMuc2NvcGUgPSBjLCB0aGlzLmZ1bmN0ID0gZCwgdGhpcy5wYXJhbXMgPSBlOwogIH0KCiAgdmFyIGQgPSBjcmVhdGVqcy5leHRlbmQoYSwgY3JlYXRlanMuQWJzdHJhY3RUd2Vlbik7CiAgYS5JR05PUkUgPSB7fSwgYS5fdHdlZW5zID0gW10sIGEuX3BsdWdpbnMgPSBudWxsLCBhLl90d2VlbkhlYWQgPSBudWxsLCBhLl90d2VlblRhaWwgPSBudWxsLCBhLmdldCA9IGZ1bmN0aW9uIChiLCBjKSB7CiAgICByZXR1cm4gbmV3IGEoYiwgYyk7CiAgfSwgYS50aWNrID0gZnVuY3Rpb24gKGIsIGMpIHsKICAgIGZvciAodmFyIGQgPSBhLl90d2VlbkhlYWQ7IGQ7KSB7CiAgICAgIHZhciBlID0gZC5fbmV4dDsKICAgICAgYyAmJiAhZC5pZ25vcmVHbG9iYWxQYXVzZSB8fCBkLl9wYXVzZWQgfHwgZC5hZHZhbmNlKGQudXNlVGlja3MgPyAxIDogYiksIGQgPSBlOwogICAgfQogIH0sIGEuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoYSkgewogICAgInRpY2siID09PSBhLnR5cGUgJiYgdGhpcy50aWNrKGEuZGVsdGEsIGEucGF1c2VkKTsKICB9LCBhLnJlbW92ZVR3ZWVucyA9IGZ1bmN0aW9uIChiKSB7CiAgICBpZiAoYi50d2VlbmpzX2NvdW50KSB7CiAgICAgIGZvciAodmFyIGMgPSBhLl90d2VlbkhlYWQ7IGM7KSB7CiAgICAgICAgdmFyIGQgPSBjLl9uZXh0OwogICAgICAgIGMudGFyZ2V0ID09PSBiICYmIGEuX3JlZ2lzdGVyKGMsICEwKSwgYyA9IGQ7CiAgICAgIH0KCiAgICAgIGIudHdlZW5qc19jb3VudCA9IDA7CiAgICB9CiAgfSwgYS5yZW1vdmVBbGxUd2VlbnMgPSBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBiID0gYS5fdHdlZW5IZWFkOyBiOykgewogICAgICB2YXIgYyA9IGIuX25leHQ7CiAgICAgIGIuX3BhdXNlZCA9ICEwLCBiLnRhcmdldCAmJiAoYi50YXJnZXQudHdlZW5qc19jb3VudCA9IDApLCBiLl9uZXh0ID0gYi5fcHJldiA9IG51bGwsIGIgPSBjOwogICAgfQoKICAgIGEuX3R3ZWVuSGVhZCA9IGEuX3R3ZWVuVGFpbCA9IG51bGw7CiAgfSwgYS5oYXNBY3RpdmVUd2VlbnMgPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIGIgPyAhIWIudHdlZW5qc19jb3VudCA6ICEhYS5fdHdlZW5IZWFkOwogIH0sIGEuX2luc3RhbGxQbHVnaW4gPSBmdW5jdGlvbiAoYikgewogICAgZm9yICh2YXIgYyA9IGIucHJpb3JpdHkgPSBiLnByaW9yaXR5IHx8IDAsIGQgPSBhLl9wbHVnaW5zID0gYS5fcGx1Z2lucyB8fCBbXSwgZSA9IDAsIGYgPSBkLmxlbmd0aDsgZiA+IGUgJiYgIShjIDwgZFtlXS5wcmlvcml0eSk7IGUrKykgewogICAgICA7CiAgICB9CgogICAgZC5zcGxpY2UoZSwgMCwgYik7CiAgfSwgYS5fcmVnaXN0ZXIgPSBmdW5jdGlvbiAoYiwgYykgewogICAgdmFyIGQgPSBiLnRhcmdldDsKCiAgICBpZiAoIWMgJiYgYi5fcGF1c2VkKSB7CiAgICAgIGQgJiYgKGQudHdlZW5qc19jb3VudCA9IGQudHdlZW5qc19jb3VudCA/IGQudHdlZW5qc19jb3VudCArIDEgOiAxKTsKICAgICAgdmFyIGUgPSBhLl90d2VlblRhaWw7CiAgICAgIGUgPyAoYS5fdHdlZW5UYWlsID0gZS5fbmV4dCA9IGIsIGIuX3ByZXYgPSBlKSA6IGEuX3R3ZWVuSGVhZCA9IGEuX3R3ZWVuVGFpbCA9IGIsICFhLl9pbml0ZWQgJiYgY3JlYXRlanMuVGlja2VyICYmIChjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcigidGljayIsIGEpLCBhLl9pbml0ZWQgPSAhMCk7CiAgICB9IGVsc2UgaWYgKGMgJiYgIWIuX3BhdXNlZCkgewogICAgICBkICYmIGQudHdlZW5qc19jb3VudC0tOwogICAgICB2YXIgZiA9IGIuX25leHQsCiAgICAgICAgICBnID0gYi5fcHJldjsKICAgICAgZiA/IGYuX3ByZXYgPSBnIDogYS5fdHdlZW5UYWlsID0gZywgZyA/IGcuX25leHQgPSBmIDogYS5fdHdlZW5IZWFkID0gZiwgYi5fbmV4dCA9IGIuX3ByZXYgPSBudWxsOwogICAgfQoKICAgIGIuX3BhdXNlZCA9IGM7CiAgfSwgZC53YWl0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBhID4gMCAmJiB0aGlzLl9hZGRTdGVwKCthLCB0aGlzLl9zdGVwVGFpbC5wcm9wcywgbnVsbCwgYiksIHRoaXM7CiAgfSwgZC50byA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7CiAgICAobnVsbCA9PSBiIHx8IDAgPiBiKSAmJiAoYiA9IDApOwoKICAgIHZhciBkID0gdGhpcy5fYWRkU3RlcCgrYiwgbnVsbCwgYyk7CgogICAgcmV0dXJuIHRoaXMuX2FwcGVuZFByb3BzKGEsIGQpLCB0aGlzOwogIH0sIGQubGFiZWwgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIHRoaXMuYWRkTGFiZWwoYSwgdGhpcy5kdXJhdGlvbiksIHRoaXM7CiAgfSwgZC5jYWxsID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsKICAgIHJldHVybiB0aGlzLl9hZGRBY3Rpb24oYyB8fCB0aGlzLnRhcmdldCwgYSwgYiB8fCBbdGhpc10pOwogIH0sIGQuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiB0aGlzLl9hZGRBY3Rpb24oYiB8fCB0aGlzLnRhcmdldCwgdGhpcy5fc2V0LCBbYV0pOwogIH0sIGQucGxheSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5fYWRkQWN0aW9uKGEgfHwgdGhpcywgdGhpcy5fc2V0LCBbewogICAgICBwYXVzZWQ6ICExCiAgICB9XSk7CiAgfSwgZC5wYXVzZSA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gdGhpcy5fYWRkQWN0aW9uKGEgfHwgdGhpcywgdGhpcy5fc2V0LCBbewogICAgICBwYXVzZWQ6ICEwCiAgICB9XSk7CiAgfSwgZC53ID0gZC53YWl0LCBkLnQgPSBkLnRvLCBkLmMgPSBkLmNhbGwsIGQucyA9IGQuc2V0LCBkLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICJbVHdlZW5dIjsKICB9LCBkLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgIlR3ZWVuIGNhbiBub3QgYmUgY2xvbmVkLiI7CiAgfSwgZC5fYWRkUGx1Z2luID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0gdGhpcy5fcGx1Z2luSWRzIHx8ICh0aGlzLl9wbHVnaW5JZHMgPSB7fSksCiAgICAgICAgYyA9IGEuSUQ7CgogICAgaWYgKGMgJiYgIWJbY10pIHsKICAgICAgYltjXSA9ICEwOwoKICAgICAgZm9yICh2YXIgZCA9IHRoaXMuX3BsdWdpbnMgfHwgKHRoaXMuX3BsdWdpbnMgPSBbXSksIGUgPSBhLnByaW9yaXR5IHx8IDAsIGYgPSAwLCBnID0gZC5sZW5ndGg7IGcgPiBmOyBmKyspIHsKICAgICAgICBpZiAoZSA8IGRbZl0ucHJpb3JpdHkpIHJldHVybiB2b2lkIGQuc3BsaWNlKGYsIDAsIGEpOwogICAgICB9CgogICAgICBkLnB1c2goYSk7CiAgICB9CiAgfSwgZC5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSB0aGlzLl9zdGVwSGVhZC5uZXh0LAogICAgICAgIGQgPSB0aGlzLnBvc2l0aW9uLAogICAgICAgIGUgPSB0aGlzLmR1cmF0aW9uOwoKICAgIGlmICh0aGlzLnRhcmdldCAmJiBjKSB7CiAgICAgIGZvciAodmFyIGYgPSBjLm5leHQ7IGYgJiYgZi50IDw9IGQ7KSB7CiAgICAgICAgYyA9IGMubmV4dCwgZiA9IGMubmV4dDsKICAgICAgfQoKICAgICAgdmFyIGcgPSBiID8gMCA9PT0gZSA/IDEgOiBkIC8gZSA6IChkIC0gYy50KSAvIGMuZDsKCiAgICAgIHRoaXMuX3VwZGF0ZVRhcmdldFByb3BzKGMsIGcsIGIpOwogICAgfQoKICAgIHRoaXMuX3N0ZXBQb3NpdGlvbiA9IGMgPyBkIC0gYy50IDogMDsKICB9LCBkLl91cGRhdGVUYXJnZXRQcm9wcyA9IGZ1bmN0aW9uIChiLCBjLCBkKSB7CiAgICBpZiAoISh0aGlzLnBhc3NpdmUgPSAhIWIucGFzc2l2ZSkpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBmLAogICAgICAgICAgZywKICAgICAgICAgIGgsCiAgICAgICAgICBpID0gYi5wcmV2LnByb3BzLAogICAgICAgICAgaiA9IGIucHJvcHM7CiAgICAgIChoID0gYi5lYXNlKSAmJiAoYyA9IGgoYywgMCwgMSwgMSkpOwogICAgICB2YXIgayA9IHRoaXMuX3BsdWdpbnM7CgogICAgICBhOiBmb3IgKHZhciBsIGluIGkpIHsKICAgICAgICBpZiAoZiA9IGlbbF0sIGcgPSBqW2xdLCBlID0gZiAhPT0gZyAmJiAibnVtYmVyIiA9PSB0eXBlb2YgZiA/IGYgKyAoZyAtIGYpICogYyA6IGMgPj0gMSA/IGcgOiBmLCBrKSBmb3IgKHZhciBtID0gMCwgbiA9IGsubGVuZ3RoOyBuID4gbTsgbSsrKSB7CiAgICAgICAgICB2YXIgbyA9IGtbbV0uY2hhbmdlKHRoaXMsIGIsIGwsIGUsIGMsIGQpOwogICAgICAgICAgaWYgKG8gPT09IGEuSUdOT1JFKSBjb250aW51ZSBhOwogICAgICAgICAgdm9pZCAwICE9PSBvICYmIChlID0gbyk7CiAgICAgICAgfQogICAgICAgIHRoaXMudGFyZ2V0W2xdID0gZTsKICAgICAgfQogICAgfQogIH0sIGQuX3J1bkFjdGlvbnNSYW5nZSA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICB2YXIgZSA9IGEgPiBiLAogICAgICAgIGYgPSBlID8gdGhpcy5fYWN0aW9uVGFpbCA6IHRoaXMuX2FjdGlvbkhlYWQsCiAgICAgICAgZyA9IGIsCiAgICAgICAgaCA9IGE7CiAgICBlICYmIChnID0gYSwgaCA9IGIpOwoKICAgIGZvciAodmFyIGkgPSB0aGlzLnBvc2l0aW9uOyBmOykgewogICAgICB2YXIgaiA9IGYudDsKICAgICAgaWYgKChqID09PSBiIHx8IGogPiBoICYmIGcgPiBqIHx8IGQgJiYgaiA9PT0gYSkgJiYgKGYuZnVuY3QuYXBwbHkoZi5zY29wZSwgZi5wYXJhbXMpLCBpICE9PSB0aGlzLnBvc2l0aW9uKSkgcmV0dXJuICEwOwogICAgICBmID0gZSA/IGYucHJldiA6IGYubmV4dDsKICAgIH0KICB9LCBkLl9hcHBlbmRQcm9wcyA9IGZ1bmN0aW9uIChiLCBjLCBkKSB7CiAgICB2YXIgZSwKICAgICAgICBmLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICBpLAogICAgICAgIGogPSB0aGlzLl9zdGVwSGVhZC5wcm9wcywKICAgICAgICBrID0gdGhpcy50YXJnZXQsCiAgICAgICAgbCA9IGEuX3BsdWdpbnMsCiAgICAgICAgbSA9IGMucHJldiwKICAgICAgICBuID0gbS5wcm9wcywKICAgICAgICBvID0gYy5wcm9wcyB8fCAoYy5wcm9wcyA9IHRoaXMuX2Nsb25lUHJvcHMobikpLAogICAgICAgIHAgPSB7fTsKCiAgICBmb3IgKGUgaW4gYikgewogICAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShlKSAmJiAocFtlXSA9IG9bZV0gPSBiW2VdLCB2b2lkIDAgPT09IGpbZV0pKSB7CiAgICAgICAgaWYgKGggPSB2b2lkIDAsIGwpIGZvciAoZiA9IGwubGVuZ3RoIC0gMTsgZiA+PSAwOyBmLS0pIHsKICAgICAgICAgIGlmIChnID0gbFtmXS5pbml0KHRoaXMsIGUsIGgpLCB2b2lkIDAgIT09IGcgJiYgKGggPSBnKSwgaCA9PT0gYS5JR05PUkUpIHsKICAgICAgICAgICAgZGVsZXRlIG9bZV0sIGRlbGV0ZSBwW2VdOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaCAhPT0gYS5JR05PUkUgJiYgKHZvaWQgMCA9PT0gaCAmJiAoaCA9IGtbZV0pLCBuW2VdID0gdm9pZCAwID09PSBoID8gbnVsbCA6IGgpOwogICAgICB9CiAgICB9CgogICAgZm9yIChlIGluIHApIHsKICAgICAgZyA9IGJbZV07CgogICAgICBmb3IgKHZhciBxLCByID0gbTsgKHEgPSByKSAmJiAociA9IHEucHJldik7KSB7CiAgICAgICAgaWYgKHIucHJvcHMgIT09IHEucHJvcHMpIHsKICAgICAgICAgIGlmICh2b2lkIDAgIT09IHIucHJvcHNbZV0pIGJyZWFrOwogICAgICAgICAgci5wcm9wc1tlXSA9IG5bZV07CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGQgIT09ICExICYmIChsID0gdGhpcy5fcGx1Z2lucykpIGZvciAoZiA9IGwubGVuZ3RoIC0gMTsgZiA+PSAwOyBmLS0pIHsKICAgICAgbFtmXS5zdGVwKHRoaXMsIGMsIHApOwogICAgfQogICAgKGkgPSB0aGlzLl9pbmplY3RlZCkgJiYgKHRoaXMuX2luamVjdGVkID0gbnVsbCwgdGhpcy5fYXBwZW5kUHJvcHMoaSwgYywgITEpKTsKICB9LCBkLl9pbmplY3RQcm9wID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gdGhpcy5faW5qZWN0ZWQgfHwgKHRoaXMuX2luamVjdGVkID0ge30pOwogICAgY1thXSA9IGI7CiAgfSwgZC5fYWRkU3RlcCA9IGZ1bmN0aW9uIChhLCBjLCBkLCBlKSB7CiAgICB2YXIgZiA9IG5ldyBiKHRoaXMuX3N0ZXBUYWlsLCB0aGlzLmR1cmF0aW9uLCBhLCBjLCBkLCBlIHx8ICExKTsKICAgIHJldHVybiB0aGlzLmR1cmF0aW9uICs9IGEsIHRoaXMuX3N0ZXBUYWlsID0gdGhpcy5fc3RlcFRhaWwubmV4dCA9IGY7CiAgfSwgZC5fYWRkQWN0aW9uID0gZnVuY3Rpb24gKGEsIGIsIGQpIHsKICAgIHZhciBlID0gbmV3IGModGhpcy5fYWN0aW9uVGFpbCwgdGhpcy5kdXJhdGlvbiwgYSwgYiwgZCk7CiAgICByZXR1cm4gdGhpcy5fYWN0aW9uVGFpbCA/IHRoaXMuX2FjdGlvblRhaWwubmV4dCA9IGUgOiB0aGlzLl9hY3Rpb25IZWFkID0gZSwgdGhpcy5fYWN0aW9uVGFpbCA9IGUsIHRoaXM7CiAgfSwgZC5fc2V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIGZvciAodmFyIGIgaW4gYSkgewogICAgICB0aGlzW2JdID0gYVtiXTsKICAgIH0KICB9LCBkLl9jbG9uZVByb3BzID0gZnVuY3Rpb24gKGEpIHsKICAgIHZhciBiID0ge307CgogICAgZm9yICh2YXIgYyBpbiBhKSB7CiAgICAgIGJbY10gPSBhW2NdOwogICAgfQoKICAgIHJldHVybiBiOwogIH0sIGNyZWF0ZWpzLlR3ZWVuID0gY3JlYXRlanMucHJvbW90ZShhLCAiQWJzdHJhY3RUd2VlbiIpOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKGEpIHsKICAgIHZhciBiLCBjOwogICAgYSBpbnN0YW5jZW9mIEFycmF5IHx8IG51bGwgPT0gYSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSA/IChiID0gYSwgYyA9IGFyZ3VtZW50c1sxXSwgYSA9IGFyZ3VtZW50c1syXSkgOiBhICYmIChiID0gYS50d2VlbnMsIGMgPSBhLmxhYmVscyksIHRoaXMuQWJzdHJhY3RUd2Vlbl9jb25zdHJ1Y3RvcihhKSwgdGhpcy50d2VlbnMgPSBbXSwgYiAmJiB0aGlzLmFkZFR3ZWVuLmFwcGx5KHRoaXMsIGIpLCB0aGlzLnNldExhYmVscyhjKSwgdGhpcy5faW5pdChhKTsKICB9CgogIHZhciBiID0gY3JlYXRlanMuZXh0ZW5kKGEsIGNyZWF0ZWpzLkFic3RyYWN0VHdlZW4pOwogIGIuYWRkVHdlZW4gPSBmdW5jdGlvbiAoYSkgewogICAgYS5fcGFyZW50ICYmIGEuX3BhcmVudC5yZW1vdmVUd2VlbihhKTsKICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aDsKCiAgICBpZiAoYiA+IDEpIHsKICAgICAgZm9yICh2YXIgYyA9IDA7IGIgPiBjOyBjKyspIHsKICAgICAgICB0aGlzLmFkZFR3ZWVuKGFyZ3VtZW50c1tjXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhcmd1bWVudHNbYiAtIDFdOwogICAgfQoKICAgIGlmICgwID09PSBiKSByZXR1cm4gbnVsbDsKICAgIHRoaXMudHdlZW5zLnB1c2goYSksIGEuX3BhcmVudCA9IHRoaXMsIGEucGF1c2VkID0gITA7CiAgICB2YXIgZCA9IGEuZHVyYXRpb247CiAgICByZXR1cm4gYS5sb29wID4gMCAmJiAoZCAqPSBhLmxvb3AgKyAxKSwgZCA+IHRoaXMuZHVyYXRpb24gJiYgKHRoaXMuZHVyYXRpb24gPSBkKSwgdGhpcy5yYXdQb3NpdGlvbiA+PSAwICYmIGEuc2V0UG9zaXRpb24odGhpcy5yYXdQb3NpdGlvbiksIGE7CiAgfSwgYi5yZW1vdmVUd2VlbiA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGFyZ3VtZW50cy5sZW5ndGg7CgogICAgaWYgKGIgPiAxKSB7CiAgICAgIGZvciAodmFyIGMgPSAhMCwgZCA9IDA7IGIgPiBkOyBkKyspIHsKICAgICAgICBjID0gYyAmJiB0aGlzLnJlbW92ZVR3ZWVuKGFyZ3VtZW50c1tkXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGlmICgwID09PSBiKSByZXR1cm4gITA7CgogICAgZm9yICh2YXIgZSA9IHRoaXMudHdlZW5zLCBkID0gZS5sZW5ndGg7IGQtLTspIHsKICAgICAgaWYgKGVbZF0gPT09IGEpIHJldHVybiBlLnNwbGljZShkLCAxKSwgYS5fcGFyZW50ID0gbnVsbCwgYS5kdXJhdGlvbiA+PSB0aGlzLmR1cmF0aW9uICYmIHRoaXMudXBkYXRlRHVyYXRpb24oKSwgITA7CiAgICB9CgogICAgcmV0dXJuICExOwogIH0sIGIudXBkYXRlRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmR1cmF0aW9uID0gMDsKCiAgICBmb3IgKHZhciBhID0gMCwgYiA9IHRoaXMudHdlZW5zLmxlbmd0aDsgYiA+IGE7IGErKykgewogICAgICB2YXIgYyA9IHRoaXMudHdlZW5zW2FdLAogICAgICAgICAgZCA9IGMuZHVyYXRpb247CiAgICAgIGMubG9vcCA+IDAgJiYgKGQgKj0gYy5sb29wICsgMSksIGQgPiB0aGlzLmR1cmF0aW9uICYmICh0aGlzLmR1cmF0aW9uID0gZCk7CiAgICB9CiAgfSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiW1RpbWVsaW5lXSI7CiAgfSwgYi5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93ICJUaW1lbGluZSBjYW4gbm90IGJlIGNsb25lZC4iOwogIH0sIGIuX3VwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIGZvciAodmFyIGMgPSB0aGlzLnBvc2l0aW9uLCBkID0gMCwgZSA9IHRoaXMudHdlZW5zLmxlbmd0aDsgZSA+IGQ7IGQrKykgewogICAgICB0aGlzLnR3ZWVuc1tkXS5zZXRQb3NpdGlvbihjLCAhMCwgYSk7CiAgICB9CiAgfSwgYi5fcnVuQWN0aW9uc1JhbmdlID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsKICAgIGZvciAodmFyIGUgPSB0aGlzLnBvc2l0aW9uLCBmID0gMCwgZyA9IHRoaXMudHdlZW5zLmxlbmd0aDsgZyA+IGY7IGYrKykgewogICAgICBpZiAodGhpcy50d2VlbnNbZl0uX3J1bkFjdGlvbnMoYSwgYiwgYywgZCksIGUgIT09IHRoaXMucG9zaXRpb24pIHJldHVybiAhMDsKICAgIH0KICB9LCBjcmVhdGVqcy5UaW1lbGluZSA9IGNyZWF0ZWpzLnByb21vdGUoYSwgIkFic3RyYWN0VHdlZW4iKTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gYSgpIHsKICAgIHRocm93ICJFYXNlIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuIjsKICB9CgogIGEubGluZWFyID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhOwogIH0sIGEubm9uZSA9IGEubGluZWFyLCBhLmdldCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gLTEgPiBhID8gYSA9IC0xIDogYSA+IDEgJiYgKGEgPSAxKSwgZnVuY3Rpb24gKGIpIHsKICAgICAgcmV0dXJuIDAgPT0gYSA/IGIgOiAwID4gYSA/IGIgKiAoYiAqIC1hICsgMSArIGEpIDogYiAqICgoMiAtIGIpICogYSArICgxIC0gYSkpOwogICAgfTsKICB9LCBhLmdldFBvd0luID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICByZXR1cm4gTWF0aC5wb3coYiwgYSk7CiAgICB9OwogIH0sIGEuZ2V0UG93T3V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICByZXR1cm4gMSAtIE1hdGgucG93KDEgLSBiLCBhKTsKICAgIH07CiAgfSwgYS5nZXRQb3dJbk91dCA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHsKICAgICAgcmV0dXJuIChiICo9IDIpIDwgMSA/IC41ICogTWF0aC5wb3coYiwgYSkgOiAxIC0gLjUgKiBNYXRoLmFicyhNYXRoLnBvdygyIC0gYiwgYSkpOwogICAgfTsKICB9LCBhLnF1YWRJbiA9IGEuZ2V0UG93SW4oMiksIGEucXVhZE91dCA9IGEuZ2V0UG93T3V0KDIpLCBhLnF1YWRJbk91dCA9IGEuZ2V0UG93SW5PdXQoMiksIGEuY3ViaWNJbiA9IGEuZ2V0UG93SW4oMyksIGEuY3ViaWNPdXQgPSBhLmdldFBvd091dCgzKSwgYS5jdWJpY0luT3V0ID0gYS5nZXRQb3dJbk91dCgzKSwgYS5xdWFydEluID0gYS5nZXRQb3dJbig0KSwgYS5xdWFydE91dCA9IGEuZ2V0UG93T3V0KDQpLCBhLnF1YXJ0SW5PdXQgPSBhLmdldFBvd0luT3V0KDQpLCBhLnF1aW50SW4gPSBhLmdldFBvd0luKDUpLCBhLnF1aW50T3V0ID0gYS5nZXRQb3dPdXQoNSksIGEucXVpbnRJbk91dCA9IGEuZ2V0UG93SW5PdXQoNSksIGEuc2luZUluID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiAxIC0gTWF0aC5jb3MoYSAqIE1hdGguUEkgLyAyKTsKICB9LCBhLnNpbmVPdXQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIE1hdGguc2luKGEgKiBNYXRoLlBJIC8gMik7CiAgfSwgYS5zaW5lSW5PdXQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIC0uNSAqIChNYXRoLmNvcyhNYXRoLlBJICogYSkgLSAxKTsKICB9LCBhLmdldEJhY2tJbiA9IGZ1bmN0aW9uIChhKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHsKICAgICAgcmV0dXJuIGIgKiBiICogKChhICsgMSkgKiBiIC0gYSk7CiAgICB9OwogIH0sIGEuYmFja0luID0gYS5nZXRCYWNrSW4oMS43KSwgYS5nZXRCYWNrT3V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYikgewogICAgICByZXR1cm4gLS1iICogYiAqICgoYSArIDEpICogYiArIGEpICsgMTsKICAgIH07CiAgfSwgYS5iYWNrT3V0ID0gYS5nZXRCYWNrT3V0KDEuNyksIGEuZ2V0QmFja0luT3V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhICo9IDEuNTI1LCBmdW5jdGlvbiAoYikgewogICAgICByZXR1cm4gKGIgKj0gMikgPCAxID8gLjUgKiAoYiAqIGIgKiAoKGEgKyAxKSAqIGIgLSBhKSkgOiAuNSAqICgoYiAtPSAyKSAqIGIgKiAoKGEgKyAxKSAqIGIgKyBhKSArIDIpOwogICAgfTsKICB9LCBhLmJhY2tJbk91dCA9IGEuZ2V0QmFja0luT3V0KDEuNyksIGEuY2lyY0luID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiAtKE1hdGguc3FydCgxIC0gYSAqIGEpIC0gMSk7CiAgfSwgYS5jaXJjT3V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBNYXRoLnNxcnQoMSAtIC0tYSAqIGEpOwogIH0sIGEuY2lyY0luT3V0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiAoYSAqPSAyKSA8IDEgPyAtLjUgKiAoTWF0aC5zcXJ0KDEgLSBhICogYSkgLSAxKSA6IC41ICogKE1hdGguc3FydCgxIC0gKGEgLT0gMikgKiBhKSArIDEpOwogIH0sIGEuYm91bmNlSW4gPSBmdW5jdGlvbiAoYikgewogICAgcmV0dXJuIDEgLSBhLmJvdW5jZU91dCgxIC0gYik7CiAgfSwgYS5ib3VuY2VPdXQgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIDEgLyAyLjc1ID4gYSA/IDcuNTYyNSAqIGEgKiBhIDogMiAvIDIuNzUgPiBhID8gNy41NjI1ICogKGEgLT0gMS41IC8gMi43NSkgKiBhICsgLjc1IDogMi41IC8gMi43NSA+IGEgPyA3LjU2MjUgKiAoYSAtPSAyLjI1IC8gMi43NSkgKiBhICsgLjkzNzUgOiA3LjU2MjUgKiAoYSAtPSAyLjYyNSAvIDIuNzUpICogYSArIC45ODQzNzU7CiAgfSwgYS5ib3VuY2VJbk91dCA9IGZ1bmN0aW9uIChiKSB7CiAgICByZXR1cm4gLjUgPiBiID8gLjUgKiBhLmJvdW5jZUluKDIgKiBiKSA6IC41ICogYS5ib3VuY2VPdXQoMiAqIGIgLSAxKSArIC41OwogIH0sIGEuZ2V0RWxhc3RpY0luID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gMiAqIE1hdGguUEk7CiAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHsKICAgICAgaWYgKDAgPT0gZCB8fCAxID09IGQpIHJldHVybiBkOwogICAgICB2YXIgZSA9IGIgLyBjICogTWF0aC5hc2luKDEgLyBhKTsKICAgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKGQgLT0gMSkpICogTWF0aC5zaW4oKGQgLSBlKSAqIGMgLyBiKSk7CiAgICB9OwogIH0sIGEuZWxhc3RpY0luID0gYS5nZXRFbGFzdGljSW4oMSwgLjMpLCBhLmdldEVsYXN0aWNPdXQgPSBmdW5jdGlvbiAoYSwgYikgewogICAgdmFyIGMgPSAyICogTWF0aC5QSTsKICAgIHJldHVybiBmdW5jdGlvbiAoZCkgewogICAgICBpZiAoMCA9PSBkIHx8IDEgPT0gZCkgcmV0dXJuIGQ7CiAgICAgIHZhciBlID0gYiAvIGMgKiBNYXRoLmFzaW4oMSAvIGEpOwogICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIGQpICogTWF0aC5zaW4oKGQgLSBlKSAqIGMgLyBiKSArIDE7CiAgICB9OwogIH0sIGEuZWxhc3RpY091dCA9IGEuZ2V0RWxhc3RpY091dCgxLCAuMyksIGEuZ2V0RWxhc3RpY0luT3V0ID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciBjID0gMiAqIE1hdGguUEk7CiAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHsKICAgICAgdmFyIGUgPSBiIC8gYyAqIE1hdGguYXNpbigxIC8gYSk7CiAgICAgIHJldHVybiAoZCAqPSAyKSA8IDEgPyAtLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKGQgLT0gMSkpICogTWF0aC5zaW4oKGQgLSBlKSAqIGMgLyBiKSkgOiBhICogTWF0aC5wb3coMiwgLTEwICogKGQgLT0gMSkpICogTWF0aC5zaW4oKGQgLSBlKSAqIGMgLyBiKSAqIC41ICsgMTsKICAgIH07CiAgfSwgYS5lbGFzdGljSW5PdXQgPSBhLmdldEVsYXN0aWNJbk91dCgxLCAuMyAqIDEuNSksIGNyZWF0ZWpzLkVhc2UgPSBhOwp9KCksIHRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzIHx8IHt9LCBmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBhKCkgewogICAgdGhyb3cgIk1vdGlvbkd1aWRlUGx1Z2luIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuIjsKICB9CgogIHZhciBiID0gYTsKICBiLnByaW9yaXR5ID0gMCwgYi5JRCA9ICJNb3Rpb25HdWlkZSIsIGIuaW5zdGFsbCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBjcmVhdGVqcy5Ud2Vlbi5faW5zdGFsbFBsdWdpbihhKSwgY3JlYXRlanMuVHdlZW4uSUdOT1JFOwogIH0sIGIuaW5pdCA9IGZ1bmN0aW9uIChhLCBjLCBkKSB7CiAgICAiZ3VpZGUiID09IGMgJiYgYS5fYWRkUGx1Z2luKGIpOwogIH0sIGIuc3RlcCA9IGZ1bmN0aW9uIChhLCBjLCBkKSB7CiAgICBmb3IgKHZhciBlIGluIGQpIHsKICAgICAgaWYgKCJndWlkZSIgPT09IGUpIHsKICAgICAgICB2YXIgZiA9IGMucHJvcHMuZ3VpZGUsCiAgICAgICAgICAgIGcgPSBiLl9zb2x2ZUd1aWRlRGF0YShkLmd1aWRlLCBmKTsKCiAgICAgICAgZi52YWxpZCA9ICFnOwogICAgICAgIHZhciBoID0gZi5lbmREYXRhOwogICAgICAgIGlmIChhLl9pbmplY3RQcm9wKCJ4IiwgaC54KSwgYS5faW5qZWN0UHJvcCgieSIsIGgueSksIGcgfHwgIWYub3JpZW50KSBicmVhazsKICAgICAgICB2YXIgaSA9IHZvaWQgMCA9PT0gYy5wcmV2LnByb3BzLnJvdGF0aW9uID8gYS50YXJnZXQucm90YXRpb24gfHwgMCA6IGMucHJldi5wcm9wcy5yb3RhdGlvbjsKICAgICAgICBpZiAoZi5zdGFydE9mZnNldFJvdCA9IGkgLSBmLnN0YXJ0RGF0YS5yb3RhdGlvbiwgImZpeGVkIiA9PSBmLm9yaWVudCkgZi5lbmRBYnNSb3QgPSBoLnJvdGF0aW9uICsgZi5zdGFydE9mZnNldFJvdCwgZi5kZWx0YVJvdGF0aW9uID0gMDtlbHNlIHsKICAgICAgICAgIHZhciBqID0gdm9pZCAwID09PSBkLnJvdGF0aW9uID8gYS50YXJnZXQucm90YXRpb24gfHwgMCA6IGQucm90YXRpb24sCiAgICAgICAgICAgICAgayA9IGogLSBmLmVuZERhdGEucm90YXRpb24gLSBmLnN0YXJ0T2Zmc2V0Um90LAogICAgICAgICAgICAgIGwgPSBrICUgMzYwOwoKICAgICAgICAgIHN3aXRjaCAoZi5lbmRBYnNSb3QgPSBqLCBmLm9yaWVudCkgewogICAgICAgICAgICBjYXNlICJhdXRvIjoKICAgICAgICAgICAgICBmLmRlbHRhUm90YXRpb24gPSBrOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAiY3ciOgogICAgICAgICAgICAgIGYuZGVsdGFSb3RhdGlvbiA9IChsICsgMzYwKSAlIDM2MCArIDM2MCAqIE1hdGguYWJzKGsgLyAzNjAgfCAwKTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgImNjdyI6CiAgICAgICAgICAgICAgZi5kZWx0YVJvdGF0aW9uID0gKGwgLSAzNjApICUgMzYwICsgLTM2MCAqIE1hdGguYWJzKGsgLyAzNjAgfCAwKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGEuX2luamVjdFByb3AoInJvdGF0aW9uIiwgZi5lbmRBYnNSb3QpOwogICAgICB9CiAgICB9CiAgfSwgYi5jaGFuZ2UgPSBmdW5jdGlvbiAoYSwgYywgZCwgZSwgZiwgZykgewogICAgdmFyIGggPSBjLnByb3BzLmd1aWRlOwogICAgaWYgKGggJiYgYy5wcm9wcyAhPT0gYy5wcmV2LnByb3BzICYmIGggIT09IGMucHJldi5wcm9wcy5ndWlkZSkgcmV0dXJuICJndWlkZSIgPT09IGQgJiYgIWgudmFsaWQgfHwgIngiID09IGQgfHwgInkiID09IGQgfHwgInJvdGF0aW9uIiA9PT0gZCAmJiBoLm9yaWVudCA/IGNyZWF0ZWpzLlR3ZWVuLklHTk9SRSA6IHZvaWQgYi5fcmF0aW9Ub1Bvc2l0aW9uRGF0YShmLCBoLCBhLnRhcmdldCk7CiAgfSwgYi5kZWJ1ZyA9IGZ1bmN0aW9uIChhLCBjLCBkKSB7CiAgICBhID0gYS5ndWlkZSB8fCBhOwoKICAgIHZhciBlID0gYi5fZmluZFBhdGhQcm9ibGVtcyhhKTsKCiAgICBpZiAoZSAmJiBjb25zb2xlLmVycm9yKCJNb3Rpb25HdWlkZVBsdWdpbiBFcnJvciBmb3VuZDogXG4iICsgZSksICFjKSByZXR1cm4gZTsKICAgIHZhciBmLAogICAgICAgIGcgPSBhLnBhdGgsCiAgICAgICAgaCA9IGcubGVuZ3RoLAogICAgICAgIGkgPSAzLAogICAgICAgIGogPSA5OwoKICAgIGZvciAoYy5zYXZlKCksIGMubGluZUNhcCA9ICJyb3VuZCIsIGMubGluZUpvaW4gPSAibWl0ZXIiLCBjLmJlZ2luUGF0aCgpLCBjLm1vdmVUbyhnWzBdLCBnWzFdKSwgZiA9IDI7IGggPiBmOyBmICs9IDQpIHsKICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKGdbZl0sIGdbZiArIDFdLCBnW2YgKyAyXSwgZ1tmICsgM10pOwogICAgfQoKICAgIGMuc3Ryb2tlU3R5bGUgPSAiYmxhY2siLCBjLmxpbmVXaWR0aCA9IDEuNSAqIGksIGMuc3Ryb2tlKCksIGMuc3Ryb2tlU3R5bGUgPSAid2hpdGUiLCBjLmxpbmVXaWR0aCA9IGksIGMuc3Ryb2tlKCksIGMuY2xvc2VQYXRoKCk7CiAgICB2YXIgayA9IGQubGVuZ3RoOwoKICAgIGlmIChkICYmIGspIHsKICAgICAgdmFyIGwgPSB7fSwKICAgICAgICAgIG0gPSB7fTsKCiAgICAgIGIuX3NvbHZlR3VpZGVEYXRhKGEsIGwpOwoKICAgICAgZm9yICh2YXIgZiA9IDA7IGsgPiBmOyBmKyspIHsKICAgICAgICBsLm9yaWVudCA9ICJmaXhlZCIsIGIuX3JhdGlvVG9Qb3NpdGlvbkRhdGEoZFtmXSwgbCwgbSksIGMuYmVnaW5QYXRoKCksIGMubW92ZVRvKG0ueCwgbS55KSwgYy5saW5lVG8obS54ICsgTWF0aC5jb3MoLjAxNzQ1MzMgKiBtLnJvdGF0aW9uKSAqIGosIG0ueSArIE1hdGguc2luKC4wMTc0NTMzICogbS5yb3RhdGlvbikgKiBqKSwgYy5zdHJva2VTdHlsZSA9ICJibGFjayIsIGMubGluZVdpZHRoID0gMS41ICogaSwgYy5zdHJva2UoKSwgYy5zdHJva2VTdHlsZSA9ICJyZWQiLCBjLmxpbmVXaWR0aCA9IGksIGMuc3Ryb2tlKCksIGMuY2xvc2VQYXRoKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYy5yZXN0b3JlKCksIGU7CiAgfSwgYi5fc29sdmVHdWlkZURhdGEgPSBmdW5jdGlvbiAoYSwgYykgewogICAgdmFyIGQgPSB2b2lkIDA7CiAgICBpZiAoZCA9IGIuZGVidWcoYSkpIHJldHVybiBkOwogICAgdmFyIGUgPSBjLnBhdGggPSBhLnBhdGg7CiAgICBjLm9yaWVudCA9IGEub3JpZW50OwogICAgYy5zdWJMaW5lcyA9IFtdLCBjLnRvdGFsTGVuZ3RoID0gMCwgYy5zdGFydE9mZnNldFJvdCA9IDAsIGMuZGVsdGFSb3RhdGlvbiA9IDAsIGMuc3RhcnREYXRhID0gewogICAgICByYXRpbzogMAogICAgfSwgYy5lbmREYXRhID0gewogICAgICByYXRpbzogMQogICAgfSwgYy5hbmltU3BhbiA9IDE7CiAgICB2YXIgZiwKICAgICAgICBnLAogICAgICAgIGgsCiAgICAgICAgaSwKICAgICAgICBqLAogICAgICAgIGssCiAgICAgICAgbCwKICAgICAgICBtLAogICAgICAgIG4sCiAgICAgICAgbyA9IGUubGVuZ3RoLAogICAgICAgIHAgPSAxMCwKICAgICAgICBxID0ge307CgogICAgZm9yIChmID0gZVswXSwgZyA9IGVbMV0sIGwgPSAyOyBvID4gbDsgbCArPSA0KSB7CiAgICAgIGggPSBlW2xdLCBpID0gZVtsICsgMV0sIGogPSBlW2wgKyAyXSwgayA9IGVbbCArIDNdOwogICAgICB2YXIgciA9IHsKICAgICAgICB3ZWlnaHRpbmdzOiBbXSwKICAgICAgICBlc3RMZW5ndGg6IDAsCiAgICAgICAgcG9ydGlvbjogMAogICAgICB9LAogICAgICAgICAgcyA9IGYsCiAgICAgICAgICB0ID0gZzsKCiAgICAgIGZvciAobSA9IDE7IHAgPj0gbTsgbSsrKSB7CiAgICAgICAgYi5fZ2V0UGFyYW1zRm9yQ3VydmUoZiwgZywgaCwgaSwgaiwgaywgbSAvIHAsICExLCBxKTsKCiAgICAgICAgdmFyIHUgPSBxLnggLSBzLAogICAgICAgICAgICB2ID0gcS55IC0gdDsKICAgICAgICBuID0gTWF0aC5zcXJ0KHUgKiB1ICsgdiAqIHYpLCByLndlaWdodGluZ3MucHVzaChuKSwgci5lc3RMZW5ndGggKz0gbiwgcyA9IHEueCwgdCA9IHEueTsKICAgICAgfQoKICAgICAgZm9yIChjLnRvdGFsTGVuZ3RoICs9IHIuZXN0TGVuZ3RoLCBtID0gMDsgcCA+IG07IG0rKykgewogICAgICAgIG4gPSByLmVzdExlbmd0aCwgci53ZWlnaHRpbmdzW21dID0gci53ZWlnaHRpbmdzW21dIC8gbjsKICAgICAgfQoKICAgICAgYy5zdWJMaW5lcy5wdXNoKHIpLCBmID0gaiwgZyA9IGs7CiAgICB9CgogICAgbiA9IGMudG90YWxMZW5ndGg7CiAgICB2YXIgdyA9IGMuc3ViTGluZXMubGVuZ3RoOwoKICAgIGZvciAobCA9IDA7IHcgPiBsOyBsKyspIHsKICAgICAgYy5zdWJMaW5lc1tsXS5wb3J0aW9uID0gYy5zdWJMaW5lc1tsXS5lc3RMZW5ndGggLyBuOwogICAgfQoKICAgIHZhciB4ID0gaXNOYU4oYS5zdGFydCkgPyAwIDogYS5zdGFydCwKICAgICAgICB5ID0gaXNOYU4oYS5lbmQpID8gMSA6IGEuZW5kOwogICAgYi5fcmF0aW9Ub1Bvc2l0aW9uRGF0YSh4LCBjLCBjLnN0YXJ0RGF0YSksIGIuX3JhdGlvVG9Qb3NpdGlvbkRhdGEoeSwgYywgYy5lbmREYXRhKSwgYy5zdGFydERhdGEucmF0aW8gPSB4LCBjLmVuZERhdGEucmF0aW8gPSB5LCBjLmFuaW1TcGFuID0gYy5lbmREYXRhLnJhdGlvIC0gYy5zdGFydERhdGEucmF0aW87CiAgfSwgYi5fcmF0aW9Ub1Bvc2l0aW9uRGF0YSA9IGZ1bmN0aW9uIChhLCBjLCBkKSB7CiAgICB2YXIgZSwKICAgICAgICBmLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICBpLAogICAgICAgIGogPSBjLnN1YkxpbmVzLAogICAgICAgIGsgPSAwLAogICAgICAgIGwgPSAxMCwKICAgICAgICBtID0gYSAqIGMuYW5pbVNwYW4gKyBjLnN0YXJ0RGF0YS5yYXRpbzsKCiAgICBmb3IgKGYgPSBqLmxlbmd0aCwgZSA9IDA7IGYgPiBlOyBlKyspIHsKICAgICAgaWYgKGggPSBqW2VdLnBvcnRpb24sIGsgKyBoID49IG0pIHsKICAgICAgICBpID0gZTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgayArPSBoOwogICAgfQoKICAgIHZvaWQgMCA9PT0gaSAmJiAoaSA9IGYgLSAxLCBrIC09IGgpOwogICAgdmFyIG4gPSBqW2ldLndlaWdodGluZ3MsCiAgICAgICAgbyA9IGg7CgogICAgZm9yIChmID0gbi5sZW5ndGgsIGUgPSAwOyBmID4gZSAmJiAoaCA9IG5bZV0gKiBvLCAhKGsgKyBoID49IG0pKTsgZSsrKSB7CiAgICAgIGsgKz0gaDsKICAgIH0KCiAgICBpID0gNCAqIGkgKyAyLCBnID0gZSAvIGwgKyAobSAtIGspIC8gaCAqICgxIC8gbCk7CiAgICB2YXIgcCA9IGMucGF0aDsKICAgIHJldHVybiBiLl9nZXRQYXJhbXNGb3JDdXJ2ZShwW2kgLSAyXSwgcFtpIC0gMV0sIHBbaV0sIHBbaSArIDFdLCBwW2kgKyAyXSwgcFtpICsgM10sIGcsIGMub3JpZW50LCBkKSwgYy5vcmllbnQgJiYgKGEgPj0gLjk5OTk5ICYmIDEuMDAwMDEgPj0gYSAmJiB2b2lkIDAgIT09IGMuZW5kQWJzUm90ID8gZC5yb3RhdGlvbiA9IGMuZW5kQWJzUm90IDogZC5yb3RhdGlvbiArPSBjLnN0YXJ0T2Zmc2V0Um90ICsgYSAqIGMuZGVsdGFSb3RhdGlvbiksIGQ7CiAgfSwgYi5fZ2V0UGFyYW1zRm9yQ3VydmUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSkgewogICAgdmFyIGogPSAxIC0gZzsKICAgIGkueCA9IGogKiBqICogYSArIDIgKiBqICogZyAqIGMgKyBnICogZyAqIGUsIGkueSA9IGogKiBqICogYiArIDIgKiBqICogZyAqIGQgKyBnICogZyAqIGYsIGggJiYgKGkucm90YXRpb24gPSA1Ny4yOTU3Nzk1ICogTWF0aC5hdGFuMigoZCAtIGIpICogaiArIChmIC0gZCkgKiBnLCAoYyAtIGEpICogaiArIChlIC0gYykgKiBnKSk7CiAgfSwgYi5fZmluZFBhdGhQcm9ibGVtcyA9IGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgYiA9IGEucGF0aCwKICAgICAgICBjID0gYiAmJiBiLmxlbmd0aCB8fCAwOwoKICAgIGlmICg2ID4gYyB8fCAoYyAtIDIpICUgNCkgewogICAgICB2YXIgZCA9ICIJQ2Fubm90IHBhcnNlICdwYXRoJyBhcnJheSBkdWUgdG8gaW52YWxpZCBudW1iZXIgb2YgZW50cmllcyBpbiBwYXRoLiAiOwogICAgICByZXR1cm4gZCArPSAiVGhlcmUgc2hvdWxkIGJlIGFuIG9kZCBudW1iZXIgb2YgcG9pbnRzLCBhdCBsZWFzdCAzIHBvaW50cywgYW5kIDIgZW50cmllcyBwZXIgcG9pbnQgKHggJiB5KS4gIiwgZCArPSAiU2VlICdDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucXVhZHJhdGljQ3VydmVUbycgZm9yIGRldGFpbHMgYXMgJ3BhdGgnIG1vZGVscyBhIHF1YWRyYXRpYyBiZXppZXIuXG5cbiIsIGQgKz0gIk9ubHkgWyAiICsgYyArICIgXSB2YWx1ZXMgZm91bmQuIEV4cGVjdGVkOiAiICsgTWF0aC5tYXgoNCAqIE1hdGguY2VpbCgoYyAtIDIpIC8gNCkgKyAyLCA2KTsKICAgIH0KCiAgICBmb3IgKHZhciBlID0gMDsgYyA+IGU7IGUrKykgewogICAgICBpZiAoaXNOYU4oYltlXSkpIHJldHVybiAiQWxsIGRhdGEgaW4gcGF0aCBhcnJheSBtdXN0IGJlIG51bWVyaWMiOwogICAgfQoKICAgIHZhciBmID0gYS5zdGFydDsKICAgIGlmIChpc05hTihmKSAmJiB2b2lkIDAgIT09IGYpIHJldHVybiAiJ3N0YXJ0JyBvdXQgb2YgYm91bmRzLiBFeHBlY3RlZCAwIHRvIDEsIGdvdDogIiArIGY7CiAgICB2YXIgZyA9IGEuZW5kOwogICAgaWYgKGlzTmFOKGcpICYmIHZvaWQgMCAhPT0gZykgcmV0dXJuICInZW5kJyBvdXQgb2YgYm91bmRzLiBFeHBlY3RlZCAwIHRvIDEsIGdvdDogIiArIGc7CiAgICB2YXIgaCA9IGEub3JpZW50OwogICAgcmV0dXJuIGggJiYgImZpeGVkIiAhPSBoICYmICJhdXRvIiAhPSBoICYmICJjdyIgIT0gaCAmJiAiY2N3IiAhPSBoID8gJ0ludmFsaWQgb3JpZW50YXRpb24gdmFsdWUuIEV4cGVjdGVkIFsiZml4ZWQiLCAiYXV0byIsICJjdyIsICJjY3ciLCB1bmRlZmluZWRdLCBnb3Q6ICcgKyBoIDogdm9pZCAwOwogIH0sIGNyZWF0ZWpzLk1vdGlvbkd1aWRlUGx1Z2luID0gYTsKfSgpLCB0aGlzLmNyZWF0ZWpzID0gdGhpcy5jcmVhdGVqcyB8fCB7fSwgZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIGEgPSBjcmVhdGVqcy5Ud2VlbkpTID0gY3JlYXRlanMuVHdlZW5KUyB8fCB7fTsKICBhLnZlcnNpb24gPSAiMS4wLjAiLCBhLmJ1aWxkRGF0ZSA9ICJUaHUsIDEyIE9jdCAyMDE3IDE2OjM0OjA1IEdNVCI7Cn0oKTs="},{"version":3,"sources":["C:/Users/icald/VueJS/store_app/src/editor/js/createjs.js"],"names":["createjs","extend","a","b","c","constructor","prototype","promote","d","Object","getPrototypeOf","__proto__","e","hasOwnProperty","indexOf","length","_nextID","get","UID","deprecate","console","warn","log","apply","arguments","type","target","currentTarget","eventPhase","bubbles","cancelable","timeStamp","Date","getTime","defaultPrevented","propagationStopped","immediatePropagationStopped","removed","preventDefault","stopPropagation","stopImmediatePropagation","remove","clone","set","toString","Event","_listeners","_captureListeners","initialize","addEventListener","on","removeEventListener","off","removeAllEventListeners","hasEventListener","dispatchEvent","_dispatchEvent","willTrigger","push","f","handleEvent","call","g","splice","parent","h","i","slice","EventDispatcher","RAF_SYNCHED","RAF","TIMEOUT","timingMode","maxDelta","paused","_addEventListener","_inited","init","_startTime","_pausedTime","_ticks","_pausedTicks","_interval","_lastTime","_times","_tickTimes","_timerId","_raf","_setInterval","_setupTick","setInterval","_getInterval","getInterval","_setFPS","setFPS","_getFPS","getFPS","defineProperties","interval","framerate","_getTime","reset","window","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","getMeasuredTickTime","Math","min","getMeasuredFPS","getEventTime","getTicks","_handleSynch","_tick","_handleRAF","_handleTimeout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","delta","time","runTime","unshift","pop","performance","now","mozNow","msNow","oNow","webkitNow","Ticker","readyState","_video","_canvas","_videoReady","bind","getImage","createCanvas","document","createElement","width","videoWidth","height","videoHeight","currentTime","getContext","clearRect","drawImage","VideoBuffer","j","k","Event_constructor","stageX","stageY","rawX","rawY","nativeEvent","pointerID","primary","relatedTarget","_get_localX","globalToLocal","x","_get_localY","y","_get_isTouch","localX","localY","isTouch","MouseEvent","setValues","DEG_TO_RAD","PI","identity","tx","ty","append","prepend","appendMatrix","prependMatrix","appendTransform","l","cos","m","sin","prependTransform","rotate","skew","scale","translate","invert","isIdentity","equals","transformPoint","decompose","scaleX","sqrt","scaleY","atan2","abs","rotation","skewX","skewY","copy","Matrix2D","visible","alpha","shadow","compositeOperation","matrix","DisplayProps","Point","pad","contains","union","intersection","intersects","isEmpty","Rectangle","overLabel","outLabel","downLabel","play","_isPressed","_isOver","_enabled","mouseChildren","enabled","actionsEnabled","gotoAndStop","hitArea","_setEnabled","cursor","_reset","__reset","setEnabled","_getEnabled","getEnabled","gotoAndPlay","ButtonHelper","color","offsetX","offsetY","blur","Shadow","EventDispatcher_constructor","complete","_animations","_frames","_images","_data","_loadCount","_frameHeight","_frameWidth","_numFrames","_regX","_regY","_spacing","_margin","_parseData","_getAnimations","getAnimations","animations","getNumFrames","frames","getAnimation","getFrame","getFrameBounds","regX","regY","rect","images","src","naturalWidth","onload","_handleImageLoad","onerror","_handleImageError","Array","isArray","image","spacing","margin","count","_calculateFrames","name","speed","next","naturalHeight","SpriteSheet","command","_stroke","_strokeStyle","_oldStrokeStyle","_strokeDash","_oldStrokeDash","_strokeIgnoreScale","_fill","_instructions","_commitIndex","_activeInstructions","_dirty","_storeIndex","clear","getRGB","getHSL","BASE_64","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","n","o","p","q","r","s","t","u","v","w","z","STROKE_CAPS_MAP","STROKE_JOINTS_MAP","_ctx","_getInstructions","_updateInstructions","getInstructions","instructions","draw","exec","drawAsPath","path","moveTo","MoveTo","lineTo","LineTo","arcTo","ArcTo","arc","Arc","quadraticCurveTo","QuadraticCurveTo","bezierCurveTo","BezierCurveTo","Rect","closePath","ClosePath","beginFill","_setFill","Fill","beginLinearGradientFill","linearGradient","beginRadialGradientFill","radialGradient","beginBitmapFill","bitmap","endFill","setStrokeStyle","StrokeStyle","ignoreScale","setStrokeDash","StrokeDash","beginStroke","_setStroke","Stroke","beginLinearGradientStroke","beginRadialGradientStroke","beginBitmapStroke","endStroke","curveTo","drawRect","drawRoundRect","drawRoundRectComplex","RoundRect","drawCircle","Circle","drawEllipse","Ellipse","drawPolyStar","PolyStar","decodePath","charAt","store","unstore","mt","lt","at","bt","qt","cp","lf","rf","bf","ef","ss","sd","ls","rs","bs","es","dr","rr","rc","dc","de","dp","beginCmd","x1","y1","x2","y2","radius","startAngle","endAngle","anticlockwise","cpx","cpy","cp1x","cp1y","cp2x","cp2y","BeginPath","beginPath","style","fillStyle","save","transform","fill","restore","createLinearGradient","addColorStop","props","colors","ratios","x0","y0","createRadialGradient","r0","r1","createPattern","repetition","strokeStyle","setTransform","stroke","caps","joints","miterLimit","lineWidth","lineCap","isNaN","lineJoin","segments","offset","setLineDash","EMPTY_SEGMENTS","lineDashOffset","radiusTL","radiusTR","radiusBR","radiusBL","sides","pointSize","angle","Graphics","cacheCanvas","bitmapCache","id","mouseEnabled","tickEnabled","transformMatrix","snapToPixel","filters","mask","_props","_rectangle","_bounds","_webGLRenderStyle","_StageGL_NONE","_MOUSE_EVENTS","suppressCrossDomainErrors","_snapToPixelEnabled","_StageGL_SPRITE","_StageGL_BITMAP","_hitTestCanvas","_hitTestContext","_getStage","Stage","getStage","stage","cacheID","isVisible","updateContext","graphics","getMatrix","clip","globalAlpha","globalCompositeOperation","_applyShadow","cache","BitmapCache","define","updateCache","update","uncache","release","getCacheDataURL","getDataURL","localToGlobal","getConcatenatedMatrix","localToLocal","getConcatenatedDisplayProps","hitTest","_testHit","getBounds","_cacheScale","_cacheOffsetX","_cacheOffsetY","getTransformedBounds","_getBounds","setBounds","_cloneProps","_updateState","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","tick","getImageData","data","_transformBounds","_hasMouseEventListener","DisplayObject","DisplayObject_constructor","children","tickChildren","_getNumChildren","getNumChildren","numChildren","DisplayObject_draw","addChild","_removeChildAt","addChildAt","removeChild","removeChildAt","sort","removeAllChildren","getChildAt","getChildByName","sortChildren","getChildIndex","swapChildrenAt","swapChildren","setChildIndex","getObjectUnderPoint","getObjectsUnderPoint","_getObjectsUnderPoint","_cloneChildren","DisplayObject__tick","_testMask","DisplayObject_getBounds","Container","Container_constructor","autoClear","canvas","getElementById","mouseX","mouseY","snapToPixelEnabled","mouseInBounds","tickOnUpdate","mouseMoveOutside","preventSelection","_pointerData","_pointerCount","_primaryPointerID","_mouseOverIntervalID","_nextStage","_prevStage","enableDOMEvents","_get_nextStage","_set_nextStage","nextStage","toDataURL","fillRect","putImageData","enableMouseOver","clearInterval","_testMouseOver","_eventListeners","mouseup","_handleMouseUp","mousemove","_handleMouseMove","dblclick","_handleDoubleClick","mousedown","_handleMouseDown","_getElementRect","getBoundingClientRect","top","offsetTop","left","offsetLeft","offsetWidth","offsetHeight","pageXOffset","scrollLeft","clientLeft","body","pageYOffset","scrollTop","clientTop","getComputedStyle","currentStyle","parseInt","paddingLeft","borderLeftWidth","paddingTop","borderTopWidth","paddingRight","borderRightWidth","paddingBottom","borderBottomWidth","right","bottom","_getPointerData","event","_handlePointerMove","pageX","pageY","inBounds","_updatePointerPosition","_dispatchMouseEvent","posEvtObj","_handlePointerUp","down","_handlePointerDown","_mouseOverX","_mouseOverY","_mouseOverTarget","Stage_constructor","premultiply","transparent","antialias","preserveBuffer","autoPurge","vocalDebug","_preserveBuffer","_antialias","_transparent","_premultiply","_autoPurge","_viewportWidth","_viewportHeight","_projectionMatrix","_webGLContext","_clearColor","_maxCardsPerBatch","DEFAULT_MAX_BATCH_SIZE","_activeShader","_vertices","_vertexPositionBuffer","_uvs","_uvPositionBuffer","_indices","_textureIndexBuffer","_alphas","_alphaBuffer","_textureDictionary","_textureIDs","_batchTextures","_baseTextures","_batchTextureCount","_lastTextureInsert","_batchID","_drawID","_slotBlacklist","_isDrawing","_lastTrackedCanvas","isCacheControlled","_cacheContainer","_initializeWebGL","buildUVRects","uvRect","isWebGLActive","WebGLRenderingContext","VERTEX_PROPERTY_COUNT","INDICIES_PER_CARD","WEBGL_MAX_INDEX_NUM","pow","UV_RECT","COVER_VERT","Float32Array","COVER_UV","COVER_UV_FLIP","REGULAR_VARYING_HEADER","REGULAR_VERTEX_HEADER","REGULAR_FRAGMENT_HEADER","REGULAR_VERTEX_BODY","REGULAR_FRAGMENT_BODY","REGULAR_FRAG_COLOR_NORMAL","REGULAR_FRAG_COLOR_PREMULTIPLY","PARTICLE_VERTEX_BODY","PARTICLE_FRAGMENT_BODY","COVER_VARYING_HEADER","COVER_VERTEX_HEADER","COVER_FRAGMENT_HEADER","COVER_VERTEX_BODY","COVER_FRAGMENT_BODY","_get_isWebGL","_set_autoPurge","_get_autoPurge","Number","isWebGL","depth","stencil","premultipliedAlpha","preserveDrawingBuffer","_fetchWebGLContext","updateSimultaneousTextureCount","getParameter","MAX_TEXTURE_IMAGE_UNITS","_maxTextureSlots","MAX_COMBINED_TEXTURE_IMAGE_UNITS","_createBuffers","_initTextures","disable","DEPTH_TEST","enable","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","clearColor","updateViewport","_batchDraw","purgeTextures","COLOR_BUFFER_BIT","Stage_clear","Stage_draw","cacheDraw","_cacheDraw","protectTextureSlot","getTargetRenderTexture","__lastRT","__rtA","__rtB","getRenderBufferTexture","_width","_height","resizeTexture","setTextureParams","releaseTexture","_storeID","_killTextureObject","spriteSheet","_fetchShaderProgram","viewport","_projectionMatrixFlip","getFilterShader","_builtShader","shaderParamSetup","useProgram","VTX_SHADER_BODY","FRAG_SHADER_BODY","_name","getBaseTexture","ceil","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","_renderTexture","_frameBuffer","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","setClearColor","split","viewportWidth","viewportHeight","error","_createShader","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","_type","getProgramParameter","LINK_STATUS","getProgramInfoLog","vertexPositionAttribute","getAttribLocation","enableVertexAttribArray","uvPositionAttribute","samplerUniform","getUniformLocation","uniform1i","uprightUniform","uniform1f","textureIndexAttribute","alphaAttribute","samplerData","uniform1iv","pMatrixUniform","replace","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","DYNAMIC_DRAW","itemSize","numItems","_loadTextureImage","_isCanvas","_imageData","_insertTextureInBatch","_updateTextureImageData","activeTexture","TEXTURE0","_activeIndex","isPOT","_invalid","_w","_h","MAX_TEXTURE_SIZE","batchReason","_drawBuffers","batchCardCount","deleteFramebuffer","deleteTexture","_backupBatchTextures","_backupTextures","_appendToBatchGroup","offX","offY","_drawFilters","_drawWidth","_drawHeight","_drawCover","_multiPass","_glMtx","currentFrame","sourceRect","_uvRect","_filterOffX","_filterOffY","vertexAttribPointer","FLOAT","bufferSubData","uniformMatrix4fv","FALSE","drawArrays","TRIANGLES","StageGL","cloneNode","Bitmap","currentAnimation","currentAnimationFrame","_animation","_currentFrame","_skipAdvance","_normalizeFrame","stop","_goto","advance","DisplayObject__cloneProps","_dispatchAnimationEnd","Sprite","Shape","text","font","textAlign","textBaseline","maxWidth","outline","lineHeight","_workingContext","H_OFFSETS","start","center","end","V_OFFSETS","hanging","middle","alphabetic","ideographic","_drawText","_prepContext","getMeasuredWidth","_getMeasuredWidth","getMeasuredLineHeight","getMeasuredHeight","getMetrics","lines","vOffset","substr","String","measureText","_drawTextLine","strokeText","fillText","Text","letterSpacing","spaceWidth","_oldProps","_oldStage","_drawAction","maxPoolSize","_spritePool","Container_draw","_updateText","Container_getBounds","Container__cloneProps","_getFrameIndex","toUpperCase","toLowerCase","_getFrame","_getLineHeight","_getSpaceWidth","BitmapText","inited","mode","startPosition","loop","labels","INDEPENDENT","autoReset","frameBounds","useTicks","timeline","Timeline","_synchOffset","_rawPosition","_bound_resolveState","_resolveState","_t","_managed","SINGLE_FRAME","SYNCHED","install","_getLabels","getLabels","_getCurrentLabel","currentLabel","getCurrentLabel","_getDuration","duration","getDuration","totalFrames","_framerate","_updateTimeline","Container__tick","resolve","setPosition","_renderFirstFrame","rawPosition","position","tweens","passive","_stepPosition","_addManagedChild","_setState","state","_off","Container__getBounds","MovieClip","priority","ID","Tween","_installPlugin","_addPlugin","step","change","prev","_workingCanvas","extractFrame","addFlippedFrames","mergeAlpha","_flip","__tmp","SpriteSheetUtils","maxHeight","padding","timeSlice","progress","_nextFrameIndex","_index","_timerID","_scale","ERR_DIMENSIONS","ERR_RUNNING","addFrame","bounds","nominalBounds","source","funct","index","addAnimation","addMovieClip","_setupMovieClipFrame","_labels","label","build","_startBuild","_drawNext","_endBuild","buildAsync","_run","max","stopAsync","_fillRow","_getSize","floor","img","round","SpriteSheetBuilder","transformOrigin","WebkitTransformOrigin","msTransformOrigin","MozTransformOrigin","OTransformOrigin","htmlElement","_handleDrawEnd","visibility","WebkitTransform","OTransform","msTransform","MozTransform","opacity","DOMElement","usesContext","applyFilter","_applyFilter","Filter","_cacheDataURLID","_cacheDataURL","getFilterBounds","_options","_updateSurface","_drawToCache","_webGLCache","useGL","_applyFilters","Filter_constructor","_blurX","_blurXTable","_lastBlurX","_blurY","_blurYTable","_lastBlurY","_quality","_lastQuality","FRAG_SHADER_TEMPLATE","setQuality","getBlurX","getBlurY","setBlurX","setBlurY","getQuality","_getShader","_getTable","_updateShader","_compiledShader","_setShader","blurX","blurY","quality","reduce","map","toFixed","uniform1fv","uniform2f","MUL_TABLE","SHG_TABLE","BlurFilter","alphaMap","_alphaMap","_mapData","_mapTexture","TEXTURE1","_prepAlphaMap","HTMLCanvasElement","AlphaMapFilter","AlphaMaskFilter","redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset","uniform4f","ColorFilter","setColor","DELTA_INDEX","IDENTITY_MATRIX","LENGTH","adjustColor","adjustHue","adjustContrast","adjustBrightness","adjustSaturation","_cleanValue","_multiplyMatrix","concat","_fixMatrix","toArray","ColorMatrix","ColorMatrixFilter","isSupported","navigator","msPointerEnabled","msMaxTouchPoints","pointerEnabled","maxTouchPoints","__touch","pointers","multitouch","_IOS_enable","_IE_enable","_IOS_disable","_IE_disable","_IOS_handleEvent","changedTouches","identifier","_handleStart","_handleMove","_handleEnd","_IE_handleEvent","msTouchAction","touchAction","activeIDs","pointerId","srcElement","Touch","EaselJS","version","buildDate","PreloadJS","proxy","title","message","ErrorEvent","loaded","total","ProgressEvent","stringify","toJSON","parse","SyntaxError","TypeError","JSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","valueOf","charCodeAt","join","fromCharCode","runInContext","amd","object","exports","nodeType","module","global","self","JSON3","noConflict","el","svg","link","script","audio","video","createTextNode","Elements","ABSOLUTE_PATT","RELATIVE_PATT","EXTENSION_PATT","parseURI","absolute","relative","protocol","hostname","port","pathname","search","hash","host","href","test","match","extension","formatQueryString","Error","escape","buildURI","isCrossDomain","location","isLocal","URLUtils","container","appendToHead","getHead","appendChild","appendToBody","overflow","webkitTransform","oTransform","getBody","head","getElementsByTagName","isImageTag","HTMLImageElement","isAudioTag","HTMLAudioElement","isVideoTag","HTMLVideoElement","DomUtils","parseXML","DOMParser","parseFromString","ActiveXObject","async","loadXML","parseJSON","DataUtils","BINARY","CSS","FONT","FONTCSS","IMAGE","JAVASCRIPT","JSONP","MANIFEST","SOUND","VIDEO","SPRITESHEET","SVG","TEXT","XML","Types","POST","GET","Methods","maintainOrder","callback","method","values","headers","withCredentials","mimeType","crossOrigin","loadTimeout","LOAD_TIMEOUT_DEFAULT","create","LoadItem","isBinary","isText","getTypeByExtension","RequestUtils","canceled","resultFormatter","_item","_preferXHR","_result","_rawResult","_loadedItems","_tagSrcAttribute","_tag","getItem","getResult","getTag","setTag","load","_createRequest","_request","loader","cancel","destroy","_loadItems","getLoadedItems","XHRRequest","TagRequest","_createTag","_sendLoadStart","_isCanceled","_sendProgress","_sendComplete","rawResult","result","_sendError","_response","Function","_resultFormatSuccess","_resultFormatFailed","AbstractLoader","AbstractLoader_constructor","_formatResult","_updateXHR","preload","AbstractLoader_load","MediaTagRequest","setResponseType","_loadedHandler","onstalled","URL","webkitURL","createObjectURL","AbstractMediaLoader","AbstractRequest","AbstractRequest_constructor","_handleTagComplete","_addedToDOM","onreadystatechange","_handleReadyStateChange","_handleError","_loadTimeout","parentNode","_clean","AbstractRequest_destroy","_handleStalled","_stalledCallback","_handleProgress","TagRequest_load","_progressCallback","TagRequest__clean","_xhrLevel","_rawResponse","_canceled","_handleLoadStartProxy","_handleLoadStart","_handleProgressProxy","_handleAbortProxy","_handleAbort","_handleErrorProxy","_handleTimeoutProxy","_handleLoadProxy","_handleLoad","_handleReadyStateChangeProxy","_createXHR","ACTIVEX_VERSIONS","abort","onloadstart","onprogress","onabort","ontimeout","send","_responseType","responseType","getAllResponseHeaders","getResponseHeader","_checkError","_getResponse","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","status","response","responseText","responseXML","XMLHttpRequest","XDomainRequest","overrideMimeType","open","Origin","origin","setRequestHeader","_plugins","_typeCallbacks","_extensionCallbacks","maintainScriptOrder","stopOnError","_maxConnections","_availableLoaders","FontLoader","ImageLoader","JavaScriptLoader","CSSLoader","JSONLoader","JSONPLoader","SoundLoader","ManifestLoader","SpriteSheetLoader","XMLLoader","SVGLoader","BinaryLoader","VideoLoader","TextLoader","_defaultLoaderLength","preferXHR","setPreferXHR","_paused","_basePath","_crossOrigin","_loadStartWasDispatched","_currentlyLoadingScript","_currentLoads","_loadQueue","_loadQueueBackup","_loadItemsById","_loadItemsBySrc","_loadedResults","_loadedRawResults","_numItems","_numItemsLoaded","_scriptOrder","_loadedScripts","_lastProgress","NaN","registerLoader","canLoadItem","unregisterLoader","removeAll","_disposeItem","_loadNext","close","loadManifest","installPlugin","getPreloadHandlers","scope","types","extensions","setMaxConnections","loadFile","_addItem","setPaused","manifest","getItems","item","loadStartWasDispatched","_itemCount","_createLoadItem","_createLoader","plugins","_loader","_updateProgress","ext","_canStartLoad","_loadItem","_handleFileLoad","_handleFileComplete","_handleFileError","_sendFileStart","_finishOrderedItem","_removeLoadItem","_cleanLoadItem","_saveLoadedItems","_processFinishedLoad","_checkScriptLoadOrder","_sendFileComplete","_sendFileProgress","completeHandler","LoadQueue","rel","styleSheet","cssText","_faces","_watched","_count","_watchInterval","_injectCSS","injectCSS","sampleText","_referenceFonts","WEIGHT_REGEX","STYLE_REGEX","FONT_FORMAT","woff2","woff","ttf","otf","FONT_WEIGHT","thin","extralight","ultralight","light","semilight","demilight","book","regular","semibold","demibold","extrabold","ultrabold","black","heavy","WATCH_DURATION","_watchCSS","_watchFontArray","_defFromSrc","_watchFont","_injectStyleTag","_cssFromDef","_stopWatching","_parseCSS","AbstractLoader_handleEvent","HTMLStyleElement","textContent","_parseFontFace","_defFromObj","_getCSSValue","family","weight","_calculateReferenceSizes","_startWatching","_watch","refs","_getTextWidth","lastIndexOf","RegExp","tag","_formatImage","_cleanUpURL","revokeObjectURL","AbstractLoader_cancel","_dispose","_manifestQueue","MANIFEST_PROGRESS","_loadManifest","AbstractLoader_destroy","_handleManifestFileLoad","_handleManifestProgress","_handleManifestComplete","_handleManifestError","AbstractMediaLoader_constructor","autoplay","SPRITESHEET_PROGRESS","documentElement","importNode","SoundJS","agent","userAgent","isWindowPhone","isFirefox","isOpera","opera","isChrome","isIOS","isAndroid","isBlackberry","BrowserDetect","interrupt","delay","volume","pan","startTime","PlayPropsConfig","INTERRUPT_ANY","INTERRUPT_EARLY","INTERRUPT_LATE","INTERRUPT_NONE","PLAY_INITED","PLAY_SUCCEEDED","PLAY_INTERRUPTED","PLAY_FINISHED","PLAY_FAILED","SUPPORTED_EXTENSIONS","EXTENSION_MAP","m4a","FILE_PATTERN","defaultInterruptBehavior","alternateExtensions","activePlugin","_masterVolume","_getMasterVolume","getVolume","_setMasterVolume","setVolume","_instances","setMasterVolume","_masterMute","_getMute","getMute","_setMute","setMute","setMasterMute","_getCapabilities","_capabilities","getCapabilities","muted","capabilities","_pluginsRegistered","_lastID","_idHash","_preloadHash","_defaultPlayPropsHash","initLoad","_handleLoadComplete","sprite","_handleLoadError","_registerPlugin","registerPlugins","initializeDefaultPlugins","WebAudioPlugin","HTMLAudioPlugin","isReady","_registerSound","_parseSrc","_parsePath","channels","audioSprite","defaultPlayProps","register","maxPerChannel","registerSound","registerSounds","Sound","removeSound","_getSrcById","removeSrc","removeSounds","removeAllSounds","loadComplete","createInstance","_playInstance","_playFailed","DefaultSoundInstance","applyPlayProps","uniqueId","setDefaultPlayProps","getDefaultPlayProps","_beginPlaying","delayTimeoutId","add","_playFinished","_removeAll","_add","_remove","maxDefault","_get","_getSlot","playState","_interrupt","_volume","defineProperty","_getVolume","_setVolume","_pan","_getPan","_setPan","getPan","setPan","_getStartTime","_setStartTime","getStartTime","setStartTime","_duration","_setDuration","setDuration","_playbackResource","_getPlaybackResource","_setPlaybackResource","getPlaybackResource","setPlaybackResource","_position","_getPosition","_setPosition","getPosition","_loop","_getLoop","_setLoop","getLoop","setLoop","_muted","_getMuted","_setMuted","getMuted","setMuted","_getPaused","_setPaused","getPaused","_cleanUp","_handleStop","playbackResource","_pause","_resume","_updateVolume","_updatePan","_calculateCurrentPosition","_updatePosition","_updateStartTime","_updateDuration","_setDurationFromSource","_removeLooping","_addLooping","_sendEvent","_handleCleanUp","_handleSoundReady","_handleSoundComplete","_handleLoop","AbstractSoundInstance","_loaders","_audioSources","_soundInstances","_loaderClass","_soundInstanceClass","_handlePreloadComplete","_handlePreloadError","isPreloadStarted","isPreloadComplete","AbstractPlugin","context","decodeAudioData","_handleAudioDecoded","AbstractLoader__sendComplete","WebAudioLoader","AbstractSoundInstance_constructor","gainNode","createGain","panNode","createPanner","panningModel","_panningModel","connect","sourceNode","_soundCompleteTimeout","_sourceNodeNext","_playbackStartTime","_endedHandler","_scratchBuffer","destinationNode","AbstractSoundInstance_destroy","disconnect","_cleanUpAudioNode","_createAndPlayAudioNode","numberOfOutputs","buffer","createBufferSource","gain","value","WebAudioSoundInstance","AbstractPlugin_constructor","dynamicsCompressorNode","createDynamicsCompressor","destination","_addPropsToClasses","_unlocked","DEFAULT_SAMPLE_RATE","_isFileXHRSupported","_generateCapabilities","playEmptySound","canPlayType","_createAudioContext","_compatibilitySetUp","_unlock","panning","tracks","numberOfChannels","AudioContext","webkitAudioContext","sampleRate","createGainNode","noteGrainOn","noteOff","_tags","_tagPool","_tagUsed","HTMLAudioTagPool","_audioSpriteStopTime","_delayTimeoutId","_readyHandler","_handleTagReady","_stalledHandler","_audioSpriteEndHandler","_handleAudioSpriteLoop","_loopHandler","_AUDIO_SEEKED","pause","_AUDIO_ENDED","_AUDIO_READY","_AUDIO_STALLED","_TIME_UPDATE","AbstractSoundInstance__beginPlaying","_handleSetPositionSeek","HTMLAudioSoundInstance","MAX_INSTANCES","AbstractPlugin_register","AbstractPlugin_removeSound","AbstractPlugin_create","ignoreGlobalPause","reversed","bounce","timeScale","_next","_prev","_parent","_labelList","onChange","onComplete","_register","_runActions","calculatePosition","setLabels","addLabel","_init","_actionHead","_runActionsRange","AbstractTween","AbstractTween_constructor","pluginData","_stepHead","_stepTail","_actionTail","_pluginIds","_injected","override","removeTweens","ease","params","IGNORE","_tweens","_tweenHead","_tweenTail","tweenjs_count","removeAllTweens","hasActiveTweens","wait","_addStep","to","_appendProps","_addAction","_set","_updateTargetProps","_injectProp","addTween","removeTween","updateDuration","linear","none","getPowIn","getPowOut","getPowInOut","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","sineIn","sineOut","sineInOut","getBackIn","backIn","getBackOut","backOut","getBackInOut","backInOut","circIn","circOut","circInOut","bounceIn","bounceOut","bounceInOut","getElasticIn","asin","elasticIn","getElasticOut","elasticOut","getElasticInOut","elasticInOut","Ease","guide","_solveGuideData","valid","endData","orient","startOffsetRot","startData","endAbsRot","deltaRotation","_ratioToPositionData","debug","_findPathProblems","subLines","totalLength","ratio","animSpan","weightings","estLength","portion","_getParamsForCurve","MotionGuidePlugin","TweenJS"],"mappings":"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","sourcesContent":["/*!\r\n* @license createjs\r\n* Visit http://createjs.com/ for documentation, updates and examples.\r\n*\r\n* Copyright (c) 2011-2015 gskinner.com, inc.\r\n*\r\n* Distributed under the terms of the MIT license.\r\n* http://www.opensource.org/licenses/mit-license.html\r\n*\r\n* This notice shall be included in all copies or substantial portions of the Software.\r\n*/\r\nthis.createjs=this.createjs||{},createjs.extend=function(a,b){\"use strict\";function c(){this.constructor=a}return c.prototype=b.prototype,a.prototype=new c},this.createjs=this.createjs||{},createjs.promote=function(a,b){\"use strict\";var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+=\"_\")+\"constructor\"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&\"function\"==typeof d[e]&&(c[b+e]=d[e])}return a},this.createjs=this.createjs||{},createjs.indexOf=function(a,b){\"use strict\";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"UID cannot be instantiated\"}a._nextID=0,a.get=function(){return a._nextID++},createjs.UID=a}(),this.createjs=this.createjs||{},createjs.deprecate=function(a,b){\"use strict\";return function(){var c=\"Deprecated property or method '\"+b+\"'. See docs for info.\";return console&&(console.warn?console.warn(c):console.log(c)),a&&a.apply(this,arguments)}},this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.type=a,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!b,this.cancelable=!!c,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.toString=function(){return\"[Event (type=\"+this.type+\")]\"},createjs.Event=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this._listeners=null,this._captureListeners=null}var b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},b.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},b.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(a,b,c){if(\"string\"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){for(var f=this,g=[f];f.parent;)g.push(f=f.parent);var h,i=g.length;for(h=i-1;h>=0&&!a.propagationStopped;h--)g[h]._dispatchEvent(a,1+(0==h));for(h=1;i>h&&!a.propagationStopped;h++)g[h]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented},b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},b.toString=function(){return\"[EventDispatcher]\"},b._dispatchEvent=function(a,b){var c,d,e=2>=b?this._captureListeners:this._listeners;if(a&&e&&(d=e[a.type])&&(c=d.length)){try{a.currentTarget=this}catch(f){}try{a.eventPhase=0|b}catch(f){}a.removed=!1,d=d.slice();for(var g=0;c>g&&!a.immediatePropagationStopped;g++){var h=d[g];h.handleEvent?h.handleEvent(a):h(a),a.removed&&(this.off(a.type,h,1==b),a.removed=!1)}}2===b&&this._dispatchEvent(a,2.1)},createjs.EventDispatcher=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"Ticker cannot be instantiated.\"}a.RAF_SYNCHED=\"synched\",a.RAF=\"raf\",a.TIMEOUT=\"timeout\",a.timingMode=null,a.maxDelta=0,a.paused=!1,a.removeEventListener=null,a.removeAllEventListeners=null,a.dispatchEvent=null,a.hasEventListener=null,a._listeners=null,createjs.EventDispatcher.initialize(a),a._addEventListener=a.addEventListener,a.addEventListener=function(){return!a._inited&&a.init(),a._addEventListener.apply(a,arguments)},a._inited=!1,a._startTime=0,a._pausedTime=0,a._ticks=0,a._pausedTicks=0,a._interval=50,a._lastTime=0,a._times=null,a._tickTimes=null,a._timerId=null,a._raf=!0,a._setInterval=function(b){a._interval=b,a._inited&&a._setupTick()},a.setInterval=createjs.deprecate(a._setInterval,\"Ticker.setInterval\"),a._getInterval=function(){return a._interval},a.getInterval=createjs.deprecate(a._getInterval,\"Ticker.getInterval\"),a._setFPS=function(b){a._setInterval(1e3/b)},a.setFPS=createjs.deprecate(a._setFPS,\"Ticker.setFPS\"),a._getFPS=function(){return 1e3/a._interval},a.getFPS=createjs.deprecate(a._getFPS,\"Ticker.getFPS\");try{Object.defineProperties(a,{interval:{get:a._getInterval,set:a._setInterval},framerate:{get:a._getFPS,set:a._setFPS}})}catch(b){console.log(b)}a.init=function(){a._inited||(a._inited=!0,a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)},a.reset=function(){if(a._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;b&&b(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners(\"tick\"),a._timerId=a._times=a._tickTimes=null,a._startTime=a._lastTime=a._ticks=a._pausedTime=0,a._inited=!1},a.getMeasuredTickTime=function(b){var c=0,d=a._tickTimes;if(!d||d.length<1)return-1;b=Math.min(d.length,b||0|a._getFPS());for(var e=0;b>e;e++)c+=d[e];return c/b},a.getMeasuredFPS=function(b){var c=a._times;return!c||c.length<2?-1:(b=Math.min(c.length-1,b||0|a._getFPS()),1e3/((c[0]-c[b])/b))},a.getTime=function(b){return a._startTime?a._getTime()-(b?a._pausedTime:0):-1},a.getEventTime=function(b){return a._startTime?(a._lastTime||a._startTime)-(b?a._pausedTime:0):-1},a.getTicks=function(b){return a._ticks-(b?a._pausedTicks:0)},a._handleSynch=function(){a._timerId=null,a._setupTick(),a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()},a._handleRAF=function(){a._timerId=null,a._setupTick(),a._tick()},a._handleTimeout=function(){a._timerId=null,a._setupTick(),a._tick()},a._setupTick=function(){if(null==a._timerId){var b=a.timingMode;if(b==a.RAF_SYNCHED||b==a.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return a._timerId=c(b==a.RAF?a._handleRAF:a._handleSynch),void(a._raf=!0)}a._raf=!1,a._timerId=setTimeout(a._handleTimeout,a._interval)}},a._tick=function(){var b=a.paused,c=a._getTime(),d=c-a._lastTime;if(a._lastTime=c,a._ticks++,b&&(a._pausedTicks++,a._pausedTime+=d),a.hasEventListener(\"tick\")){var e=new createjs.Event(\"tick\"),f=a.maxDelta;e.delta=f&&d>f?f:d,e.paused=b,e.time=c,e.runTime=c-a._pausedTime,a.dispatchEvent(e)}for(a._tickTimes.unshift(a._getTime()-c);a._tickTimes.length>100;)a._tickTimes.pop();for(a._times.unshift(c);a._times.length>100;)a._times.pop()};var c=window,d=c.performance.now||c.performance.mozNow||c.performance.msNow||c.performance.oNow||c.performance.webkitNow;a._getTime=function(){return(d&&d.call(c.performance)||(new Date).getTime())-a._startTime},createjs.Ticker=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.readyState=a.readyState,this._video=a,this._canvas=null,this._lastTime=-1,this.readyState<2&&a.addEventListener(\"canplaythrough\",this._videoReady.bind(this))}var b=a.prototype;b.getImage=function(){if(!(this.readyState<2)){var a=this._canvas,b=this._video;if(a||(a=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"),a.width=b.videoWidth,a.height=b.videoHeight),b.readyState>=2&&b.currentTime!==this._lastTime){var c=a.getContext(\"2d\");c.clearRect(0,0,a.width,a.height),c.drawImage(b,0,0,a.width,a.height),this._lastTime=b.currentTime}return a}},b._videoReady=function(){this.readyState=2},createjs.VideoBuffer=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d,e,f,g,h,i,j,k){this.Event_constructor(a,b,c),this.stageX=d,this.stageY=e,this.rawX=null==i?d:i,this.rawY=null==j?e:j,this.nativeEvent=f,this.pointerID=g,this.primary=!!h,this.relatedTarget=k}var b=createjs.extend(a,createjs.Event);b._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},b._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},b._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(b,{localX:{get:b._get_localX},localY:{get:b._get_localY},isTouch:{get:b._get_isTouch}})}catch(c){}b.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},b.toString=function(){return\"[MouseEvent (type=\"+this.type+\" stageX=\"+this.stageX+\" stageY=\"+this.stageY+\")]\"},createjs.MouseEvent=createjs.promote(a,\"Event\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d,e,f){this.setValues(a,b,c,d,e,f)}var b=a.prototype;a.DEG_TO_RAD=Math.PI/180,a.identity=null,b.setValues=function(a,b,c,d,e,f){return this.a=null==a?1:a,this.b=b||0,this.c=c||0,this.d=null==d?1:d,this.tx=e||0,this.ty=f||0,this},b.append=function(a,b,c,d,e,f){var g=this.a,h=this.b,i=this.c,j=this.d;return(1!=a||0!=b||0!=c||1!=d)&&(this.a=g*a+i*b,this.b=h*a+j*b,this.c=g*c+i*d,this.d=h*c+j*d),this.tx=g*e+i*f+this.tx,this.ty=h*e+j*f+this.ty,this},b.prepend=function(a,b,c,d,e,f){var g=this.a,h=this.c,i=this.tx;return this.a=a*g+c*this.b,this.b=b*g+d*this.b,this.c=a*h+c*this.d,this.d=b*h+d*this.d,this.tx=a*i+c*this.ty+e,this.ty=b*i+d*this.ty+f,this},b.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.appendTransform=function(b,c,d,e,f,g,h,i,j){if(f%360)var k=f*a.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return g||h?(g*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,c),this.append(l*d,m*d,-m*e,l*e,0,0)):this.append(l*d,m*d,-m*e,l*e,b,c),(i||j)&&(this.tx-=i*this.a+j*this.c,this.ty-=i*this.b+j*this.d),this},b.prependTransform=function(b,c,d,e,f,g,h,i,j){if(f%360)var k=f*a.DEG_TO_RAD,l=Math.cos(k),m=Math.sin(k);else l=1,m=0;return(i||j)&&(this.tx-=i,this.ty-=j),g||h?(g*=a.DEG_TO_RAD,h*=a.DEG_TO_RAD,this.prepend(l*d,m*d,-m*e,l*e,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,c)):this.prepend(l*d,m*d,-m*e,l*e,b,c),this},b.rotate=function(b){b*=a.DEG_TO_RAD;var c=Math.cos(b),d=Math.sin(b),e=this.a,f=this.b;return this.a=e*c+this.c*d,this.b=f*c+this.d*d,this.c=-e*d+this.c*c,this.d=-f*d+this.d*c,this},b.skew=function(b,c){return b*=a.DEG_TO_RAD,c*=a.DEG_TO_RAD,this.append(Math.cos(c),Math.sin(c),-Math.sin(b),Math.cos(b),0,0),this},b.scale=function(a,b){return this.a*=a,this.b*=a,this.c*=b,this.d*=b,this},b.translate=function(a,b){return this.tx+=this.a*a+this.c*b,this.ty+=this.b*a+this.d*b,this},b.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},b.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},b.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},b.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d},b.transformPoint=function(a,b,c){return c=c||{},c.x=a*this.a+b*this.c+this.tx,c.y=a*this.b+b*this.d+this.ty,c},b.decompose=function(b){null==b&&(b={}),b.x=this.tx,b.y=this.ty,b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var c=Math.atan2(-this.c,this.d),d=Math.atan2(this.b,this.a),e=Math.abs(1-c/d);return 1e-5>e?(b.rotation=d/a.DEG_TO_RAD,this.a<0&&this.d>=0&&(b.rotation+=b.rotation<=0?180:-180),b.skewX=b.skewY=0):(b.skewX=c/a.DEG_TO_RAD,b.skewY=d/a.DEG_TO_RAD),b},b.copy=function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)},b.toString=function(){return\"[Matrix2D (a=\"+this.a+\" b=\"+this.b+\" c=\"+this.c+\" d=\"+this.d+\" tx=\"+this.tx+\" ty=\"+this.ty+\")]\"},a.identity=new a,createjs.Matrix2D=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d,e){this.setValues(a,b,c,d,e)}var b=a.prototype;b.setValues=function(a,b,c,d,e){return this.visible=null==a?!0:!!a,this.alpha=null==b?1:b,this.shadow=c,this.compositeOperation=d,this.matrix=e||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},b.append=function(a,b,c,d,e){return this.alpha*=b,this.shadow=c||this.shadow,this.compositeOperation=d||this.compositeOperation,this.visible=this.visible&&a,e&&this.matrix.appendMatrix(e),this},b.prepend=function(a,b,c,d,e){return this.alpha*=b,this.shadow=this.shadow||c,this.compositeOperation=this.compositeOperation||d,this.visible=this.visible&&a,e&&this.matrix.prependMatrix(e),this},b.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},b.clone=function(){return new a(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.setValues(a,b)}var b=a.prototype;b.setValues=function(a,b){return this.x=a||0,this.y=b||0,this},b.copy=function(a){return this.x=a.x,this.y=a.y,this},b.clone=function(){return new a(this.x,this.y)},b.toString=function(){return\"[Point (x=\"+this.x+\" y=\"+this.y+\")]\"},createjs.Point=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d){this.setValues(a,b,c,d)}var b=a.prototype;b.setValues=function(a,b,c,d){return this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this},b.extend=function(a,b,c,d){return c=c||0,d=d||0,a+c>this.x+this.width&&(this.width=a+c-this.x),b+d>this.y+this.height&&(this.height=b+d-this.y),a<this.x&&(this.width+=this.x-a,this.x=a),b<this.y&&(this.height+=this.y-b,this.y=b),this},b.pad=function(a,b,c,d){return this.x-=b,this.y-=a,this.width+=b+d,this.height+=a+c,this},b.copy=function(a){return this.setValues(a.x,a.y,a.width,a.height)},b.contains=function(a,b,c,d){return c=c||0,d=d||0,a>=this.x&&a+c<=this.x+this.width&&b>=this.y&&b+d<=this.y+this.height},b.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)},b.intersection=function(b){var c=b.x,d=b.y,e=c+b.width,f=d+b.height;return this.x>c&&(c=this.x),this.y>d&&(d=this.y),this.x+this.width<e&&(e=this.x+this.width),this.y+this.height<f&&(f=this.y+this.height),c>=e||d>=f?null:new a(c,d,e-c,f-d)},b.intersects=function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height},b.isEmpty=function(){return this.width<=0||this.height<=0},b.clone=function(){return new a(this.x,this.y,this.width,this.height)},b.toString=function(){return\"[Rectangle (x=\"+this.x+\" y=\"+this.y+\" width=\"+this.width+\" height=\"+this.height+\")]\"},createjs.Rectangle=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d,e,f,g){a.addEventListener&&(this.target=a,this.overLabel=null==c?\"over\":c,this.outLabel=null==b?\"out\":b,this.downLabel=null==d?\"down\":d,this.play=e,this._isPressed=!1,this._isOver=!1,this._enabled=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(g&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(g)),a.hitArea=f))}var b=a.prototype;b._setEnabled=function(a){if(a!=this._enabled){var b=this.target;this._enabled=a,a?(b.cursor=\"pointer\",b.addEventListener(\"rollover\",this),b.addEventListener(\"rollout\",this),b.addEventListener(\"mousedown\",this),b.addEventListener(\"pressup\",this),b._reset&&(b.__reset=b._reset,b._reset=this._reset)):(b.cursor=null,b.removeEventListener(\"rollover\",this),b.removeEventListener(\"rollout\",this),b.removeEventListener(\"mousedown\",this),b.removeEventListener(\"pressup\",this),b.__reset&&(b._reset=b.__reset,delete b.__reset))}},b.setEnabled=createjs.deprecate(b._setEnabled,\"ButtonHelper.setEnabled\"),b._getEnabled=function(){return this._enabled},b.getEnabled=createjs.deprecate(b._getEnabled,\"ButtonHelper.getEnabled\");try{Object.defineProperties(b,{enabled:{get:b._getEnabled,set:b._setEnabled}})}catch(c){}b.toString=function(){return\"[ButtonHelper]\"},b.handleEvent=function(a){var b,c=this.target,d=a.type;\"mousedown\"==d?(this._isPressed=!0,b=this.downLabel):\"pressup\"==d?(this._isPressed=!1,b=this._isOver?this.overLabel:this.outLabel):\"rollover\"==d?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel),this.play?c.gotoAndPlay&&c.gotoAndPlay(b):c.gotoAndStop&&c.gotoAndStop(b)},b._reset=function(){var a=this.paused;this.__reset(),this.paused=a},createjs.ButtonHelper=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d){this.color=a||\"black\",this.offsetX=b||0,this.offsetY=c||0,this.blur=d||0}var b=a.prototype;a.identity=new a(\"transparent\",0,0,0),b.toString=function(){return\"[Shadow]\"},b.clone=function(){return new a(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(a)}var b=createjs.extend(a,createjs.EventDispatcher);b._getAnimations=function(){return this._animations.slice()},b.getAnimations=createjs.deprecate(b._getAnimations,\"SpriteSheet.getAnimations\");try{Object.defineProperties(b,{animations:{get:b._getAnimations}})}catch(c){}b.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames||0;var b=this._data[a];return null==b?0:b.frames.length},b.getAnimation=function(a){return this._data[a]},b.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null},b.getFrameBounds=function(a,b){var c=this.getFrame(a);return c?(b||new createjs.Rectangle).setValues(-c.regX,-c.regY,c.rect.width,c.rect.height):null},b.toString=function(){return\"[SpriteSheet]\"},b.clone=function(){throw\"SpriteSheet cannot be cloned.\"},b._parseData=function(a){var b,c,d,e;if(null!=a){if(this.framerate=a.framerate||0,a.images&&(c=a.images.length)>0)for(e=this._images=[],b=0;c>b;b++){var f=a.images[b];if(\"string\"==typeof f){var g=f;f=document.createElement(\"img\"),f.src=g}e.push(f),f.getContext||f.naturalWidth||(this._loadCount++,this.complete=!1,function(a,b){f.onload=function(){a._handleImageLoad(b)}}(this,g),function(a,b){f.onerror=function(){a._handleImageError(b)}}(this,g))}if(null==a.frames);else if(Array.isArray(a.frames))for(this._frames=[],e=a.frames,b=0,c=e.length;c>b;b++){var h=e[b];this._frames.push({image:this._images[h[4]?h[4]:0],rect:new createjs.Rectangle(h[0],h[1],h[2],h[3]),regX:h[5]||0,regY:h[6]||0})}else d=a.frames,this._frameWidth=d.width,this._frameHeight=d.height,this._regX=d.regX||0,this._regY=d.regY||0,this._spacing=d.spacing||0,this._margin=d.margin||0,this._numFrames=d.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(d=a.animations)){this._data={};var i;for(i in d){var j={name:i},k=d[i];if(\"number\"==typeof k)e=j.frames=[k];else if(Array.isArray(k))if(1==k.length)j.frames=[k[0]];else for(j.speed=k[3],j.next=k[2],e=j.frames=[],b=k[0];b<=k[1];b++)e.push(b);else{j.speed=k.speed,j.next=k.next;var l=k.frames;e=j.frames=\"number\"==typeof l?[l]:l.slice(0)}(j.next===!0||void 0===j.next)&&(j.next=i),(j.next===!1||e.length<2&&j.next==i)&&(j.next=null),j.speed||(j.speed=1),this._animations.push(i),this._data[i]=j}}}},b._handleImageLoad=function(a){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent(\"complete\"))},b._handleImageError=function(a){var b=new createjs.Event(\"error\");b.src=a,this.dispatchEvent(b),0==--this._loadCount&&this.dispatchEvent(\"complete\")},b._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var a=this._numFrames||1e5,b=0,c=this._frameWidth,d=this._frameHeight,e=this._spacing,f=this._margin;a:for(var g=0,h=this._images;g<h.length;g++)for(var i=h[g],j=i.width||i.naturalWidth,k=i.height||i.naturalHeight,l=f;k-f-d>=l;){for(var m=f;j-f-c>=m;){if(b>=a)break a;b++,this._frames.push({image:i,rect:new createjs.Rectangle(m,l,c,d),regX:this._regX,regY:this._regY}),m+=c+e}l+=d+e}this._numFrames=b}},createjs.SpriteSheet=createjs.promote(a,\"EventDispatcher\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var b=a.prototype,c=a;a.getRGB=function(a,b,c,d){return null!=a&&null==c&&(d=b,c=255&a,b=a>>8&255,a=a>>16&255),null==d?\"rgb(\"+a+\",\"+b+\",\"+c+\")\":\"rgba(\"+a+\",\"+b+\",\"+c+\",\"+d+\")\"},a.getHSL=function(a,b,c,d){return null==d?\"hsl(\"+a%360+\",\"+b+\"%,\"+c+\"%)\":\"hsla(\"+a%360+\",\"+b+\"%,\"+c+\"%,\"+d+\")\"},a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,\"+\":62,\"/\":63},a.STROKE_CAPS_MAP=[\"butt\",\"round\",\"square\"],a.STROKE_JOINTS_MAP=[\"miter\",\"round\",\"bevel\"];var d=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");d.getContext&&(a._ctx=d.getContext(\"2d\"),d.width=d.height=1),b._getInstructions=function(){return this._updateInstructions(),this._instructions},b.getInstructions=createjs.deprecate(b._getInstructions,\"Graphics.getInstructions\");try{Object.defineProperties(b,{instructions:{get:b._getInstructions}})}catch(e){}b.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},b.draw=function(a,b){this._updateInstructions();for(var c=this._instructions,d=this._storeIndex,e=c.length;e>d;d++)c[d].exec(a,b)},b.drawAsPath=function(a){this._updateInstructions();for(var b,c=this._instructions,d=this._storeIndex,e=c.length;e>d;d++)(b=c[d]).path!==!1&&b.exec(a)},b.moveTo=function(a,b){return this.append(new c.MoveTo(a,b),!0)},b.lineTo=function(a,b){return this.append(new c.LineTo(a,b))},b.arcTo=function(a,b,d,e,f){return this.append(new c.ArcTo(a,b,d,e,f))},b.arc=function(a,b,d,e,f,g){return this.append(new c.Arc(a,b,d,e,f,g))},b.quadraticCurveTo=function(a,b,d,e){return this.append(new c.QuadraticCurveTo(a,b,d,e))},b.bezierCurveTo=function(a,b,d,e,f,g){return this.append(new c.BezierCurveTo(a,b,d,e,f,g))},b.rect=function(a,b,d,e){return this.append(new c.Rect(a,b,d,e))},b.closePath=function(){return this._activeInstructions.length?this.append(new c.ClosePath):this},b.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},b.beginFill=function(a){return this._setFill(a?new c.Fill(a):null)},b.beginLinearGradientFill=function(a,b,d,e,f,g){return this._setFill((new c.Fill).linearGradient(a,b,d,e,f,g))},b.beginRadialGradientFill=function(a,b,d,e,f,g,h,i){return this._setFill((new c.Fill).radialGradient(a,b,d,e,f,g,h,i))},b.beginBitmapFill=function(a,b,d){return this._setFill(new c.Fill(null,d).bitmap(a,b))},b.endFill=function(){return this.beginFill()},b.setStrokeStyle=function(a,b,d,e,f){return this._updateInstructions(!0),this._strokeStyle=this.command=new c.StrokeStyle(a,b,d,e,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this},b.setStrokeDash=function(a,b){return this._updateInstructions(!0),this._strokeDash=this.command=new c.StrokeDash(a,b),this},b.beginStroke=function(a){return this._setStroke(a?new c.Stroke(a):null)},b.beginLinearGradientStroke=function(a,b,d,e,f,g){return this._setStroke((new c.Stroke).linearGradient(a,b,d,e,f,g))},b.beginRadialGradientStroke=function(a,b,d,e,f,g,h,i){return this._setStroke((new c.Stroke).radialGradient(a,b,d,e,f,g,h,i))},b.beginBitmapStroke=function(a,b){return this._setStroke((new c.Stroke).bitmap(a,b))},b.endStroke=function(){return this.beginStroke()},b.curveTo=b.quadraticCurveTo,b.drawRect=b.rect,b.drawRoundRect=function(a,b,c,d,e){return this.drawRoundRectComplex(a,b,c,d,e,e,e,e)},b.drawRoundRectComplex=function(a,b,d,e,f,g,h,i){return this.append(new c.RoundRect(a,b,d,e,f,g,h,i))},b.drawCircle=function(a,b,d){return this.append(new c.Circle(a,b,d))},b.drawEllipse=function(a,b,d,e){return this.append(new c.Ellipse(a,b,d,e))},b.drawPolyStar=function(a,b,d,e,f,g){return this.append(new c.PolyStar(a,b,d,e,f,g))},b.append=function(a,b){return this._activeInstructions.push(a),this.command=a,b||(this._dirty=!0),this},b.decodePath=function(b){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],d=[2,2,4,6,0],e=0,f=b.length,g=[],h=0,i=0,j=a.BASE_64;f>e;){var k=b.charAt(e),l=j[k],m=l>>3,n=c[m];if(!n||3&l)throw\"bad path data (@\"+e+\"): \"+k;var o=d[m];m||(h=i=0),g.length=0,e++;for(var p=(l>>2&1)+2,q=0;o>q;q++){var r=j[b.charAt(e)],s=r>>5?-1:1;r=(31&r)<<6|j[b.charAt(e+1)],3==p&&(r=r<<6|j[b.charAt(e+2)]),r=s*r/10,q%2?h=r+=h:i=r+=i,g[q]=r,e+=p}n.apply(this,g)}return this},b.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},b.unstore=function(){return this._storeIndex=0,this},b.clone=function(){var b=new a;return b.command=this.command,b._stroke=this._stroke,b._strokeStyle=this._strokeStyle,b._strokeDash=this._strokeDash,b._strokeIgnoreScale=this._strokeIgnoreScale,b._fill=this._fill,b._instructions=this._instructions.slice(),b._commitIndex=this._commitIndex,b._activeInstructions=this._activeInstructions.slice(),b._dirty=this._dirty,b._storeIndex=this._storeIndex,b},b.toString=function(){return\"[Graphics]\"},b.mt=b.moveTo,b.lt=b.lineTo,b.at=b.arcTo,b.bt=b.bezierCurveTo,b.qt=b.quadraticCurveTo,b.a=b.arc,b.r=b.rect,b.cp=b.closePath,b.c=b.clear,b.f=b.beginFill,b.lf=b.beginLinearGradientFill,b.rf=b.beginRadialGradientFill,b.bf=b.beginBitmapFill,b.ef=b.endFill,b.ss=b.setStrokeStyle,b.sd=b.setStrokeDash,b.s=b.beginStroke,b.ls=b.beginLinearGradientStroke,b.rs=b.beginRadialGradientStroke,b.bs=b.beginBitmapStroke,b.es=b.endStroke,b.dr=b.drawRect,b.rr=b.drawRoundRect,b.rc=b.drawRoundRectComplex,b.dc=b.drawCircle,b.de=b.drawEllipse,b.dp=b.drawPolyStar,b.p=b.decodePath,b._updateInstructions=function(b){var c=this._instructions,d=this._activeInstructions,e=this._commitIndex;if(this._dirty&&d.length){c.length=e,c.push(a.beginCmd);var f=d.length,g=c.length;c.length=g+f;for(var h=0;f>h;h++)c[h+g]=d[h];this._fill&&c.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&c.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&c.push(this._strokeStyle),b&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),c.push(this._stroke)),this._dirty=!1}b&&(d.length=0,this._commitIndex=c.length)},b._setFill=function(a){return this._updateInstructions(!0),this.command=this._fill=a,this},b._setStroke=function(a){return this._updateInstructions(!0),(this.command=this._stroke=a)&&(a.ignoreScale=this._strokeIgnoreScale),this},(c.LineTo=function(a,b){this.x=a,this.y=b}).prototype.exec=function(a){a.lineTo(this.x,this.y)},(c.MoveTo=function(a,b){this.x=a,this.y=b}).prototype.exec=function(a){a.moveTo(this.x,this.y)},(c.ArcTo=function(a,b,c,d,e){this.x1=a,this.y1=b,this.x2=c,this.y2=d,this.radius=e}).prototype.exec=function(a){a.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(c.Arc=function(a,b,c,d,e,f){this.x=a,this.y=b,this.radius=c,this.startAngle=d,this.endAngle=e,this.anticlockwise=!!f}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(c.QuadraticCurveTo=function(a,b,c,d){this.cpx=a,this.cpy=b,this.x=c,this.y=d}).prototype.exec=function(a){a.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(c.BezierCurveTo=function(a,b,c,d,e,f){this.cp1x=a,this.cp1y=b,this.cp2x=c,this.cp2y=d,this.x=e,this.y=f}).prototype.exec=function(a){a.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(c.Rect=function(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}).prototype.exec=function(a){a.rect(this.x,this.y,this.w,this.h)},(c.ClosePath=function(){}).prototype.exec=function(a){a.closePath()},(c.BeginPath=function(){}).prototype.exec=function(a){a.beginPath()},b=(c.Fill=function(a,b){this.style=a,this.matrix=b}).prototype,b.exec=function(a){if(this.style){a.fillStyle=this.style;var b=this.matrix;b&&(a.save(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty)),a.fill(),b&&a.restore()}},b.linearGradient=function(b,c,d,e,f,g){for(var h=this.style=a._ctx.createLinearGradient(d,e,f,g),i=0,j=b.length;j>i;i++)h.addColorStop(c[i],b[i]);return h.props={colors:b,ratios:c,x0:d,y0:e,x1:f,y1:g,type:\"linear\"},this},b.radialGradient=function(b,c,d,e,f,g,h,i){for(var j=this.style=a._ctx.createRadialGradient(d,e,f,g,h,i),k=0,l=b.length;l>k;k++)j.addColorStop(c[k],b[k]);return j.props={colors:b,ratios:c,x0:d,y0:e,r0:f,x1:g,y1:h,r1:i,type:\"radial\"},this},b.bitmap=function(b,c){if(b.naturalWidth||b.getContext||b.readyState>=2){var d=this.style=a._ctx.createPattern(b,c||\"\");d.props={image:b,repetition:c,type:\"bitmap\"}}return this},b.path=!1,b=(c.Stroke=function(a,b){this.style=a,this.ignoreScale=b}).prototype,b.exec=function(a){this.style&&(a.strokeStyle=this.style,this.ignoreScale&&(a.save(),a.setTransform(1,0,0,1,0,0)),a.stroke(),this.ignoreScale&&a.restore())},b.linearGradient=c.Fill.prototype.linearGradient,b.radialGradient=c.Fill.prototype.radialGradient,b.bitmap=c.Fill.prototype.bitmap,b.path=!1,b=(c.StrokeStyle=function(a,b,c,d,e){this.width=a,this.caps=b,this.joints=c,this.miterLimit=d,this.ignoreScale=e}).prototype,b.exec=function(b){b.lineWidth=null==this.width?\"1\":this.width,b.lineCap=null==this.caps?\"butt\":isNaN(this.caps)?this.caps:a.STROKE_CAPS_MAP[this.caps],b.lineJoin=null==this.joints?\"miter\":isNaN(this.joints)?this.joints:a.STROKE_JOINTS_MAP[this.joints],b.miterLimit=null==this.miterLimit?\"10\":this.miterLimit,b.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale},b.path=!1,(c.StrokeDash=function(a,b){this.segments=a,this.offset=b||0}).prototype.exec=function(a){a.setLineDash&&(a.setLineDash(this.segments||c.StrokeDash.EMPTY_SEGMENTS),a.lineDashOffset=this.offset||0)},c.StrokeDash.EMPTY_SEGMENTS=[],(c.RoundRect=function(a,b,c,d,e,f,g,h){this.x=a,this.y=b,this.w=c,this.h=d,this.radiusTL=e,this.radiusTR=f,this.radiusBR=g,this.radiusBL=h}).prototype.exec=function(a){var b=(j>i?i:j)/2,c=0,d=0,e=0,f=0,g=this.x,h=this.y,i=this.w,j=this.h,k=this.radiusTL,l=this.radiusTR,m=this.radiusBR,n=this.radiusBL;0>k&&(k*=c=-1),k>b&&(k=b),0>l&&(l*=d=-1),l>b&&(l=b),0>m&&(m*=e=-1),m>b&&(m=b),0>n&&(n*=f=-1),n>b&&(n=b),a.moveTo(g+i-l,h),a.arcTo(g+i+l*d,h-l*d,g+i,h+l,l),a.lineTo(g+i,h+j-m),a.arcTo(g+i+m*e,h+j+m*e,g+i-m,h+j,m),a.lineTo(g+n,h+j),a.arcTo(g-n*f,h+j+n*f,g,h+j-n,n),\r\na.lineTo(g,h+k),a.arcTo(g-k*c,h-k*c,g+k,h,k),a.closePath()},(c.Circle=function(a,b,c){this.x=a,this.y=b,this.radius=c}).prototype.exec=function(a){a.arc(this.x,this.y,this.radius,0,2*Math.PI)},(c.Ellipse=function(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.w,e=this.h,f=.5522848,g=d/2*f,h=e/2*f,i=b+d,j=c+e,k=b+d/2,l=c+e/2;a.moveTo(b,l),a.bezierCurveTo(b,l-h,k-g,c,k,c),a.bezierCurveTo(k+g,c,i,l-h,i,l),a.bezierCurveTo(i,l+h,k+g,j,k,j),a.bezierCurveTo(k-g,j,b,l+h,b,l)},(c.PolyStar=function(a,b,c,d,e,f){this.x=a,this.y=b,this.radius=c,this.sides=d,this.pointSize=e,this.angle=f}).prototype.exec=function(a){var b=this.x,c=this.y,d=this.radius,e=(this.angle||0)/180*Math.PI,f=this.sides,g=1-(this.pointSize||0),h=Math.PI/f;a.moveTo(b+Math.cos(e)*d,c+Math.sin(e)*d);for(var i=0;f>i;i++)e+=h,1!=g&&a.lineTo(b+Math.cos(e)*d*g,c+Math.sin(e)*d*g),e+=h,a.lineTo(b+Math.cos(e)*d,c+Math.sin(e)*d);a.closePath()},a.beginCmd=new c.BeginPath,createjs.Graphics=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null,this._webGLRenderStyle=a._StageGL_NONE}var b=createjs.extend(a,createjs.EventDispatcher);a._MOUSE_EVENTS=[\"click\",\"dblclick\",\"mousedown\",\"mouseout\",\"mouseover\",\"pressmove\",\"pressup\",\"rollout\",\"rollover\"],a.suppressCrossDomainErrors=!1,a._snapToPixelEnabled=!1,a._StageGL_NONE=0,a._StageGL_SPRITE=1,a._StageGL_BITMAP=2;var c=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");c.getContext&&(a._hitTestCanvas=c,a._hitTestContext=c.getContext(\"2d\"),c.width=c.height=1),b._getStage=function(){for(var a=this,b=createjs.Stage;a.parent;)a=a.parent;return a instanceof b?a:null},b.getStage=createjs.deprecate(b._getStage,\"DisplayObject.getStage\");try{Object.defineProperties(b,{stage:{get:b._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(a){this.bitmapCache&&(this.bitmapCache.cacheID=a)}},scale:{get:function(){return this.scaleX},set:function(a){this.scaleX=this.scaleY=a}}})}catch(d){}b.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},b.draw=function(a,b){var c=this.bitmapCache;return c&&!b?c.draw(a):!1},b.updateContext=function(b){var c=this,d=c.mask,e=c._props.matrix;d&&d.graphics&&!d.graphics.isEmpty()&&(d.getMatrix(e),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),d.graphics.drawAsPath(b),b.clip(),e.invert(),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),this.getMatrix(e);var f=e.tx,g=e.ty;a._snapToPixelEnabled&&c.snapToPixel&&(f=f+(0>f?-.5:.5)|0,g=g+(0>g?-.5:.5)|0),b.transform(e.a,e.b,e.c,e.d,f,g),b.globalAlpha*=c.alpha,c.compositeOperation&&(b.globalCompositeOperation=c.compositeOperation),c.shadow&&this._applyShadow(b,c.shadow)},b.cache=function(a,b,c,d,e,f){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache),this.bitmapCache.define(this,a,b,c,d,e,f)},b.updateCache=function(a){if(!this.bitmapCache)throw\"cache() must be called before updateCache()\";this.bitmapCache.update(a)},b.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},b.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},b.localToGlobal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(a,b,c||new createjs.Point)},b.globalToLocal=function(a,b,c){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(a,b,c||new createjs.Point)},b.localToLocal=function(a,b,c,d){return d=this.localToGlobal(a,b,d),c.globalToLocal(d.x,d.y,d)},b.setTransform=function(a,b,c,d,e,f,g,h,i){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==d?1:d,this.rotation=e||0,this.skewX=f||0,this.skewY=g||0,this.regX=h||0,this.regY=i||0,this},b.getMatrix=function(a){var b=this,c=a&&a.identity()||new createjs.Matrix2D;return b.transformMatrix?c.copy(b.transformMatrix):c.appendTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY)},b.getConcatenatedMatrix=function(a){for(var b=this,c=this.getMatrix(a);b=b.parent;)c.prependMatrix(b.getMatrix(b._props.matrix));return c},b.getConcatenatedDisplayProps=function(a){a=a?a.identity():new createjs.DisplayProps;var b=this,c=b.getMatrix(a.matrix);do a.prepend(b.visible,b.alpha,b.shadow,b.compositeOperation),b!=this&&c.prependMatrix(b.getMatrix(b._props.matrix));while(b=b.parent);return a},b.hitTest=function(b,c){var d=a._hitTestContext;d.setTransform(1,0,0,1,-b,-c),this.draw(d);var e=this._testHit(d);return d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,2,2),e},b.set=function(a){for(var b in a)this[b]=a[b];return this},b.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null},b.getTransformedBounds=function(){return this._getBounds()},b.setBounds=function(a,b,c,d){return null==a?void(this._bounds=a):void(this._bounds=(this._bounds||new createjs.Rectangle).setValues(a,b,c,d))},b.clone=function(){return this._cloneProps(new a)},b.toString=function(){return\"[DisplayObject (name=\"+this.name+\")]\"},b._updateState=null,b._cloneProps=function(a){return a.alpha=this.alpha,a.mouseEnabled=this.mouseEnabled,a.tickEnabled=this.tickEnabled,a.name=this.name,a.regX=this.regX,a.regY=this.regY,a.rotation=this.rotation,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.shadow=this.shadow,a.skewX=this.skewX,a.skewY=this.skewY,a.visible=this.visible,a.x=this.x,a.y=this.y,a.compositeOperation=this.compositeOperation,a.snapToPixel=this.snapToPixel,a.filters=null==this.filters?null:this.filters.slice(0),a.mask=this.mask,a.hitArea=this.hitArea,a.cursor=this.cursor,a._bounds=this._bounds,a},b._applyShadow=function(a,b){b=b||Shadow.identity,a.shadowColor=b.color,a.shadowOffsetX=b.offsetX,a.shadowOffsetY=b.offsetY,a.shadowBlur=b.blur},b._tick=function(a){var b=this._listeners;b&&b.tick&&(a.target=null,a.propagationStopped=a.immediatePropagationStopped=!1,this.dispatchEvent(a))},b._testHit=function(b){try{var c=b.getImageData(0,0,1,1).data[3]>1}catch(d){if(!a.suppressCrossDomainErrors)throw\"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.\"}return c},b._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)},b._transformBounds=function(a,b,c){if(!a)return a;var d=a.x,e=a.y,f=a.width,g=a.height,h=this._props.matrix;h=c?h.identity():this.getMatrix(h),(d||e)&&h.appendTransform(0,0,1,1,0,0,0,-d,-e),b&&h.prependMatrix(b);var i=f*h.a,j=f*h.b,k=g*h.c,l=g*h.d,m=h.tx,n=h.ty,o=m,p=m,q=n,r=n;return(d=i+m)<o?o=d:d>p&&(p=d),(d=i+k+m)<o?o=d:d>p&&(p=d),(d=k+m)<o?o=d:d>p&&(p=d),(e=j+n)<q?q=e:e>r&&(r=e),(e=j+l+n)<q?q=e:e>r&&(r=e),(e=l+n)<q?q=e:e>r&&(r=e),a.setValues(o,q,p-o,r-q)},b._hasMouseEventListener=function(){for(var b=a._MOUSE_EVENTS,c=0,d=b.length;d>c;c++)if(this.hasEventListener(b[c]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(a,\"EventDispatcher\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var b=createjs.extend(a,createjs.DisplayObject);b._getNumChildren=function(){return this.children.length},b.getNumChildren=createjs.deprecate(b._getNumChildren,\"Container.getNumChildren\");try{Object.defineProperties(b,{numChildren:{get:b._getNumChildren}})}catch(c){}b.initialize=a,b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(a.save(),f.updateContext(a),f.draw(a),a.restore())}return!0},b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addChild(arguments[c]);return arguments[b-1]}var d=a.parent,e=d===this;return d&&d._removeChildAt(createjs.indexOf(d.children,a),e),a.parent=this,this.children.push(a),e||a.dispatchEvent(\"added\"),a},b.addChildAt=function(a,b){var c=arguments.length,d=arguments[c-1];if(0>d||d>this.children.length)return arguments[c-2];if(c>2){for(var e=0;c-1>e;e++)this.addChildAt(arguments[e],d+e);return arguments[c-2]}var f=a.parent,g=f===this;return f&&f._removeChildAt(createjs.indexOf(f.children,a),g),a.parent=this,this.children.splice(b,0,a),g||a.dispatchEvent(\"added\"),a},b.removeChild=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeChild(arguments[d]);return c}return this._removeChildAt(createjs.indexOf(this.children,a))},b.removeChildAt=function(a){var b=arguments.length;if(b>1){for(var c=[],d=0;b>d;d++)c[d]=arguments[d];c.sort(function(a,b){return b-a});for(var e=!0,d=0;b>d;d++)e=e&&this._removeChildAt(c[d]);return e}return this._removeChildAt(a)},b.removeAllChildren=function(){for(var a=this.children;a.length;)this._removeChildAt(0)},b.getChildAt=function(a){return this.children[a]},b.getChildByName=function(a){for(var b=this.children,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},b.sortChildren=function(a){this.children.sort(a)},b.getChildIndex=function(a){return createjs.indexOf(this.children,a)},b.swapChildrenAt=function(a,b){var c=this.children,d=c[a],e=c[b];d&&e&&(c[a]=e,c[b]=d)},b.swapChildren=function(a,b){for(var c,d,e=this.children,f=0,g=e.length;g>f&&(e[f]==a&&(c=f),e[f]==b&&(d=f),null==c||null==d);f++);f!=g&&(e[c]=b,e[d]=a)},b.setChildIndex=function(a,b){var c=this.children,d=c.length;if(!(a.parent!=this||0>b||b>=d)){for(var e=0;d>e&&c[e]!=a;e++);e!=d&&e!=b&&(c.splice(e,1),c.splice(b,0,a))}},b.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1},b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)},b.getObjectsUnderPoint=function(a,b,c){var d=[],e=this.localToGlobal(a,b);return this._getObjectsUnderPoint(e.x,e.y,d,c>0,1==c),d},b.getObjectUnderPoint=function(a,b,c){var d=this.localToGlobal(a,b);return this._getObjectsUnderPoint(d.x,d.y,null,c>0,1==c)},b.getBounds=function(){return this._getBounds(null,!0)},b.getTransformedBounds=function(){return this._getBounds()},b.clone=function(b){var c=this._cloneProps(new a);return b&&this._cloneChildren(c),c},b.toString=function(){return\"[Container (name=\"+this.name+\")]\"},b._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;b>=0;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)},b._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,d=this.children.length;d>c;c++){var e=this.children[c].clone(!0);e.parent=a,b.push(e)}},b._removeChildAt=function(a,b){if(0>a||a>this.children.length-1)return!1;var c=this.children[a];return c&&(c.parent=null),this.children.splice(a,1),b||c.dispatchEvent(\"removed\"),!0},b._getObjectsUnderPoint=function(b,c,d,e,f,g){if(g=g||0,!g&&!this._testMask(this,b,c))return null;var h,i=createjs.DisplayObject._hitTestContext;f=f||e&&this._hasMouseEventListener();for(var j=this.children,k=j.length,l=k-1;l>=0;l--){var m=j[l],n=m.hitArea;if(m.visible&&(n||m.isVisible())&&(!e||m.mouseEnabled)&&(n||this._testMask(m,b,c)))if(!n&&m instanceof a){var o=m._getObjectsUnderPoint(b,c,d,e,f,g+1);if(!d&&o)return e&&!this.mouseChildren?this:o}else{if(e&&!f&&!m._hasMouseEventListener())continue;var p=m.getConcatenatedDisplayProps(m._props);if(h=p.matrix,n&&(h.appendMatrix(n.getMatrix(n._props.matrix)),p.alpha=n.alpha),i.globalAlpha=p.alpha,i.setTransform(h.a,h.b,h.c,h.d,h.tx-b,h.ty-c),(n||m).draw(i),!this._testHit(i))continue;if(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),!d)return e&&!this.mouseChildren?this:m;d.push(m)}}return null},b._testMask=function(a,b,c){var d=a.mask;if(!d||!d.graphics||d.graphics.isEmpty())return!0;var e=this._props.matrix,f=a.parent;e=f?f.getConcatenatedMatrix(e):e.identity(),e=d.getMatrix(d._props.matrix).prependMatrix(e);var g=createjs.DisplayObject._hitTestContext;return g.setTransform(e.a,e.b,e.c,e.d,e.tx-b,e.ty-c),d.graphics.drawAsPath(g),g.fillStyle=\"#000\",g.fill(),this._testHit(g)?(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,2,2),!0):!1},b._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var d=this._props.matrix;d=b?d.identity():this.getMatrix(d),a&&d.prependMatrix(a);for(var e=this.children.length,f=null,g=0;e>g;g++){var h=this.children[g];h.visible&&(c=h._getBounds(d))&&(f?f.extend(c.x,c.y,c.width,c.height):f=c.clone())}return f},createjs.Container=createjs.promote(a,\"DisplayObject\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.Container_constructor(),this.autoClear=!0,this.canvas=\"string\"==typeof a?document.getElementById(a):a,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var b=createjs.extend(a,createjs.Container);b._get_nextStage=function(){return this._nextStage},b._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null),a&&(a._prevStage=this),this._nextStage=a};try{Object.defineProperties(b,{nextStage:{get:b._get_nextStage,set:b._set_nextStage}})}catch(c){}b.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),this.dispatchEvent(\"drawstart\",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var b=this.drawRect,c=this.canvas.getContext(\"2d\");c.setTransform(1,0,0,1,0,0),this.autoClear&&(b?c.clearRect(b.x,b.y,b.width,b.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),c.save(),this.drawRect&&(c.beginPath(),c.rect(b.x,b.y,b.width,b.height),c.clip()),this.updateContext(c),this.draw(c,!1),c.restore(),this.dispatchEvent(\"drawend\")}},b.tick=function(a){if(this.tickEnabled&&this.dispatchEvent(\"tickstart\",!1,!0)!==!1){var b=new createjs.Event(\"tick\");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b),this.dispatchEvent(\"tickend\")}},b.handleEvent=function(a){\"tick\"==a.type&&this.update(a)},b.clear=function(){if(this.canvas){var a=this.canvas.getContext(\"2d\");a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},b.toDataURL=function(a,b){var c,d=this.canvas.getContext(\"2d\"),e=this.canvas.width,f=this.canvas.height;if(a){c=d.getImageData(0,0,e,f);var g=d.globalCompositeOperation;d.globalCompositeOperation=\"destination-over\",d.fillStyle=a,d.fillRect(0,0,e,f)}var h=this.canvas.toDataURL(b||\"image/png\");return a&&(d.putImageData(c,0,0),d.globalCompositeOperation=g),h},b.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1e3/Math.min(50,a))},b.enableDOMEvents=function(a){null==a&&(a=!0);var b,c,d=this._eventListeners;if(!a&&d){for(b in d)c=d[b],c.t.removeEventListener(b,c.f,!1);this._eventListeners=null}else if(a&&!d&&this.canvas){var e=window.addEventListener?window:document,f=this;d=this._eventListeners={},d.mouseup={t:e,f:function(a){f._handleMouseUp(a)}},d.mousemove={t:e,f:function(a){f._handleMouseMove(a)}},d.dblclick={t:this.canvas,f:function(a){f._handleDoubleClick(a)}},d.mousedown={t:this.canvas,f:function(a){f._handleMouseDown(a)}};for(b in d)c=d[b],c.t.addEventListener(b,c.f,!1)}},b.clone=function(){throw\"Stage cannot be cloned.\"},b.toString=function(){return\"[Stage (name=\"+this.name+\")]\"},b._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),f=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle,g=parseInt(f.paddingLeft)+parseInt(f.borderLeftWidth),h=parseInt(f.paddingTop)+parseInt(f.borderTopWidth),i=parseInt(f.paddingRight)+parseInt(f.borderRightWidth),j=parseInt(f.paddingBottom)+parseInt(f.borderBottomWidth);return{left:b.left+d+g,right:b.right+d-i,top:b.top+e+h,bottom:b.bottom+e-j}},b._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0}),b},b._handleMouseMove=function(a){a||(a=window.event),this._handlePointerMove(-1,a,a.pageX,a.pageY)},b._handlePointerMove=function(a,b,c,d,e){if((!this._prevStage||void 0!==e)&&this.canvas){var f=this._nextStage,g=this._getPointerData(a),h=g.inBounds;this._updatePointerPosition(a,b,c,d),(h||g.inBounds||this.mouseMoveOutside)&&(-1===a&&g.inBounds==!h&&this._dispatchMouseEvent(this,h?\"mouseleave\":\"mouseenter\",!1,a,g,b),this._dispatchMouseEvent(this,\"stagemousemove\",!1,a,g,b),this._dispatchMouseEvent(g.target,\"pressmove\",!0,a,g,b)),f&&f._handlePointerMove(a,b,c,d,null)}},b._updatePointerPosition=function(a,b,c,d){var e=this._getElementRect(this.canvas);c-=e.left,d-=e.top;var f=this.canvas.width,g=this.canvas.height;c/=(e.right-e.left)/f,d/=(e.bottom-e.top)/g;var h=this._getPointerData(a);(h.inBounds=c>=0&&d>=0&&f-1>=c&&g-1>=d)?(h.x=c,h.y=d):this.mouseMoveOutside&&(h.x=0>c?0:c>f-1?f-1:c,h.y=0>d?0:d>g-1?g-1:d),h.posEvtObj=b,h.rawX=c,h.rawY=d,(a===this._primaryPointerID||-1===a)&&(this.mouseX=h.x,this.mouseY=h.y,this.mouseInBounds=h.inBounds)},b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)},b._handlePointerUp=function(a,b,c,d){var e=this._nextStage,f=this._getPointerData(a);if(!this._prevStage||void 0!==d){var g=null,h=f.target;d||!h&&!e||(g=this._getObjectsUnderPoint(f.x,f.y,null,!0)),f.down&&(this._dispatchMouseEvent(this,\"stagemouseup\",!1,a,f,b,g),f.down=!1),g==h&&this._dispatchMouseEvent(h,\"click\",!0,a,f,b),this._dispatchMouseEvent(h,\"pressup\",!0,a,f,b),c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.target=null,e&&e._handlePointerUp(a,b,c,d||g&&this)}},b._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)},b._handlePointerDown=function(a,b,c,d,e){this.preventSelection&&b.preventDefault(),(null==this._primaryPointerID||-1===a)&&(this._primaryPointerID=a),null!=d&&this._updatePointerPosition(a,b,c,d);var f=null,g=this._nextStage,h=this._getPointerData(a);e||(f=h.target=this._getObjectsUnderPoint(h.x,h.y,null,!0)),h.inBounds&&(this._dispatchMouseEvent(this,\"stagemousedown\",!1,a,h,b,f),h.down=!0),this._dispatchMouseEvent(f,\"mousedown\",!0,a,h,b),g&&g._handlePointerDown(a,b,c,d,e||f&&this)},b._testMouseOver=function(a,b,c){if(!this._prevStage||void 0!==b){var d=this._nextStage;if(!this._mouseOverIntervalID)return void(d&&d._testMouseOver(a,b,c));var e=this._getPointerData(-1);if(e&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var f,g,h,i=e.posEvtObj,j=c||i&&i.target==this.canvas,k=null,l=-1,m=\"\";!b&&(a||this.mouseInBounds&&j)&&(k=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var n=this._mouseOverTarget||[],o=n[n.length-1],p=this._mouseOverTarget=[];for(f=k;f;)p.unshift(f),m||(m=f.cursor),f=f.parent;for(this.canvas.style.cursor=m,!b&&c&&(c.canvas.style.cursor=m),g=0,h=p.length;h>g&&p[g]==n[g];g++)l=g;for(o!=k&&this._dispatchMouseEvent(o,\"mouseout\",!0,-1,e,i,k),g=n.length-1;g>l;g--)this._dispatchMouseEvent(n[g],\"rollout\",!1,-1,e,i,k);for(g=p.length-1;g>l;g--)this._dispatchMouseEvent(p[g],\"rollover\",!1,-1,e,i,o);o!=k&&this._dispatchMouseEvent(k,\"mouseover\",!0,-1,e,i,o),d&&d._testMouseOver(a,b||k&&this,c||j&&this)}}},b._handleDoubleClick=function(a,b){var c=null,d=this._nextStage,e=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(e.x,e.y,null,!0),this._dispatchMouseEvent(c,\"dblclick\",!0,-1,e,a)),d&&d._handleDoubleClick(a,b||c&&this)},b._dispatchMouseEvent=function(a,b,c,d,e,f,g){if(a&&(c||a.hasEventListener(b))){var h=new createjs.MouseEvent(b,c,!1,e.x,e.y,f,d,d===this._primaryPointerID||-1===d,e.rawX,e.rawY,g);a.dispatchEvent(h)}},createjs.Stage=createjs.promote(a,\"Container\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(b,c){if(this.Stage_constructor(b),void 0!==c){if(\"object\"!=typeof c)throw\"Invalid options object\";var d=c.premultiply,e=c.transparent,f=c.antialias,g=c.preserveBuffer,h=c.autoPurge}this.vocalDebug=!1,this._preserveBuffer=g||!1,this._antialias=f||!1,this._transparent=e||!1,this._premultiply=d||!1,this._autoPurge=void 0,this.autoPurge=h,this._viewportWidth=0,this._viewportHeight=0,this._projectionMatrix=null,this._webGLContext=null,this._clearColor={r:.5,g:.5,b:.5,a:0},this._maxCardsPerBatch=a.DEFAULT_MAX_BATCH_SIZE,this._activeShader=null,this._vertices=null,this._vertexPositionBuffer=null,this._uvs=null,this._uvPositionBuffer=null,this._indices=null,this._textureIndexBuffer=null,this._alphas=null,this._alphaBuffer=null,this._textureDictionary=[],this._textureIDs={},this._batchTextures=[],this._baseTextures=[],this._batchTextureCount=8,this._lastTextureInsert=-1,this._batchID=0,this._drawID=0,this._slotBlacklist=[],this._isDrawing=0,this._lastTrackedCanvas=0,this.isCacheControlled=!1,this._cacheContainer=new createjs.Container,this._initializeWebGL()}var b=createjs.extend(a,createjs.Stage);a.buildUVRects=function(a,b,c){if(!a||!a._frames)return null;void 0===b&&(b=-1),void 0===c&&(c=!1);for(var d=-1!=b&&c?b:0,e=-1!=b&&c?b+1:a._frames.length,f=d;e>f;f++){var g=a._frames[f];if(!(g.uvRect||g.image.width<=0||g.image.height<=0)){var h=g.rect;g.uvRect={t:h.y/g.image.height,l:h.x/g.image.width,b:(h.y+h.height)/g.image.height,r:(h.x+h.width)/g.image.width}}}return a._frames[-1!=b?b:0].uvRect||{t:0,l:0,b:1,r:1}},a.isWebGLActive=function(a){return a&&a instanceof WebGLRenderingContext&&\"undefined\"!=typeof WebGLRenderingContext},a.VERTEX_PROPERTY_COUNT=6,a.INDICIES_PER_CARD=6,a.DEFAULT_MAX_BATCH_SIZE=1e4,a.WEBGL_MAX_INDEX_NUM=Math.pow(2,16),a.UV_RECT={t:0,l:0,b:1,r:1};try{a.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),a.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),a.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(c){}a.REGULAR_VARYING_HEADER=\"precision mediump float;varying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;\",a.REGULAR_VERTEX_HEADER=a.REGULAR_VARYING_HEADER+\"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;\",a.REGULAR_FRAGMENT_HEADER=a.REGULAR_VARYING_HEADER+\"uniform sampler2D uSampler[{{count}}];\",a.REGULAR_VERTEX_BODY=\"void main(void) {gl_Position = vec4((vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],pMatrix[3][2],1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}\",a.REGULAR_FRAGMENT_BODY=\"void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}{{fragColor}}}\",a.REGULAR_FRAG_COLOR_NORMAL=\"gl_FragColor = vec4(color.rgb, color.a * alphaValue);\",a.REGULAR_FRAG_COLOR_PREMULTIPLY=\"if(color.a > 0.0035) {gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);} else {gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}\",a.PARTICLE_VERTEX_BODY=a.REGULAR_VERTEX_BODY,a.PARTICLE_FRAGMENT_BODY=a.REGULAR_FRAGMENT_BODY,a.COVER_VARYING_HEADER=\"precision mediump float;varying highp vec2 vRenderCoord;varying highp vec2 vTextureCoord;\",a.COVER_VERTEX_HEADER=a.COVER_VARYING_HEADER+\"attribute vec2 vertexPosition;attribute vec2 uvPosition;uniform float uUpright;\",a.COVER_FRAGMENT_HEADER=a.COVER_VARYING_HEADER+\"uniform sampler2D uSampler;\",a.COVER_VERTEX_BODY=\"void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vRenderCoord = uvPosition;vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));}\",a.COVER_FRAGMENT_BODY=\"void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = color;}\",b._get_isWebGL=function(){return!!this._webGLContext},b._set_autoPurge=function(a){a=isNaN(a)?1200:a,-1!=a&&(a=10>a?10:a),this._autoPurge=a},b._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(b,{isWebGL:{get:b._get_isWebGL},autoPurge:{get:b._get_autoPurge,set:b._set_autoPurge}})}catch(c){}b._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var a={depth:!1,alpha:this._transparent,stencil:!0,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer},b=this._webGLContext=this._fetchWebGLContext(this.canvas,a);if(!b)return null;this.updateSimultaneousTextureCount(b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS)),this._maxTextureSlots=b.getParameter(b.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this._createBuffers(b),this._initTextures(b),b.disable(b.DEPTH_TEST),b.enable(b.BLEND),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply),this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}}else this._webGLContext=null;return this._webGLContext},b.update=function(a){if(this.canvas){if(this.tickOnUpdate&&this.tick(a),this.dispatchEvent(\"drawstart\"),this.autoClear&&this.clear(),this._webGLContext)this._batchDraw(this,this._webGLContext),-1==this._autoPurge||this._drawID%(this._autoPurge/2|0)||this.purgeTextures(this._autoPurge);else{var b=this.canvas.getContext(\"2d\");b.save(),this.updateContext(b),this.draw(b,!1),b.restore()}this.dispatchEvent(\"drawend\")}},b.clear=function(){if(this.canvas)if(a.isWebGLActive(this._webGLContext)){var b=this._webGLContext,c=this._clearColor,d=this._transparent?c.a:1;this._webGLContext.clearColor(c.r*d,c.g*d,c.b*d,d),b.clear(b.COLOR_BUFFER_BIT),this._webGLContext.clearColor(c.r,c.g,c.b,c.a)}else this.Stage_clear()},b.draw=function(b,c){if(b===this._webGLContext&&a.isWebGLActive(this._webGLContext)){var d=this._webGLContext;return this._batchDraw(this,d,c),!0}return this.Stage_draw(b,c)},b.cacheDraw=function(b,c,d){if(a.isWebGLActive(this._webGLContext)){var e=this._webGLContext;return this._cacheDraw(e,b,c,d),!0}return!1},b.protectTextureSlot=function(a,b){if(a>this._maxTextureSlots||0>a)throw\"Slot outside of acceptable range\";this._slotBlacklist[a]=!!b},b.getTargetRenderTexture=function(a,b,c){var d,e=!1,f=this._webGLContext;if(void 0!==a.__lastRT&&a.__lastRT===a.__rtA&&(e=!0),e?(void 0===a.__rtB?a.__rtB=this.getRenderBufferTexture(b,c):((b!=a.__rtB._width||c!=a.__rtB._height)&&this.resizeTexture(a.__rtB,b,c),this.setTextureParams(f)),d=a.__rtB):(void 0===a.__rtA?a.__rtA=this.getRenderBufferTexture(b,c):((b!=a.__rtA._width||c!=a.__rtA._height)&&this.resizeTexture(a.__rtA,b,c),this.setTextureParams(f)),d=a.__rtA),!d)throw\"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances\";return a.__lastRT=d,d},b.releaseTexture=function(a){var b,c;if(a){if(a.children)for(b=0,c=a.children.length;c>b;b++)this.releaseTexture(a.children[b]);a.cacheCanvas&&a.uncache();var d=void 0;if(void 0!==a._storeID){if(a===this._textureDictionary[a._storeID])return this._killTextureObject(a),void(a._storeID=void 0);d=a}else if(2===a._webGLRenderStyle)d=a.image;else if(1===a._webGLRenderStyle){for(b=0,c=a.spriteSheet._images.length;c>b;b++)this.releaseTexture(a.spriteSheet._images[b]);return}if(void 0===d)return void(this.vocalDebug&&console.log(\"No associated texture found on release\"));this._killTextureObject(this._textureDictionary[d._storeID]),d._storeID=void 0}},b.purgeTextures=function(a){void 0==a&&(a=100);for(var b=this._textureDictionary,c=b.length,d=0;c>d;d++){var e=b[d];e&&e._drawID+a<=this._drawID&&this._killTextureObject(e)}},b.updateSimultaneousTextureCount=function(a){var b=this._webGLContext,c=!1;for((1>a||isNaN(a))&&(a=1),this._batchTextureCount=a;!c;)try{this._activeShader=this._fetchShaderProgram(b),c=!0}catch(d){if(1==this._batchTextureCount)throw\"Cannot compile shader \"+d;this._batchTextureCount-=4,this._batchTextureCount<1&&(this._batchTextureCount=1),this.vocalDebug&&console.log(\"Reducing desired texture count due to errors: \"+this._batchTextureCount)}},b.updateViewport=function(a,b){this._viewportWidth=0|a,this._viewportHeight=0|b;var c=this._webGLContext;c&&(c.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]),this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._projectionMatrixFlip.set(this._projectionMatrix),this._projectionMatrixFlip[5]*=-1,this._projectionMatrixFlip[13]*=-1)},b.getFilterShader=function(a){a||(a=this);var b=this._webGLContext,c=this._activeShader;if(a._builtShader)c=a._builtShader,a.shaderParamSetup&&(b.useProgram(c),a.shaderParamSetup(b,this,c));else try{c=this._fetchShaderProgram(b,\"filter\",a.VTX_SHADER_BODY,a.FRAG_SHADER_BODY,a.shaderParamSetup&&a.shaderParamSetup.bind(a)),a._builtShader=c,c._name=a.toString()}catch(d){console&&console.log(\"SHADER SWITCH FAILURE\",d)}return c},b.getBaseTexture=function(a,b){var c=Math.ceil(a>0?a:1)||1,d=Math.ceil(b>0?b:1)||1,e=this._webGLContext,f=e.createTexture();return this.resizeTexture(f,c,d),this.setTextureParams(e,!1),f},b.resizeTexture=function(a,b,c){var d=this._webGLContext;d.bindTexture(d.TEXTURE_2D,a),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,b,c,0,d.RGBA,d.UNSIGNED_BYTE,null),a.width=b,a.height=c},b.getRenderBufferTexture=function(a,b){var c=this._webGLContext,d=this.getBaseTexture(a,b);if(!d)return null;var e=c.createFramebuffer();return e?(d.width=a,d.height=b,c.bindFramebuffer(c.FRAMEBUFFER,e),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,d,0),e._renderTexture=d,d._frameBuffer=e,d._storeID=this._textureDictionary.length,this._textureDictionary[d._storeID]=d,c.bindFramebuffer(c.FRAMEBUFFER,null),d):null},b.setTextureParams=function(a,b){b&&this._antialias?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)},b.setClearColor=function(a){var b,c,d,e,f;\"string\"==typeof a?0==a.indexOf(\"#\")?(4==a.length&&(a=\"#\"+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)+a.charAt(3)+a.charAt(3)),b=Number(\"0x\"+a.slice(1,3))/255,c=Number(\"0x\"+a.slice(3,5))/255,d=Number(\"0x\"+a.slice(5,7))/255,e=Number(\"0x\"+a.slice(7,9))/255):0==a.indexOf(\"rgba(\")&&(f=a.slice(5,-1).split(\",\"),b=Number(f[0])/255,c=Number(f[1])/255,d=Number(f[2])/255,e=Number(f[3])):(b=((4278190080&a)>>>24)/255,c=((16711680&a)>>>16)/255,d=((65280&a)>>>8)/255,e=(255&a)/255),this._clearColor.r=b||0,this._clearColor.g=c||0,this._clearColor.b=d||0,this._clearColor.a=e||0,this._webGLContext&&this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a);\r\n},b.toString=function(){return\"[StageGL (name=\"+this.name+\")]\"},b._fetchWebGLContext=function(a,b){var c;try{c=a.getContext(\"webgl\",b)||a.getContext(\"experimental-webgl\",b)}catch(d){}if(c)c.viewportWidth=a.width,c.viewportHeight=a.height;else{var e=\"Could not initialize WebGL\";console.error?console.error(e):console.log(e)}return c},b._fetchShaderProgram=function(b,c,d,e,f){b.useProgram(null);var g,h;switch(c){case\"filter\":h=a.COVER_VERTEX_HEADER+(d||a.COVER_VERTEX_BODY),g=a.COVER_FRAGMENT_HEADER+(e||a.COVER_FRAGMENT_BODY);break;case\"particle\":h=a.REGULAR_VERTEX_HEADER+a.PARTICLE_VERTEX_BODY,g=a.REGULAR_FRAGMENT_HEADER+a.PARTICLE_FRAGMENT_BODY;break;case\"override\":h=a.REGULAR_VERTEX_HEADER+(d||a.REGULAR_VERTEX_BODY),g=a.REGULAR_FRAGMENT_HEADER+(e||a.REGULAR_FRAGMENT_BODY);break;case\"regular\":default:h=a.REGULAR_VERTEX_HEADER+a.REGULAR_VERTEX_BODY,g=a.REGULAR_FRAGMENT_HEADER+a.REGULAR_FRAGMENT_BODY}var i=this._createShader(b,b.VERTEX_SHADER,h),j=this._createShader(b,b.FRAGMENT_SHADER,g),k=b.createProgram();if(b.attachShader(k,i),b.attachShader(k,j),b.linkProgram(k),k._type=c,!b.getProgramParameter(k,b.LINK_STATUS))throw b.useProgram(this._activeShader),b.getProgramInfoLog(k);switch(b.useProgram(k),c){case\"filter\":k.vertexPositionAttribute=b.getAttribLocation(k,\"vertexPosition\"),b.enableVertexAttribArray(k.vertexPositionAttribute),k.uvPositionAttribute=b.getAttribLocation(k,\"uvPosition\"),b.enableVertexAttribArray(k.uvPositionAttribute),k.samplerUniform=b.getUniformLocation(k,\"uSampler\"),b.uniform1i(k.samplerUniform,0),k.uprightUniform=b.getUniformLocation(k,\"uUpright\"),b.uniform1f(k.uprightUniform,0),f&&f(b,this,k);break;case\"override\":case\"particle\":case\"regular\":default:k.vertexPositionAttribute=b.getAttribLocation(k,\"vertexPosition\"),b.enableVertexAttribArray(k.vertexPositionAttribute),k.uvPositionAttribute=b.getAttribLocation(k,\"uvPosition\"),b.enableVertexAttribArray(k.uvPositionAttribute),k.textureIndexAttribute=b.getAttribLocation(k,\"textureIndex\"),b.enableVertexAttribArray(k.textureIndexAttribute),k.alphaAttribute=b.getAttribLocation(k,\"objectAlpha\"),b.enableVertexAttribArray(k.alphaAttribute);for(var l=[],m=0;m<this._batchTextureCount;m++)l[m]=m;k.samplerData=l,k.samplerUniform=b.getUniformLocation(k,\"uSampler\"),b.uniform1iv(k.samplerUniform,l),k.pMatrixUniform=b.getUniformLocation(k,\"pMatrix\")}return b.useProgram(this._activeShader),k},b._createShader=function(b,c,d){d=d.replace(/{{count}}/g,this._batchTextureCount);for(var e=\"\",f=1;f<this._batchTextureCount;f++)e+=\"} else if (indexPicker <= \"+f+\".5) { color = texture2D(uSampler[\"+f+\"], vTextureCoord);\";d=d.replace(/{{alternates}}/g,e),d=d.replace(/{{fragColor}}/g,this._premultiply?a.REGULAR_FRAG_COLOR_PREMULTIPLY:a.REGULAR_FRAG_COLOR_NORMAL);var g=b.createShader(c);if(b.shaderSource(g,d),b.compileShader(g),!b.getShaderParameter(g,b.COMPILE_STATUS))throw b.getShaderInfoLog(g);return g},b._createBuffers=function(b){var c,d,e,f=this._maxCardsPerBatch*a.INDICIES_PER_CARD,g=this._vertexPositionBuffer=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,g),c=2;var h=this._vertices=new Float32Array(f*c);for(d=0,e=h.length;e>d;d+=c)h[d]=h[d+1]=0;b.bufferData(b.ARRAY_BUFFER,h,b.DYNAMIC_DRAW),g.itemSize=c,g.numItems=f;var i=this._uvPositionBuffer=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,i),c=2;var j=this._uvs=new Float32Array(f*c);for(d=0,e=j.length;e>d;d+=c)j[d]=j[d+1]=0;b.bufferData(b.ARRAY_BUFFER,j,b.DYNAMIC_DRAW),i.itemSize=c,i.numItems=f;var k=this._textureIndexBuffer=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,k),c=1;var l=this._indices=new Float32Array(f*c);for(d=0,e=l.length;e>d;d++)l[d]=0;b.bufferData(b.ARRAY_BUFFER,l,b.DYNAMIC_DRAW),k.itemSize=c,k.numItems=f;var m=this._alphaBuffer=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,m),c=1;var n=this._alphas=new Float32Array(f*c);for(d=0,e=n.length;e>d;d++)n[d]=1;b.bufferData(b.ARRAY_BUFFER,n,b.DYNAMIC_DRAW),m.itemSize=c,m.numItems=f},b._initTextures=function(){this._lastTextureInsert=-1,this._textureDictionary=[],this._textureIDs={},this._baseTextures=[],this._batchTextures=[];for(var a=0;a<this._batchTextureCount;a++){var b=this.getBaseTexture();if(this._baseTextures[a]=this._batchTextures[a]=b,!b)throw\"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances\"}},b._loadTextureImage=function(a,b){var c=b.src;c||(b._isCanvas=!0,c=b.src=\"canvas_\"+this._lastTrackedCanvas++);var d=this._textureIDs[c];void 0===d&&(d=this._textureIDs[c]=this._textureDictionary.length),void 0===this._textureDictionary[d]&&(this._textureDictionary[d]=this.getBaseTexture());var e=this._textureDictionary[d];if(e)e._batchID=this._batchID,e._storeID=d,e._imageData=b,this._insertTextureInBatch(a,e),b._storeID=d,b.complete||b.naturalWidth||b._isCanvas?this._updateTextureImageData(a,b):b.addEventListener(\"load\",this._updateTextureImageData.bind(this,a,b));else{var f=\"Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances\";console.error&&console.error(f)||console.log(f),e=this._baseTextures[0],e._batchID=this._batchID,e._storeID=-1,e._imageData=e,this._insertTextureInBatch(a,e)}return e},b._updateTextureImageData=function(a,b){var c=b.width&b.width-1||b.height&b.height-1,d=this._textureDictionary[b._storeID];a.activeTexture(a.TEXTURE0+d._activeIndex),a.bindTexture(a.TEXTURE_2D,d),d.isPOT=!c,this.setTextureParams(a,d.isPOT);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b)}catch(e){var f=\"\\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins\";console.error?(console.error(f),console.error(e)):console&&(console.log(f),console.log(e))}b._invalid=!1,d._w=b.width,d._h=b.height,this.vocalDebug&&(c&&console.warn(\"NPOT(Non Power of Two) Texture: \"+b.src),(b.width>a.MAX_TEXTURE_SIZE||b.height>a.MAX_TEXTURE_SIZE)&&console&&console.error(\"Oversized Texture: \"+b.width+\"x\"+b.height+\" vs \"+a.MAX_TEXTURE_SIZE+\"max\"))},b._insertTextureInBatch=function(a,b){if(this._batchTextures[b._activeIndex]!==b){var c=-1,d=(this._lastTextureInsert+1)%this._batchTextureCount,e=d;do{if(this._batchTextures[e]._batchID!=this._batchID&&!this._slotBlacklist[e]){c=e;break}e=(e+1)%this._batchTextureCount}while(e!==d);-1===c&&(this.batchReason=\"textureOverflow\",this._drawBuffers(a),this.batchCardCount=0,c=d),this._batchTextures[c]=b,b._activeIndex=c;var f=b._imageData;f&&f._invalid&&void 0!==b._drawID?this._updateTextureImageData(a,f):(a.activeTexture(a.TEXTURE0+c),a.bindTexture(a.TEXTURE_2D,b),this.setTextureParams(a)),this._lastTextureInsert=c}else{var f=b._imageData;void 0!=b._storeID&&f&&f._invalid&&this._updateTextureImageData(a,f)}b._drawID=this._drawID,b._batchID=this._batchID},b._killTextureObject=function(a){if(a){var b=this._webGLContext;if(void 0!==a._storeID&&a._storeID>=0){this._textureDictionary[a._storeID]=void 0;for(var c in this._textureIDs)this._textureIDs[c]==a._storeID&&delete this._textureIDs[c];a._imageData&&(a._imageData._storeID=void 0),a._imageData=a._storeID=void 0}void 0!==a._activeIndex&&this._batchTextures[a._activeIndex]===a&&(this._batchTextures[a._activeIndex]=this._baseTextures[a._activeIndex]);try{a._frameBuffer&&b.deleteFramebuffer(a._frameBuffer),a._frameBuffer=void 0}catch(d){this.vocalDebug&&console.log(d)}try{b.deleteTexture(a)}catch(d){this.vocalDebug&&console.log(d)}}},b._backupBatchTextures=function(a,b){var c=this._webGLContext;this._backupTextures||(this._backupTextures=[]),void 0===b&&(b=this._backupTextures);for(var d=0;d<this._batchTextureCount;d++)c.activeTexture(c.TEXTURE0+d),a?this._batchTextures[d]=b[d]:(b[d]=this._batchTextures[d],this._batchTextures[d]=this._baseTextures[d]),c.bindTexture(c.TEXTURE_2D,this._batchTextures[d]),this.setTextureParams(c,this._batchTextures[d].isPOT);a&&b===this._backupTextures&&(this._backupTextures=[])},b._batchDraw=function(a,b,c){this._isDrawing>0&&this._drawBuffers(b),this._isDrawing++,this._drawID++,this.batchCardCount=0,this.depth=0,this._appendToBatchGroup(a,b,new createjs.Matrix2D,this.alpha,c),this.batchReason=\"drawFinish\",this._drawBuffers(b),this._isDrawing--},b._cacheDraw=function(a,b,c,d){var e,f=this._activeShader,g=this._slotBlacklist,h=this._maxTextureSlots-1,i=this._viewportWidth,j=this._viewportHeight;this.protectTextureSlot(h,!0);var k=b.getMatrix();k=k.clone(),k.scale(1/d.scale,1/d.scale),k=k.invert(),k.translate(-d.offX/d.scale*b.scaleX,-d.offY/d.scale*b.scaleY);var l=this._cacheContainer;l.children=[b],l.transformMatrix=k,this._backupBatchTextures(!1),c&&c.length?this._drawFilters(b,c,d):this.isCacheControlled?(a.clear(a.COLOR_BUFFER_BIT),this._batchDraw(l,a,!0)):(a.activeTexture(a.TEXTURE0+h),b.cacheCanvas=this.getTargetRenderTexture(b,d._drawWidth,d._drawHeight),e=b.cacheCanvas,a.bindFramebuffer(a.FRAMEBUFFER,e._frameBuffer),this.updateViewport(d._drawWidth,d._drawHeight),this._projectionMatrix=this._projectionMatrixFlip,a.clear(a.COLOR_BUFFER_BIT),this._batchDraw(l,a,!0),a.bindFramebuffer(a.FRAMEBUFFER,null),this.updateViewport(i,j)),this._backupBatchTextures(!0),this.protectTextureSlot(h,!1),this._activeShader=f,this._slotBlacklist=g},b._drawFilters=function(a,b,c){var d,e=this._webGLContext,f=this._maxTextureSlots-1,g=this._viewportWidth,h=this._viewportHeight,i=this._cacheContainer,j=b.length;e.activeTexture(e.TEXTURE0+f),d=this.getTargetRenderTexture(a,c._drawWidth,c._drawHeight),e.bindFramebuffer(e.FRAMEBUFFER,d._frameBuffer),this.updateViewport(c._drawWidth,c._drawHeight),e.clear(e.COLOR_BUFFER_BIT),this._batchDraw(i,e,!0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,d),this.setTextureParams(e);var k=!1,l=0,m=b[l];do this._activeShader=this.getFilterShader(m),this._activeShader&&(e.activeTexture(e.TEXTURE0+f),d=this.getTargetRenderTexture(a,c._drawWidth,c._drawHeight),e.bindFramebuffer(e.FRAMEBUFFER,d._frameBuffer),e.viewport(0,0,c._drawWidth,c._drawHeight),e.clear(e.COLOR_BUFFER_BIT),this._drawCover(e,k),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,d),this.setTextureParams(e),(j>1||b[0]._multiPass)&&(k=!k),m=null!==m._multiPass?m._multiPass:b[++l]);while(m);this.isCacheControlled?(e.bindFramebuffer(e.FRAMEBUFFER,null),this.updateViewport(g,h),this._activeShader=this.getFilterShader(this),e.clear(e.COLOR_BUFFER_BIT),this._drawCover(e,k)):(k&&(e.activeTexture(e.TEXTURE0+f),d=this.getTargetRenderTexture(a,c._drawWidth,c._drawHeight),e.bindFramebuffer(e.FRAMEBUFFER,d._frameBuffer),this._activeShader=this.getFilterShader(this),e.viewport(0,0,c._drawWidth,c._drawHeight),e.clear(e.COLOR_BUFFER_BIT),this._drawCover(e,!k)),e.bindFramebuffer(e.FRAMEBUFFER,null),this.updateViewport(g,h),a.cacheCanvas=d)},b._appendToBatchGroup=function(b,c,d,e,f){b._glMtx||(b._glMtx=new createjs.Matrix2D);var g=b._glMtx;g.copy(d),b.transformMatrix?g.appendMatrix(b.transformMatrix):g.appendTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY);for(var h,i,j,k,l=b.children.length,m=0;l>m;m++){var n=b.children[m];if(n.visible&&e)if(n.cacheCanvas&&!f||(n._updateState&&n._updateState(),!n.children)){this.batchCardCount+1>this._maxCardsPerBatch&&(this.batchReason=\"vertexOverflow\",this._drawBuffers(c),this.batchCardCount=0),n._glMtx||(n._glMtx=new createjs.Matrix2D);var o=n._glMtx;o.copy(g),n.transformMatrix?o.appendMatrix(n.transformMatrix):o.appendTransform(n.x,n.y,n.scaleX,n.scaleY,n.rotation,n.skewX,n.skewY,n.regX,n.regY);var p,q,r,s,t,u,v=n.cacheCanvas&&!f;if(2===n._webGLRenderStyle||v)r=(f?!1:n.cacheCanvas)||n.image;else{if(1!==n._webGLRenderStyle)continue;if(s=n.spriteSheet.getFrame(n.currentFrame),null===s)continue;r=s.image}var w=this._uvs,x=this._vertices,y=this._indices,z=this._alphas;if(r){if(void 0===r._storeID)t=this._loadTextureImage(c,r),this._insertTextureInBatch(c,t);else{if(t=this._textureDictionary[r._storeID],!t){this.vocalDebug&&console.log(\"Texture should not be looked up while not being stored.\");continue}t._batchID!==this._batchID&&this._insertTextureInBatch(c,t)}if(q=t._activeIndex,2===n._webGLRenderStyle||v)!v&&n.sourceRect?(n._uvRect||(n._uvRect={}),u=n.sourceRect,p=n._uvRect,p.t=u.y/r.height,p.l=u.x/r.width,p.b=(u.y+u.height)/r.height,p.r=(u.x+u.width)/r.width,h=0,i=0,j=u.width+h,k=u.height+i):(p=a.UV_RECT,v?(u=n.bitmapCache,h=u.x+u._filterOffX/u.scale,i=u.y+u._filterOffY/u.scale,j=u._drawWidth/u.scale+h,k=u._drawHeight/u.scale+i):(h=0,i=0,j=r.width+h,k=r.height+i));else if(1===n._webGLRenderStyle){var A=s.rect;p=s.uvRect,p||(p=a.buildUVRects(n.spriteSheet,n.currentFrame,!1)),h=-s.regX,i=-s.regY,j=A.width-s.regX,k=A.height-s.regY}var B=this.batchCardCount*a.INDICIES_PER_CARD,C=2*B;x[C]=h*o.a+i*o.c+o.tx,x[C+1]=h*o.b+i*o.d+o.ty,x[C+2]=h*o.a+k*o.c+o.tx,x[C+3]=h*o.b+k*o.d+o.ty,x[C+4]=j*o.a+i*o.c+o.tx,x[C+5]=j*o.b+i*o.d+o.ty,x[C+6]=x[C+2],x[C+7]=x[C+3],x[C+8]=x[C+4],x[C+9]=x[C+5],x[C+10]=j*o.a+k*o.c+o.tx,x[C+11]=j*o.b+k*o.d+o.ty,w[C]=p.l,w[C+1]=p.t,w[C+2]=p.l,w[C+3]=p.b,w[C+4]=p.r,w[C+5]=p.t,w[C+6]=p.l,w[C+7]=p.b,w[C+8]=p.r,w[C+9]=p.t,w[C+10]=p.r,w[C+11]=p.b,y[B]=y[B+1]=y[B+2]=y[B+3]=y[B+4]=y[B+5]=q,z[B]=z[B+1]=z[B+2]=z[B+3]=z[B+4]=z[B+5]=n.alpha*e,this.batchCardCount++}}else this._appendToBatchGroup(n,c,g,n.alpha*e)}},b._drawBuffers=function(b){if(!(this.batchCardCount<=0)){this.vocalDebug&&console.log(\"Draw[\"+this._drawID+\":\"+this._batchID+\"] : \"+this.batchReason);var c=this._activeShader,d=this._vertexPositionBuffer,e=this._textureIndexBuffer,f=this._uvPositionBuffer,g=this._alphaBuffer;b.useProgram(c),b.bindBuffer(b.ARRAY_BUFFER,d),b.vertexAttribPointer(c.vertexPositionAttribute,d.itemSize,b.FLOAT,!1,0,0),b.bufferSubData(b.ARRAY_BUFFER,0,this._vertices),b.bindBuffer(b.ARRAY_BUFFER,e),b.vertexAttribPointer(c.textureIndexAttribute,e.itemSize,b.FLOAT,!1,0,0),b.bufferSubData(b.ARRAY_BUFFER,0,this._indices),b.bindBuffer(b.ARRAY_BUFFER,f),b.vertexAttribPointer(c.uvPositionAttribute,f.itemSize,b.FLOAT,!1,0,0),b.bufferSubData(b.ARRAY_BUFFER,0,this._uvs),b.bindBuffer(b.ARRAY_BUFFER,g),b.vertexAttribPointer(c.alphaAttribute,g.itemSize,b.FLOAT,!1,0,0),b.bufferSubData(b.ARRAY_BUFFER,0,this._alphas),b.uniformMatrix4fv(c.pMatrixUniform,b.FALSE,this._projectionMatrix);for(var h=0;h<this._batchTextureCount;h++){var i=this._batchTextures[h];b.activeTexture(b.TEXTURE0+h),b.bindTexture(b.TEXTURE_2D,i),this.setTextureParams(b,i.isPOT)}b.drawArrays(b.TRIANGLES,0,this.batchCardCount*a.INDICIES_PER_CARD),this._batchID++}},b._drawCover=function(b,c){this._isDrawing>0&&this._drawBuffers(b),this.vocalDebug&&console.log(\"Draw[\"+this._drawID+\":\"+this._batchID+\"] : Cover\");var d=this._activeShader,e=this._vertexPositionBuffer,f=this._uvPositionBuffer;b.clear(b.COLOR_BUFFER_BIT),b.useProgram(d),b.bindBuffer(b.ARRAY_BUFFER,e),b.vertexAttribPointer(d.vertexPositionAttribute,e.itemSize,b.FLOAT,!1,0,0),b.bufferSubData(b.ARRAY_BUFFER,0,a.COVER_VERT),b.bindBuffer(b.ARRAY_BUFFER,f),b.vertexAttribPointer(d.uvPositionAttribute,f.itemSize,b.FLOAT,!1,0,0),b.bufferSubData(b.ARRAY_BUFFER,0,c?a.COVER_UV_FLIP:a.COVER_UV),b.uniform1i(d.samplerUniform,0),b.uniform1f(d.uprightUniform,c?0:1),b.drawArrays(b.TRIANGLES,0,a.INDICIES_PER_CARD)},createjs.StageGL=createjs.promote(a,\"Stage\")}(),this.createjs=this.createjs||{},function(){function a(a){this.DisplayObject_constructor(),\"string\"==typeof a?(this.image=document.createElement(\"img\"),this.image.src=a):this.image=a,this.sourceRect=null,this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a,b.isVisible=function(){var a=this.image,b=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||a.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.image,d=this.sourceRect;if(c.getImage&&(c=c.getImage()),!c)return!0;if(d){var e=d.x,f=d.y,g=e+d.width,h=f+d.height,i=0,j=0,k=c.width,l=c.height;0>e&&(i-=e,e=0),g>k&&(g=k),0>f&&(j-=f,f=0),h>l&&(h=l),a.drawImage(c,e,f,g-e,h-f,i,j,g-e,h-f)}else a.drawImage(c,0,0);return!0},b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;var b=this.image,c=this.sourceRect||b,d=b&&(b.naturalWidth||b.getContext||b.readyState>=2);return d?this._rectangle.setValues(0,0,c.width,c.height):null},b.clone=function(b){var c=this.image;c&&b&&(c=c.cloneNode());var d=new a(c);return this.sourceRect&&(d.sourceRect=this.sourceRect.clone()),this._cloneProps(d),d},b.toString=function(){return\"[Bitmap (name=\"+this.name+\")]\"},createjs.Bitmap=createjs.promote(a,\"DisplayObject\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=a,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE,null!=b&&this.gotoAndPlay(b)}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a,b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&a.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0},b.play=function(){this.paused=!1},b.stop=function(){this.paused=!0},b.gotoAndPlay=function(a){this.paused=!1,this._skipAdvance=!0,this._goto(a)},b.gotoAndStop=function(a){this.paused=!0,this._goto(a)},b.advance=function(a){var b=this.framerate||this.spriteSheet.framerate,c=b&&null!=a?a/(1e3/b):1;this._normalizeFrame(c)},b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},b.clone=function(){return this._cloneProps(new a(this.spriteSheet))},b.toString=function(){return\"[Sprite (name=\"+this.name+\")]\"},b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.currentFrame=this.currentFrame,a.currentAnimation=this.currentAnimation,a.paused=this.paused,a.currentAnimationFrame=this.currentAnimationFrame,a.framerate=this.framerate,a._animation=this._animation,a._currentFrame=this._currentFrame,a._skipAdvance=this._skipAdvance,a},b._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1),this.DisplayObject__tick(a)},b._normalizeFrame=function(a){a=a||0;var b,c=this._animation,d=this.paused,e=this._currentFrame;if(c){var f=c.speed||1,g=this.currentAnimationFrame;if(b=c.frames.length,g+a*f>=b){var h=c.next;if(this._dispatchAnimationEnd(c,e,d,h,b-1))return;if(h)return this._goto(h,a-(b-g)/f);this.paused=!0,g=c.frames.length-1}else g+=a*f;this.currentAnimationFrame=g,this._currentFrame=c.frames[0|g]}else if(e=this._currentFrame+=a,b=this.spriteSheet.getNumFrames(),e>=b&&b>0&&!this._dispatchAnimationEnd(c,e,d,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();e=0|this._currentFrame,this.currentFrame!=e&&(this.currentFrame=e,this.dispatchEvent(\"change\"))},b._dispatchAnimationEnd=function(a,b,c,d,e){var f=a?a.name:null;if(this.hasEventListener(\"animationend\")){var g=new createjs.Event(\"animationend\");g.name=f,g.next=d,this.dispatchEvent(g)}var h=this._animation!=a||this._currentFrame!=b;return h||c||!this.paused||(this.currentAnimationFrame=e,h=!0),h},b._goto=function(a,b){if(this.currentAnimationFrame=0,isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()},createjs.Sprite=createjs.promote(a,\"DisplayObject\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.DisplayObject_constructor(),this.graphics=a?a:new createjs.Graphics}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a,this),!0)},b.clone=function(b){var c=b&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new a(c))},b.toString=function(){return\"[Shape (name=\"+this.name+\")]\"},createjs.Shape=createjs.promote(a,\"DisplayObject\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.DisplayObject_constructor(),this.text=a,this.font=b,this.color=c,this.textAlign=\"left\",this.textBaseline=\"top\",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var b=createjs.extend(a,createjs.DisplayObject),c=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");c.getContext&&(a._workingContext=c.getContext(\"2d\"),c.width=c.height=1),a.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},a.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},b.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&\"\"!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||\"#000\";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0},b.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},b.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth(\"M\")},b.getMeasuredHeight=function(){return this._drawText(null,{}).height},b.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(null==this.text||\"\"===this.text)return null;var c=this._drawText(null,{}),d=this.maxWidth&&this.maxWidth<c.width?this.maxWidth:c.width,e=d*a.H_OFFSETS[this.textAlign||\"left\"],f=this.lineHeight||this.getMeasuredLineHeight(),g=f*a.V_OFFSETS[this.textBaseline||\"top\"];return this._rectangle.setValues(e,g,d,c.height)},b.getMetrics=function(){var b={lines:[]};return b.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),b.vOffset=b.lineHeight*a.V_OFFSETS[this.textBaseline||\"top\"],this._drawText(null,b,b.lines)},b.clone=function(){return this._cloneProps(new a(this.text,this.font,this.color))},b.toString=function(){return\"[Text (text=\"+(this.text.length>20?this.text.substr(0,17)+\"...\":this.text)+\")]\"},b._cloneProps=function(a){return this.DisplayObject__cloneProps(a),a.textAlign=this.textAlign,a.textBaseline=this.textBaseline,a.maxWidth=this.maxWidth,a.outline=this.outline,a.lineHeight=this.lineHeight,a.lineWidth=this.lineWidth,a},b._prepContext=function(a){return a.font=this.font||\"10px sans-serif\",a.textAlign=this.textAlign||\"left\",a.textBaseline=this.textBaseline||\"top\",a.lineJoin=\"miter\",a.miterLimit=2.5,a},b._drawText=function(b,c,d){var e=!!b;e||(b=a._workingContext,b.save(),this._prepContext(b));for(var f=this.lineHeight||this.getMeasuredLineHeight(),g=0,h=0,i=String(this.text).split(/(?:\\r\\n|\\r|\\n)/),j=0,k=i.length;k>j;j++){var l=i[j],m=null;if(null!=this.lineWidth&&(m=b.measureText(l).width)>this.lineWidth){var n=l.split(/(\\s)/);l=n[0],m=b.measureText(l).width;for(var o=1,p=n.length;p>o;o+=2){var q=b.measureText(n[o]+n[o+1]).width;m+q>this.lineWidth?(e&&this._drawTextLine(b,l,h*f),d&&d.push(l),m>g&&(g=m),l=n[o+1],m=b.measureText(l).width,h++):(l+=n[o]+n[o+1],m+=q)}}e&&this._drawTextLine(b,l,h*f),d&&d.push(l),c&&null==m&&(m=b.measureText(l).width),m>g&&(g=m),h++}return c&&(c.width=g,c.height=h*f),e||b.restore(),c},b._drawTextLine=function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)},b._getMeasuredWidth=function(b){var c=a._workingContext;c.save();var d=this._prepContext(c).measureText(b).width;return c.restore(),d},createjs.Text=createjs.promote(a,\"DisplayObject\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.Container_constructor(),this.text=a||\"\",this.spriteSheet=b,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var b=createjs.extend(a,createjs.Container);a.maxPoolSize=100,a._spritePool=[],b.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateState(),this.Container_draw(a,b))},b.getBounds=function(){return this._updateText(),this.Container_getBounds()},b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&a)},b.clone=function(){return this._cloneProps(new a(this.text,this.spriteSheet))},b.addChild=b.addChildAt=b.removeChild=b.removeChildAt=b.removeAllChildren=function(){},b._updateState=function(){this._updateText()},b._cloneProps=function(a){return this.Container__cloneProps(a),a.lineHeight=this.lineHeight,a.letterSpacing=this.letterSpacing,a.spaceWidth=this.spaceWidth,a},b._getFrameIndex=function(a,b){var c,d=b.getAnimation(a);return d||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(d=b.getAnimation(c))),d&&d.frames[0]},b._getFrame=function(a,b){var c=this._getFrameIndex(a,b);return null==c?c:b.getFrame(c)},b._getLineHeight=function(a){var b=this._getFrame(\"1\",a)||this._getFrame(\"T\",a)||this._getFrame(\"L\",a)||a.getFrame(0);return b?b.rect.height:1},b._getSpaceWidth=function(a){var b=this._getFrame(\"1\",a)||this._getFrame(\"l\",a)||this._getFrame(\"e\",a)||this._getFrame(\"a\",a)||a.getFrame(0);return b?b.rect.width:1},b._updateText=function(){var b,c=0,d=0,e=this._oldProps,f=!1,g=this.spaceWidth,h=this.lineHeight,i=this.spriteSheet,j=a._spritePool,k=this.children,l=0,m=k.length;for(var n in e)e[n]!=this[n]&&(e[n]=this[n],f=!0);if(f){var o=!!this._getFrame(\" \",i);o||g||(g=this._getSpaceWidth(i)),h||(h=this._getLineHeight(i));for(var p=0,q=this.text.length;q>p;p++){var r=this.text.charAt(p);if(\" \"!=r||o)if(\"\\n\"!=r&&\"\\r\"!=r){var s=this._getFrameIndex(r,i);null!=s&&(m>l?b=k[l]:(k.push(b=j.length?j.pop():new createjs.Sprite),b.parent=this,m++),b.spriteSheet=i,b.gotoAndStop(s),b.x=c,b.y=d,l++,c+=b.getBounds().width+this.letterSpacing)}else\"\\r\"==r&&\"\\n\"==this.text.charAt(p+1)&&p++,c=0,d+=h;else c+=g}for(;m>l;)j.push(b=k.pop()),b.parent=null,m--;j.length>a.maxPoolSize&&(j.length=a.maxPoolSize)}},createjs.BitmapText=createjs.promote(a,\"Container\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(b){this.Container_constructor(),!a.inited&&a.init();var c,d,e,f;b instanceof String||arguments.length>1?(c=b,d=arguments[1],e=arguments[2],f=arguments[3],null==e&&(e=-1),b=null):b&&(c=b.mode,d=b.startPosition,e=b.loop,f=b.labels),b||(b={labels:f}),this.mode=c||a.INDEPENDENT,this.startPosition=d||0,this.loop=e===!0?-1:e||0,this.currentFrame=0,this.paused=b.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||b.frameBounds,this.framerate=null,b.useTicks=b.paused=!0,this.timeline=new createjs.Timeline(b),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}function b(){throw\"MovieClipPlugin cannot be instantiated.\"}var c=createjs.extend(a,createjs.Container);a.INDEPENDENT=\"independent\",a.SINGLE_FRAME=\"single\",a.SYNCHED=\"synched\",a.inited=!1,a.init=function(){a.inited||(b.install(),a.inited=!0)},c._getLabels=function(){return this.timeline.getLabels()},c.getLabels=createjs.deprecate(c._getLabels,\"MovieClip.getLabels\"),c._getCurrentLabel=function(){return this.timeline.currentLabel},c.getCurrentLabel=createjs.deprecate(c._getCurrentLabel,\"MovieClip.getCurrentLabel\"),c._getDuration=function(){return this.timeline.duration},c.getDuration=createjs.deprecate(c._getDuration,\"MovieClip.getDuration\");try{Object.defineProperties(c,{labels:{get:c._getLabels},currentLabel:{get:c._getCurrentLabel},totalFrames:{get:c._getDuration},duration:{get:c._getDuration}})}catch(d){}c.initialize=a,c.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},c.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._updateState(),this.Container_draw(a,b),!0)},c.play=function(){this.paused=!1},c.stop=function(){this.paused=!0},c.gotoAndPlay=function(a){this.paused=!1,this._goto(a)},c.gotoAndStop=function(a){this.paused=!0,this._goto(a)},c.advance=function(b){var c=a.INDEPENDENT;if(this.mode===c){for(var d=this,e=d.framerate;(d=d.parent)&&null===e;)d.mode===c&&(e=d._framerate);if(this._framerate=e,!this.paused){var f=null!==e&&-1!==e&&null!==b?b/(1e3/e)+this._t:1,g=0|f;for(this._t=f-g;g--;)this._updateTimeline(this._rawPosition+1,!1)}}},c.clone=function(){throw\"MovieClip cannot be cloned.\"},c.toString=function(){return\"[MovieClip (name=\"+this.name+\")]\"},c._updateState=function(){(-1===this._rawPosition||this.mode!==a.INDEPENDENT)&&this._updateTimeline(-1)},c._tick=function(a){this.advance(a&&a.delta),this.Container__tick(a)},c._goto=function(a){var b=this.timeline.resolve(a);null!=b&&(this._t=0,this._updateTimeline(b,!0))},c._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},c._updateTimeline=function(b,c){var d=this.mode!==a.INDEPENDENT,e=this.timeline;d&&(b=this.startPosition+(this.mode===a.SINGLE_FRAME?0:this._synchOffset)),0>b&&(b=0),(this._rawPosition!==b||d)&&(this._rawPosition=b,e.loop=this.loop,e.setPosition(b,d||!this.actionsEnabled,c,this._bound_resolveState))},c._renderFirstFrame=function(){var a=this.timeline,b=a.rawPosition;a.setPosition(0,!0,!0,this._bound_resolveState),a.rawPosition=b},c._resolveState=function(){var a=this.timeline;this.currentFrame=a.position;for(var b in this._managed)this._managed[b]=1;for(var c=a.tweens,d=0,e=c.length;e>d;d++){var f=c[d],g=f.target;if(g!==this&&!f.passive){var h=f._stepPosition;g instanceof createjs.DisplayObject?this._addManagedChild(g,h):this._setState(g.state,h)}}var i=this.children;for(d=i.length-1;d>=0;d--){var j=i[d].id;1===this._managed[j]&&(this.removeChildAt(d),delete this._managed[j])}},c._setState=function(a,b){if(a)for(var c=a.length-1;c>=0;c--){var d=a[c],e=d.t,f=d.p;for(var g in f)e[g]=f[g];this._addManagedChild(e,b)}},c._addManagedChild=function(b,c){b._off||(this.addChildAt(b,0),b instanceof a&&(b._synchOffset=c,b.mode===a.INDEPENDENT&&b.autoReset&&!this._managed[b.id]&&b._reset()),this._managed[b.id]=2)},c._getBounds=function(a,b){var c=this.DisplayObject_getBounds();return c||this.frameBounds&&(c=this._rectangle.copy(this.frameBounds[this.currentFrame])),c?this._transformBounds(c,a,b):this.Container__getBounds(a,b)},createjs.MovieClip=createjs.promote(a,\"Container\"),b.priority=100,b.ID=\"MovieClip\",b.install=function(){createjs.Tween._installPlugin(b)},b.init=function(c,d,e){\"startPosition\"===d&&c.target instanceof a&&c._addPlugin(b)},b.step=function(a,b,c){},b.change=function(a,b,c,d,e,f){return\"startPosition\"===c?1===e?b.props[c]:b.prev.props[c]:void 0}}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"SpriteSheetUtils cannot be instantiated\"}var b=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");b.getContext&&(a._workingCanvas=b,a._workingContext=b.getContext(\"2d\"),b.width=b.height=1),a.extractFrame=function(b,c){isNaN(c)&&(c=b.getAnimation(c).frames[0]);var d=b.getFrame(c);if(!d)return null;var e=d.rect,f=a._workingCanvas;f.width=e.width,f.height=e.height,a._workingContext.drawImage(d.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);var g=document.createElement(\"img\");return g.src=f.toDataURL(\"image/png\"),g},a.addFlippedFrames=createjs.deprecate(null,\"SpriteSheetUtils.addFlippedFrames\"),a.mergeAlpha=createjs.deprecate(null,\"SpriteSheetUtils.mergeAlpha\"),a._flip=function(b,c,d,e){for(var f=b._images,g=a._workingCanvas,h=a._workingContext,i=f.length/c,j=0;i>j;j++){var k=f[j];k.__tmp=j,h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,g.width+1,g.height+1),g.width=k.width,g.height=k.height,h.setTransform(d?-1:1,0,0,e?-1:1,d?k.width:0,e?k.height:0),h.drawImage(k,0,0);var l=document.createElement(\"img\");l.src=g.toDataURL(\"image/png\"),l.width=k.width||k.naturalWidth,l.height=k.height||k.naturalHeight,\r\nf.push(l)}var m=b._frames,n=m.length/c;for(j=0;n>j;j++){k=m[j];var o=k.rect.clone();l=f[k.image.__tmp+i*c];var p={image:l,rect:o,regX:k.regX,regY:k.regY};d&&(o.x=(l.width||l.naturalWidth)-o.x-o.width,p.regX=o.width-k.regX),e&&(o.y=(l.height||l.naturalHeight)-o.y-o.height,p.regY=o.height-k.regY),m.push(p)}var q=\"_\"+(d?\"h\":\"\")+(e?\"v\":\"\"),r=b._animations,s=b._data,t=r.length/c;for(j=0;t>j;j++){var u=r[j];k=s[u];var v={name:u+q,speed:k.speed,next:k.next,frames:[]};k.next&&(v.next+=q),m=k.frames;for(var w=0,x=m.length;x>w;w++)v.frames.push(m[w]+n*c);s[v.name]=v,r.push(v.name)}},createjs.SpriteSheetUtils=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=a||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var b=createjs.extend(a,createjs.EventDispatcher);a.ERR_DIMENSIONS=\"frame dimensions exceed max spritesheet dimensions\",a.ERR_RUNNING=\"a build is already running\",b.addFrame=function(b,c,d,e,f){if(this._data)throw a.ERR_RUNNING;var g=c||b.bounds||b.nominalBounds;return!g&&b.getBounds&&(g=b.getBounds()),g?(d=d||1,this._frames.push({source:b,sourceRect:g,scale:d,funct:e,data:f,index:this._frames.length,height:g.height*d})-1):null},b.addAnimation=function(b,c,d,e){if(this._data)throw a.ERR_RUNNING;this._animations[b]={frames:c,next:d,speed:e}},b.addMovieClip=function(b,c,d,e,f,g){if(this._data)throw a.ERR_RUNNING;var h=b.frameBounds,i=c||b.bounds||b.nominalBounds;if(!i&&b.getBounds&&(i=b.getBounds()),i||h){var j,k,l=this._frames.length,m=b.timeline.duration;for(j=0;m>j;j++){var n=h&&h[j]?h[j]:i;this.addFrame(b,n,d,this._setupMovieClipFrame,{i:j,f:e,d:f})}var o=b.timeline._labels,p=[];for(var q in o)p.push({index:o[q],label:q});if(p.length)for(p.sort(function(a,b){return a.index-b.index}),j=0,k=p.length;k>j;j++){for(var r=p[j].label,s=l+p[j].index,t=l+(j==k-1?m:p[j+1].index),u=[],v=s;t>v;v++)u.push(v);(!g||(r=g(r,b,s,t)))&&this.addAnimation(r,u,!0)}}},b.build=function(){if(this._data)throw a.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},b.buildAsync=function(b){if(this._data)throw a.ERR_RUNNING;this.timeSlice=b,this._startBuild();var c=this;this._timerID=setTimeout(function(){c._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},b.stopAsync=function(){clearTimeout(this._timerID),this._data=null},b.clone=function(){throw\"SpriteSheetBuilder cannot be cloned.\"},b.toString=function(){return\"[SpriteSheetBuilder]\"},b._startBuild=function(){var b=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var c=[];this._data={images:[],frames:c,framerate:this.framerate,animations:this._animations};var d=this._frames.slice();if(d.sort(function(a,b){return a.height<=b.height?-1:1}),d[d.length-1].height+2*b>this.maxHeight)throw a.ERR_DIMENSIONS;for(var e=0,f=0,g=0;d.length;){var h=this._fillRow(d,e,g,c,b);if(h.w>f&&(f=h.w),e+=h.h,!h.h||!d.length){var i=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");i.width=this._getSize(f,this.maxWidth),i.height=this._getSize(e,this.maxHeight),this._data.images[g]=i,h.h||(f=e=0,g++)}}},b._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1,a.gotoAndStop(b.i),a.actionsEnabled=c,b.f&&b.f(a,b.d,b.i)},b._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))},b._fillRow=function(b,c,d,e,f){var g=this.maxWidth,h=this.maxHeight;c+=f;for(var i=h-c,j=f,k=0,l=b.length-1;l>=0;l--){var m=b[l],n=this._scale*m.scale,o=m.sourceRect,p=m.source,q=Math.floor(n*o.x-f),r=Math.floor(n*o.y-f),s=Math.ceil(n*o.height+2*f),t=Math.ceil(n*o.width+2*f);if(t>g)throw a.ERR_DIMENSIONS;s>i||j+t>g||(m.img=d,m.rect=new createjs.Rectangle(j,c,t,s),k=k||s,b.splice(l,1),e[m.index]=[j,c,t,s,d,Math.round(-q+n*p.regX-f),Math.round(-r+n*p.regY-f)],j+=t)}return{w:j,h:k}},b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent(\"complete\")},b._run=function(){for(var a=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var d=this;this._timerID=setTimeout(function(){d._run()},50-a)}var e=this.progress=this._index/this._frames.length;if(this.hasEventListener(\"progress\")){var f=new createjs.Event(\"progress\");f.progress=e,this.dispatchEvent(f)}},b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,d=a.sourceRect,e=this._data.images[a.img],f=e.getContext(\"2d\");return a.funct&&a.funct(a.source,a.data),f.save(),f.beginPath(),f.rect(c.x,c.y,c.width,c.height),f.clip(),f.translate(Math.ceil(c.x-d.x*b),Math.ceil(c.y-d.y*b)),f.scale(b,b),a.source.draw(f),f.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(a,\"EventDispatcher\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.DisplayObject_constructor(),\"string\"==typeof a&&(a=document.getElementById(a)),this.mouseEnabled=!1;var b=a.style;b.position=\"absolute\",b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin=\"0% 0%\",this.htmlElement=a,this._oldProps=null,this._oldStage=null,this._drawAction=null}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){return null!=this.htmlElement},b.draw=function(a,b){return!0},b.cache=function(){},b.uncache=function(){},b.updateCache=function(){},b.hitTest=function(){},b.localToGlobal=function(){},b.globalToLocal=function(){},b.localToLocal=function(){},b.clone=function(){throw\"DOMElement cannot be cloned.\"},b.toString=function(){return\"[DOMElement (name=\"+this.name+\")]\"},b._tick=function(a){var b=this.stage;b&&b!==this._oldStage&&(this._drawAction&&b.off(\"drawend\",this._drawAction),this._drawAction=b.on(\"drawend\",this._handleDrawEnd,this),this._oldStage=b),this.DisplayObject__tick(a)},b._handleDrawEnd=function(a){var b=this.htmlElement;if(b){var c=b.style,d=this.getConcatenatedDisplayProps(this._props),e=d.matrix,f=d.visible?\"visible\":\"hidden\";if(f!=c.visibility&&(c.visibility=f),d.visible){var g=this._oldProps,h=g&&g.matrix,i=1e4;if(!h||!h.equals(e)){var j=\"matrix(\"+(e.a*i|0)/i+\",\"+(e.b*i|0)/i+\",\"+(e.c*i|0)/i+\",\"+(e.d*i|0)/i+\",\"+(e.tx+.5|0);c.transform=c.WebkitTransform=c.OTransform=c.msTransform=j+\",\"+(e.ty+.5|0)+\")\",c.MozTransform=j+\"px,\"+(e.ty+.5|0)+\"px)\",g||(g=this._oldProps=new createjs.DisplayProps(!0,null)),g.matrix.copy(e)}g.alpha!=d.alpha&&(c.opacity=\"\"+(d.alpha*i|0)/i,g.alpha=d.alpha)}}},createjs.DOMElement=createjs.promote(a,\"DisplayObject\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var b=a.prototype;b.getBounds=function(a){return a},b.shaderParamSetup=function(a,b,c){},b.applyFilter=function(a,b,c,d,e,f,g,h){f=f||a,null==g&&(g=b),null==h&&(h=c);try{var i=a.getImageData(b,c,d,e)}catch(j){return!1}return this._applyFilter(i)?(f.putImageData(i,g,h),!0):!1},b.toString=function(){return\"[Filter]\"},b.clone=function(){return new a},b._applyFilter=function(a){return!0},createjs.Filter=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterOffX=0,this._filterOffY=0,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0}var b=a.prototype;a.getFilterBounds=function(a,b){b||(b=new createjs.Rectangle);var c=a.filters,d=c&&c.length;if(0>=!!d)return b;for(var e=0;d>e;e++){var f=c[e];if(f&&f.getBounds){var g=f.getBounds();g&&(0==e?b.setValues(g.x,g.y,g.width,g.height):b.extend(g.x,g.y,g.width,g.height))}}return b},b.toString=function(){return\"[BitmapCache]\"},b.define=function(a,b,c,d,e,f,g){if(!a)throw\"No symbol to cache\";this._options=g,this.target=a,this.width=d>=1?d:1,this.height=e>=1?e:1,this.x=b||0,this.y=c||0,this.scale=f||1,this.update()},b.update=function(b){if(!this.target)throw\"define() must be called before update()\";var c=a.getFilterBounds(this.target),d=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+c.width,this._drawHeight=Math.ceil(this.height*this.scale)+c.height,d&&this._drawWidth==d.width&&this._drawHeight==d.height||this._updateSurface(),this._filterOffX=c.x,this._filterOffY=c.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(b),this.cacheID=this.cacheID?this.cacheID+1:1},b.release=function(){if(this._webGLCache)this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1;else{var a=this.target.stage;a instanceof createjs.StageGL&&a.releaseTexture(this.target.cacheCanvas)}this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},b.getCacheDataURL=function(){var a=this.target&&this.target.cacheCanvas;return a?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=a.toDataURL?a.toDataURL():null),this._cacheDataURL):null},b.draw=function(a){return this.target?(a.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0):!1},b._updateSurface=function(){if(!this._options||!this._options.useGL){var a=this.target.cacheCanvas;return a||(a=this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\")),a.width=this._drawWidth,void(a.height=this._drawHeight)}if(!this._webGLCache)if(\"stage\"===this._options.useGL){if(!this.target.stage||!this.target.stage.isWebGL){var b=\"Cannot use 'stage' for cache because the object's parent stage is \";throw b+=this.target.stage?\"non WebGL.\":\"not set, please addChild to the correct stage.\"}this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else if(\"new\"===this._options.useGL)this.target.cacheCanvas=document.createElement(\"canvas\"),this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0;else{if(!(this._options.useGL instanceof createjs.StageGL))throw\"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got \"+this._options.useGL;this.target.cacheCanvas=!0,this._webGLCache=this._options.useGL,this._webGLCache.isCacheControlled=!0}var a=this.target.cacheCanvas,c=this._webGLCache;c.isCacheControlled&&(a.width=this._drawWidth,a.height=this._drawHeight,c.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(c.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),c.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):c.isCacheControlled||c.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)},b._drawToCache=function(a){var b=this.target.cacheCanvas,c=this.target,d=this._webGLCache;if(d)d.cacheDraw(c,c.filters,this),b=this.target.cacheCanvas,b.width=this._drawWidth,b.height=this._drawHeight;else{var e=b.getContext(\"2d\");a||e.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),e.save(),e.globalCompositeOperation=a,e.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),e.translate(-this.x,-this.y),c.draw(e,!0),e.restore(),c.filters&&c.filters.length&&this._applyFilters(e)}b._invalid=!0},b._applyFilters=function(a){var b,c=this.target.filters,d=this._drawWidth,e=this._drawHeight,f=0,g=c[f];do g.usesContext?(b&&(a.putImageData(b,0,0),b=null),g.applyFilter(a,0,0,d,e)):(b||(b=a.getImageData(0,0,d,e)),g._applyFilter(b)),g=null!==g._multiPass?g._multiPass:c[++f];while(g);b&&a.putImageData(b,0,0)},createjs.BitmapCache=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.Filter_constructor(),this._blurX=a,this._blurXTable=[],this._lastBlurX=null,this._blurY=b,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE=\"uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}\",(isNaN(c)||1>c)&&(c=1),this.setQuality(0|c)}var b=createjs.extend(a,createjs.Filter);b.getBlurX=function(){return this._blurX},b.getBlurY=function(){return this._blurY},b.setBlurX=function(a){(isNaN(a)||0>a)&&(a=0),this._blurX=a},b.setBlurY=function(a){(isNaN(a)||0>a)&&(a=0),this._blurY=a},b.getQuality=function(){return this._quality},b.setQuality=function(a){(isNaN(a)||0>a)&&(a=0),this._quality=0|a},b._getShader=function(){var a=this._lastBlurX!==this._blurX,b=this._lastBlurY!==this._blurY,c=this._lastQuality!==this._quality;return a||b||c?((a||c)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(b||c)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader},b._setShader=function(){this._compiledShader};try{Object.defineProperties(b,{blurX:{get:b.getBlurX,set:b.setBlurX},blurY:{get:b.getBlurY,set:b.setBlurY},quality:{get:b.getQuality,set:b.setQuality},_builtShader:{get:b._getShader,set:b._setShader}})}catch(c){console.log(c)}b._getTable=function(a){var b=4.2;if(1>=a)return[1];var c=[],d=Math.ceil(2*a);d+=d%2?0:1;for(var e=d/2|0,f=-e;e>=f;f++){var g=f/e*b;c.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-(Math.pow(g,2)/4)))}var h=c.reduce(function(a,b){return a+b});return c.map(function(a,b,c){return a/h})},b._updateShader=function(){if(void 0!==this._blurX&&void 0!==this._blurY){var a=this.FRAG_SHADER_TEMPLATE;a=a.replace(/\\{\\{blurX\\}\\}/g,this._blurXTable.length.toFixed(0)),a=a.replace(/\\{\\{blurY\\}\\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=a}},b.shaderParamSetup=function(a,b,c){a.uniform1fv(a.getUniformLocation(c,\"xWeight\"),this._blurXTable),a.uniform1fv(a.getUniformLocation(c,\"yWeight\"),this._blurYTable),a.uniform2f(a.getUniformLocation(c,\"textureOffset\"),2/(b._viewportWidth*this._quality),2/(b._viewportHeight*this._quality))},a.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],a.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],b.getBounds=function(a){var b=0|this.blurX,c=0|this.blurY;if(0>=b&&0>=c)return a;var d=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(c*d+1,b*d+1,c*d+1,b*d+1)},b.clone=function(){return new a(this.blurX,this.blurY,this.quality)},b.toString=function(){return\"[BlurFilter]\"},b._applyFilter=function(b){var c=this._blurX>>1;if(isNaN(c)||0>c)return!1;var d=this._blurY>>1;if(isNaN(d)||0>d)return!1;if(0==c&&0==d)return!1;var e=this.quality;(isNaN(e)||1>e)&&(e=1),e|=0,e>3&&(e=3),1>e&&(e=1);var f=b.data,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=c+c+1|0,w=d+d+1|0,x=0|b.width,y=0|b.height,z=x-1|0,A=y-1|0,B=c+1|0,C=d+1|0,D={r:0,b:0,g:0,a:0},E=D;for(i=1;v>i;i++)E=E.n={r:0,b:0,g:0,a:0};E.n=D;var F={r:0,b:0,g:0,a:0},G=F;for(i=1;w>i;i++)G=G.n={r:0,b:0,g:0,a:0};G.n=F;for(var H=null,I=0|a.MUL_TABLE[c],J=0|a.SHG_TABLE[c],K=0|a.MUL_TABLE[d],L=0|a.SHG_TABLE[d];e-->0;){m=l=0;var M=I,N=J;for(h=y;--h>-1;){for(n=B*(r=f[0|l]),o=B*(s=f[l+1|0]),p=B*(t=f[l+2|0]),q=B*(u=f[l+3|0]),E=D,i=B;--i>-1;)E.r=r,E.g=s,E.b=t,E.a=u,E=E.n;for(i=1;B>i;i++)j=l+((i>z?z:i)<<2)|0,n+=E.r=f[j],o+=E.g=f[j+1],p+=E.b=f[j+2],q+=E.a=f[j+3],E=E.n;for(H=D,g=0;x>g;g++)f[l++]=n*M>>>N,f[l++]=o*M>>>N,f[l++]=p*M>>>N,f[l++]=q*M>>>N,j=m+((j=g+c+1)<z?j:z)<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n;m+=x}for(M=K,N=L,g=0;x>g;g++){for(l=g<<2|0,n=C*(r=f[l])|0,o=C*(s=f[l+1|0])|0,p=C*(t=f[l+2|0])|0,q=C*(u=f[l+3|0])|0,G=F,i=0;C>i;i++)G.r=r,G.g=s,G.b=t,G.a=u,G=G.n;for(k=x,i=1;d>=i;i++)l=k+g<<2,n+=G.r=f[l],o+=G.g=f[l+1],p+=G.b=f[l+2],q+=G.a=f[l+3],G=G.n,A>i&&(k+=x);if(l=g,H=F,e>0)for(h=0;y>h;h++)j=l<<2,f[j+3]=u=q*M>>>N,u>0?(f[j]=n*M>>>N,f[j+1]=o*M>>>N,f[j+2]=p*M>>>N):f[j]=f[j+1]=f[j+2]=0,j=g+((j=h+C)<A?j:A)*x<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n,l+=x;else for(h=0;y>h;h++)j=l<<2,f[j+3]=u=q*M>>>N,u>0?(u=255/u,f[j]=(n*M>>>N)*u,f[j+1]=(o*M>>>N)*u,f[j+2]=(p*M>>>N)*u):f[j]=f[j+1]=f[j+2]=0,j=g+((j=h+C)<A?j:A)*x<<2,n-=H.r-(H.r=f[j]),o-=H.g-(H.g=f[j+1]),p-=H.b-(H.b=f[j+2]),q-=H.a-(H.a=f[j+3]),H=H.n,l+=x}}return!0},createjs.BlurFilter=createjs.promote(a,\"Filter\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.Filter_constructor(),this.alphaMap=a,this._alphaMap=null,this._mapData=null,this._mapTexture=null,this.FRAG_SHADER_BODY=\"uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));}\"}var b=createjs.extend(a,createjs.Filter);b.shaderParamSetup=function(a,b,c){this._mapTexture||(this._mapTexture=a.createTexture()),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this._mapTexture),b.setTextureParams(a),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.alphaMap),a.uniform1i(a.getUniformLocation(c,\"uAlphaSampler\"),1)},b.clone=function(){var b=new a(this.alphaMap);return b._alphaMap=this._alphaMap,b._mapData=this._mapData,b},b.toString=function(){return\"[AlphaMapFilter]\"},b._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var b=a.data,c=this._mapData,d=0,e=b.length;e>d;d+=4)b[d+3]=c[d]||0;return!0},b._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext(\"2d\"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"),c.width=b.width,c.height=b.height,a=c.getContext(\"2d\"),a.drawImage(b,0,0));try{var d=a.getImageData(0,0,b.width,b.height)}catch(e){return!1}return this._mapData=d.data,!0},createjs.AlphaMapFilter=createjs.promote(a,\"Filter\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.Filter_constructor(),this.mask=a,this.usesContext=!0,this.FRAG_SHADER_BODY=\"uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);}\"}var b=createjs.extend(a,createjs.Filter);b.shaderParamSetup=function(a,b,c){this._mapTexture||(this._mapTexture=a.createTexture()),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this._mapTexture),b.setTextureParams(a),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.mask),a.uniform1i(a.getUniformLocation(c,\"uAlphaSampler\"),1)},b.applyFilter=function(a,b,c,d,e,f,g,h){return this.mask?(f=f||a,null==g&&(g=b),null==h&&(h=c),f.save(),a!=f?!1:(f.globalCompositeOperation=\"destination-in\",f.drawImage(this.mask,g,h),f.restore(),!0)):!0},b.clone=function(){return new a(this.mask)},b.toString=function(){return\"[AlphaMaskFilter]\"},createjs.AlphaMaskFilter=createjs.promote(a,\"Filter\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d,e,f,g,h){this.Filter_constructor(),this.redMultiplier=null!=a?a:1,this.greenMultiplier=null!=b?b:1,this.blueMultiplier=null!=c?c:1,this.alphaMultiplier=null!=d?d:1,this.redOffset=e||0,this.greenOffset=f||0,this.blueOffset=g||0,this.alphaOffset=h||0,this.FRAG_SHADER_BODY=\"uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = (color * uColorMultiplier) + uColorOffset;}\"}var b=createjs.extend(a,createjs.Filter);b.shaderParamSetup=function(a,b,c){a.uniform4f(a.getUniformLocation(c,\"uColorMultiplier\"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),a.uniform4f(a.getUniformLocation(c,\"uColorOffset\"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},b.toString=function(){return\"[ColorFilter]\"},b.clone=function(){return new a(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},b._applyFilter=function(a){for(var b=a.data,c=b.length,d=0;c>d;d+=4)b[d]=b[d]*this.redMultiplier+this.redOffset,b[d+1]=b[d+1]*this.greenMultiplier+this.greenOffset,b[d+2]=b[d+2]*this.blueMultiplier+this.blueOffset,b[d+3]=b[d+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(a,\"Filter\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d){this.setColor(a,b,c,d)}var b=a.prototype;a.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],a.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],a.LENGTH=a.IDENTITY_MATRIX.length,b.setColor=function(a,b,c,d){return this.reset().adjustColor(a,b,c,d)},b.reset=function(){return this.copy(a.IDENTITY_MATRIX)},b.adjustColor=function(a,b,c,d){return this.adjustHue(d),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)},b.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),this)},b.adjustContrast=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);var c;return 0>b?c=127+b/100*127:(c=b%1,c=0==c?a.DELTA_INDEX[b]:a.DELTA_INDEX[b<<0]*(1-c)+a.DELTA_INDEX[(b<<0)+1]*c,c=127*c+127),this._multiplyMatrix([c/127,0,0,0,.5*(127-c),0,c/127,0,0,.5*(127-c),0,0,c/127,0,.5*(127-c),0,0,0,1,0,0,0,0,0,1]),this},b.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b=1+(a>0?3*a/100:a/100),c=.3086,d=.6094,e=.082;return this._multiplyMatrix([c*(1-b)+b,d*(1-b),e*(1-b),0,0,c*(1-b),d*(1-b)+b,e*(1-b),0,0,c*(1-b),d*(1-b),e*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this},b.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a),c=Math.sin(a),d=.213,e=.715,f=.072;return this._multiplyMatrix([d+b*(1-d)+c*-d,e+b*-e+c*-e,f+b*-f+c*(1-f),0,0,d+b*-d+.143*c,e+b*(1-e)+.14*c,f+b*-f+c*-.283,0,0,d+b*-d+c*-(1-d),e+b*-e+c*e,f+b*(1-f)+c*f,0,0,0,0,0,1,0,0,0,0,0,1]),this},b.concat=function(b){return b=this._fixMatrix(b),b.length!=a.LENGTH?this:(this._multiplyMatrix(b),this)},b.clone=function(){return(new a).copy(this)},b.toArray=function(){for(var b=[],c=0,d=a.LENGTH;d>c;c++)b[c]=this[c];return b},b.copy=function(b){for(var c=a.LENGTH,d=0;c>d;d++)this[d]=b[d];return this},b.toString=function(){return\"[ColorMatrix]\"},b._multiplyMatrix=function(a){var b,c,d,e=[];for(b=0;5>b;b++){for(c=0;5>c;c++)e[c]=this[c+5*b];for(c=0;5>c;c++){var f=0;for(d=0;5>d;d++)f+=a[c+5*d]*e[d];this[c+5*b]=f}}},b._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))},b._fixMatrix=function(b){return b instanceof a&&(b=b.toArray()),b.length<a.LENGTH?b=b.slice(0,b.length).concat(a.IDENTITY_MATRIX.slice(b.length,a.LENGTH)):b.length>a.LENGTH&&(b=b.slice(0,a.LENGTH)),b},createjs.ColorMatrix=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.Filter_constructor(),this.matrix=a,this.FRAG_SHADER_BODY=\"uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(0,0,0,0);newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];gl_FragColor = newColor + uColorMatrixOffset;}\"}var b=createjs.extend(a,createjs.Filter);b.shaderParamSetup=function(a,b,c){var d=this.matrix,e=new Float32Array([d[0],d[1],d[2],d[3],d[5],d[6],d[7],d[8],d[10],d[11],d[12],d[13],d[15],d[16],d[17],d[18]]);a.uniformMatrix4fv(a.getUniformLocation(c,\"uColorMatrix\"),!1,e),a.uniform4f(a.getUniformLocation(c,\"uColorMatrixOffset\"),d[4]/255,d[9]/255,d[14]/255,d[19]/255)},b.toString=function(){return\"[ColorMatrixFilter]\"},b.clone=function(){return new a(this.matrix)},b._applyFilter=function(a){for(var b,c,d,e,f=a.data,g=f.length,h=this.matrix,i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=h[5],o=h[6],p=h[7],q=h[8],r=h[9],s=h[10],t=h[11],u=h[12],v=h[13],w=h[14],x=h[15],y=h[16],z=h[17],A=h[18],B=h[19],C=0;g>C;C+=4)b=f[C],c=f[C+1],d=f[C+2],e=f[C+3],f[C]=b*i+c*j+d*k+e*l+m,f[C+1]=b*n+c*o+d*p+e*q+r,f[C+2]=b*s+c*t+d*u+e*v+w,f[C+3]=b*x+c*y+d*z+e*A+B;return!0},createjs.ColorMatrixFilter=createjs.promote(a,\"Filter\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"Touch cannot be instantiated\"}a.isSupported=function(){return!!(\"ontouchstart\"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},a.enable=function(b,c,d){return b&&b.canvas&&a.isSupported()?b.__touch?!0:(b.__touch={pointers:{},multitouch:!c,preventDefault:!d,count:0},\"ontouchstart\"in window?a._IOS_enable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_enable(b),!0):!1},a.disable=function(b){b&&(\"ontouchstart\"in window?a._IOS_disable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&a._IE_disable(b),delete b.__touch)},a._IOS_enable=function(b){var c=b.canvas,d=b.__touch.f=function(c){a._IOS_handleEvent(b,c)};c.addEventListener(\"touchstart\",d,!1),c.addEventListener(\"touchmove\",d,!1),c.addEventListener(\"touchend\",d,!1),c.addEventListener(\"touchcancel\",d,!1)},a._IOS_disable=function(a){var b=a.canvas;if(b){var c=a.__touch.f;b.removeEventListener(\"touchstart\",c,!1),b.removeEventListener(\"touchmove\",c,!1),b.removeEventListener(\"touchend\",c,!1),b.removeEventListener(\"touchcancel\",c,!1)}},a._IOS_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,d=b.type,e=0,f=c.length;f>e;e++){var g=c[e],h=g.identifier;g.target==a.canvas&&(\"touchstart\"==d?this._handleStart(a,h,b,g.pageX,g.pageY):\"touchmove\"==d?this._handleMove(a,h,b,g.pageX,g.pageY):(\"touchend\"==d||\"touchcancel\"==d)&&this._handleEnd(a,h,b))}}},a._IE_enable=function(b){var c=b.canvas,d=b.__touch.f=function(c){a._IE_handleEvent(b,c)};void 0===window.navigator.pointerEnabled?(c.addEventListener(\"MSPointerDown\",d,!1),window.addEventListener(\"MSPointerMove\",d,!1),window.addEventListener(\"MSPointerUp\",d,!1),window.addEventListener(\"MSPointerCancel\",d,!1),b.__touch.preventDefault&&(c.style.msTouchAction=\"none\")):(c.addEventListener(\"pointerdown\",d,!1),window.addEventListener(\"pointermove\",d,!1),window.addEventListener(\"pointerup\",d,!1),window.addEventListener(\"pointercancel\",d,!1),b.__touch.preventDefault&&(c.style.touchAction=\"none\")),b.__touch.activeIDs={}},a._IE_disable=function(a){var b=a.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener(\"MSPointerMove\",b,!1),window.removeEventListener(\"MSPointerUp\",b,!1),window.removeEventListener(\"MSPointerCancel\",b,!1),a.canvas&&a.canvas.removeEventListener(\"MSPointerDown\",b,!1)):(window.removeEventListener(\"pointermove\",b,!1),window.removeEventListener(\"pointerup\",b,!1),window.removeEventListener(\"pointercancel\",b,!1),a.canvas&&a.canvas.removeEventListener(\"pointerdown\",b,!1))},a._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();var c=b.type,d=b.pointerId,e=a.__touch.activeIDs;if(\"MSPointerDown\"==c||\"pointerdown\"==c){if(b.srcElement!=a.canvas)return;e[d]=!0,this._handleStart(a,d,b,b.pageX,b.pageY)}else e[d]&&(\"MSPointerMove\"==c||\"pointermove\"==c?this._handleMove(a,d,b,b.pageX,b.pageY):(\"MSPointerUp\"==c||\"MSPointerCancel\"==c||\"pointerup\"==c||\"pointercancel\"==c)&&(delete e[d],this._handleEnd(a,d,b)))}},a._handleStart=function(a,b,c,d,e){var f=a.__touch;if(f.multitouch||!f.count){var g=f.pointers;g[b]||(g[b]=!0,f.count++,a._handlePointerDown(b,c,d,e))}},a._handleMove=function(a,b,c,d,e){a.__touch.pointers[b]&&a._handlePointerMove(b,c,d,e)},a._handleEnd=function(a,b,c){var d=a.__touch,e=d.pointers;e[b]&&(d.count--,a._handlePointerUp(b,c,!0),delete e[b])},createjs.Touch=a}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=createjs.EaselJS=createjs.EaselJS||{};a.version=\"1.0.0\",a.buildDate=\"Thu, 12 Oct 2017 16:34:10 GMT\"}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version=\"1.0.0\",a.buildDate=\"Thu, 12 Oct 2017 16:34:05 GMT\"}(),this.createjs=this.createjs||{},function(){\"use strict\";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.Event_constructor(\"error\"),this.title=a,this.message=b,this.data=c}var b=createjs.extend(a,createjs.Event);b.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(a,\"Event\")}(),this.createjs=this.createjs||{},function(a){\"use strict\";function b(a,b){this.Event_constructor(\"progress\"),this.loaded=a,this.total=null==b?1:b,this.progress=0==b?0:this.loaded/this.total;\r\n}var c=createjs.extend(b,createjs.Event);c.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(b,\"Event\")}(window),function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if(\"bug-string-char-index\"==a)b=\"a\"!=\"a\"[0];else if(\"json\"==a)b=f(\"json-stringify\")&&f(\"json-parse\");else{var c,e='{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';if(\"json-stringify\"==a){var i=d.stringify,k=\"function\"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k=\"0\"===i(0)&&\"0\"===i(new g)&&'\"\"'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&\"1\"===i(c)&&\"[1]\"==i([c])&&\"[null]\"==i([q])&&\"null\"==i(null)&&\"[null,null,null]\"==i([q,s,null])&&i({a:[c,!0,!1,null,\"\\x00\\b\\n\\f\\r\t\"]})==e&&\"1\"===i(null,c)&&\"[\\n 1,\\n 2\\n]\"==i([1,2],null,1)&&'\"-271821-04-20T00:00:00.000Z\"'==i(new j(-864e13))&&'\"+275760-09-13T00:00:00.000Z\"'==i(new j(864e13))&&'\"-000001-01-01T00:00:00.000Z\"'==i(new j(-621987552e5))&&'\"1969-12-31T23:59:59.999Z\"'==i(new j(-1))}catch(l){k=!1}}b=k}if(\"json-parse\"==a){var m=d.parse;if(\"function\"==typeof m)try{if(0===m(\"0\")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('\"\t\"')}catch(l){}if(n)try{n=1!==m(\"01\")}catch(l){}if(n)try{n=1!==m(\"1.\")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;\"object\"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f(\"json\")){var v=\"[object Function]\",w=\"[object Date]\",x=\"[object Number]\",y=\"[object String]\",z=\"[object Array]\",A=\"[object Boolean]\",B=f(\"bug-string-char-index\");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&\"prototype\"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&\"prototype\"==c||!o.call(a,c)||(d=\"constructor\"===c)||b(c);(d||o.call(a,c=\"constructor\"))&&b(c)}:(e=[\"valueOf\",\"toString\",\"toLocaleString\",\"propertyIsEnumerable\",\"isPrototypeOf\",\"hasOwnProperty\",\"constructor\"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&\"function\"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&\"prototype\"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f(\"json-stringify\")){var F={92:\"\\\\\\\\\",34:'\\\\\"',8:\"\\\\b\",12:\"\\\\f\",10:\"\\\\n\",13:\"\\\\r\",9:\"\\\\t\"},G=\"000000\",H=function(a,b){return(G+(b||0)).slice(-a)},I=\"\\\\u00\",J=function(a){for(var b='\"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(\"\"):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'\"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if(\"object\"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,\"toJSON\"))\"function\"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,\"toJSON\"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?\"-\":\"+\")+H(6,0>j?-j:j):H(4,j))+\"-\"+H(2,k+1)+\"-\"+H(2,m)+\"T\"+H(2,r)+\":\"+H(2,t)+\":\"+H(2,u)+\".\"+H(3,v)+\"Z\"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return\"null\";if(i=s.call(h),i==A)return\"\"+h;if(i==x)return h>-1/0&&1/0>h?\"\"+h:\"null\";if(i==y)return J(\"\"+h);if(\"object\"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?\"null\":D);L=B.length?e?\"[\\n\"+f+B.join(\",\\n\"+f)+\"\\n\"+I+\"]\":\"[\"+B.join(\",\")+\"]\":\"[]\"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+\":\"+(e?\" \":\"\")+b)}),L=B.length?e?\"{\\n\"+f+B.join(\",\\n\"+f)+\"\\n\"+I+\"}\":\"{\"+B.join(\",\")+\"}\":\"{}\";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e=\"\",d>10&&(d=10);e.length<d;e+=\" \");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K(\"\",(i={},i[\"\"]=a,i),f,g,e,\"\",[])}}if(!f(\"json-parse\")){var L,M,N=h.fromCharCode,O={92:\"\\\\\",34:'\"',47:\"/\",98:\"\\b\",116:\"\t\",110:\"\\n\",102:\"\\f\",114:\"\\r\"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a=\"@\",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N(\"0x\"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),\"true\"==f.slice(L,L+4))return L+=4,!0;if(\"false\"==f.slice(L,L+5))return L+=5,!1;if(\"null\"==f.slice(L,L+4))return L+=4,null;P()}return\"$\"},R=function(a){var b,c;if(\"$\"==a&&P(),\"string\"==typeof a){if(\"@\"==(B?a.charAt(0):a[0]))return a.slice(1);if(\"[\"==a){for(b=[];a=Q(),\"]\"!=a;c||(c=!0))c&&(\",\"==a?(a=Q(),\"]\"==a&&P()):P()),\",\"==a&&P(),b.push(R(a));return b}if(\"{\"==a){for(b={};a=Q(),\"}\"!=a;c||(c=!0))c&&(\",\"==a?(a=Q(),\"}\"==a&&P()):P()),(\",\"==a||\"string\"!=typeof a||\"@\"!=(B?a.charAt(0):a[0])||\":\"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if(\"object\"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=\"\"+a,c=R(Q()),\"$\"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[\"\"]=c,d),\"\",b):c}}}return d.runInContext=a,d}var b=\"function\"==typeof define&&define.amd,c={\"function\":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&\"object\"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}.call(this),function(){var a={};a.a=function(){return a.el(\"a\")},a.svg=function(){return a.el(\"svg\")},a.object=function(){return a.el(\"object\")},a.image=function(){return a.el(\"image\")},a.img=function(){return a.el(\"img\")},a.style=function(){return a.el(\"style\")},a.link=function(){return a.el(\"link\")},a.script=function(){return a.el(\"script\")},a.audio=function(){return a.el(\"audio\")},a.video=function(){return a.el(\"video\")},a.text=function(a){return document.createTextNode(a)},a.el=function(a){return document.createElement(a)},createjs.Elements=a}(),function(){var a={};a.ABSOLUTE_PATT=/^(?:\\w+:)?\\/{2}/i,a.RELATIVE_PATT=/^[.\\/]*?\\//i,a.EXTENSION_PATT=/\\/?[^\\/]+\\.(\\w{1,5})$/i,a.parseURI=function(b){var c={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==b)return c;var d=createjs.Elements.a();d.href=b;for(var e in c)e in d&&(c[e]=d[e]);var f=b.indexOf(\"?\");f>-1&&(b=b.substr(0,f));var g;return a.ABSOLUTE_PATT.test(b)?c.absolute=!0:a.RELATIVE_PATT.test(b)&&(c.relative=!0),(g=b.match(a.EXTENSION_PATT))&&(c.extension=g[1].toLowerCase()),c},a.formatQueryString=function(a,b){if(null==a)throw new Error(\"You must specify data.\");var c=[];for(var d in a)c.push(d+\"=\"+escape(a[d]));return b&&(c=c.concat(b)),c.join(\"&\")},a.buildURI=function(a,b){if(null==b)return a;var c=[],d=a.indexOf(\"?\");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split(\"&\"))}return-1!=d?a.slice(0,d)+\"?\"+this.formatQueryString(b,c):a+\"?\"+this.formatQueryString(b,c)},a.isCrossDomain=function(a){var b=createjs.Elements.a();b.href=a.src;var c=createjs.Elements.a();c.href=location.href;var d=\"\"!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d},a.isLocal=function(a){var b=createjs.Elements.a();return b.href=a.src,\"\"==b.hostname&&\"file:\"==b.protocol},createjs.URLUtils=a}(),function(){var a={container:null};a.appendToHead=function(b){a.getHead().appendChild(b)},a.appendToBody=function(b){if(null==a.container){a.container=document.createElement(\"div\"),a.container.id=\"preloadjs-container\";var c=a.container.style;c.visibility=\"hidden\",c.position=\"absolute\",c.width=a.container.style.height=\"10px\",c.overflow=\"hidden\",c.transform=c.msTransform=c.webkitTransform=c.oTransform=\"translate(-10px, -10px)\",a.getBody().appendChild(a.container)}a.container.appendChild(b)},a.getHead=function(){return document.head||document.getElementsByTagName(\"head\")[0]},a.getBody=function(){return document.body||document.getElementsByTagName(\"body\")[0]},a.removeChild=function(a){a.parent&&a.parent.removeChild(a)},a.isImageTag=function(a){return a instanceof HTMLImageElement},a.isAudioTag=function(a){return window.HTMLAudioElement?a instanceof HTMLAudioElement:!1},a.isVideoTag=function(a){return window.HTMLVideoElement?a instanceof HTMLVideoElement:!1},createjs.DomUtils=a}(),function(){var a={};a.parseXML=function(a){var b=null;try{if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,\"text/xml\")}}catch(d){}if(!b)try{b=new ActiveXObject(\"Microsoft.XMLDOM\"),b.async=!1,b.loadXML(a)}catch(d){b=null}return b},a.parseJSON=function(a){if(null==a)return null;try{return JSON.parse(a)}catch(b){throw b}},createjs.DataUtils=a}(),this.createjs=this.createjs||{},function(){var a={};a.BINARY=\"binary\",a.CSS=\"css\",a.FONT=\"font\",a.FONTCSS=\"fontcss\",a.IMAGE=\"image\",a.JAVASCRIPT=\"javascript\",a.JSON=\"json\",a.JSONP=\"jsonp\",a.MANIFEST=\"manifest\",a.SOUND=\"sound\",a.VIDEO=\"video\",a.SPRITESHEET=\"spritesheet\",a.SVG=\"svg\",a.TEXT=\"text\",a.XML=\"xml\",createjs.Types=a}(),this.createjs=this.createjs||{},function(){var a={};a.POST=\"POST\",a.GET=\"GET\",createjs.Methods=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=c.LOAD_TIMEOUT_DEFAULT}var b=a.prototype={},c=a;c.LOAD_TIMEOUT_DEFAULT=8e3,c.create=function(b){if(\"string\"==typeof b){var d=new a;return d.src=b,d}if(b instanceof c)return b;if(b instanceof Object&&b.src)return null==b.loadTimeout&&(b.loadTimeout=c.LOAD_TIMEOUT_DEFAULT),b;throw new Error(\"Type not recognized.\")},b.set=function(a){for(var b in a)this[b]=a[b];return this},createjs.LoadItem=c}(),function(){var a={};a.isBinary=function(a){switch(a){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},a.isText=function(a){switch(a){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},a.getTypeByExtension=function(a){if(null==a)return createjs.Types.TEXT;switch(a.toLowerCase()){case\"jpeg\":case\"jpg\":case\"gif\":case\"png\":case\"webp\":case\"bmp\":return createjs.Types.IMAGE;case\"ogg\":case\"mp3\":case\"webm\":return createjs.Types.SOUND;case\"mp4\":case\"webm\":case\"ts\":return createjs.Types.VIDEO;case\"json\":return createjs.Types.JSON;case\"xml\":return createjs.Types.XML;case\"css\":return createjs.Types.CSS;case\"js\":return createjs.Types.JAVASCRIPT;case\"svg\":return createjs.Types.SVG;default:return createjs.Types.TEXT}},createjs.RequestUtils=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=c,this.resultFormatter=null,a?this._item=createjs.LoadItem.create(a):this._item=null,this._preferXHR=b,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var b=createjs.extend(a,createjs.EventDispatcher),c=a;try{Object.defineProperties(c,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},\"AbstractLoader.POST\")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},\"AbstractLoader.GET\")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},\"AbstractLoader.BINARY\")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},\"AbstractLoader.CSS\")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},\"AbstractLoader.FONT\")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},\"AbstractLoader.FONTCSS\")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},\"AbstractLoader.IMAGE\")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},\"AbstractLoader.JAVASCRIPT\")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},\"AbstractLoader.JSON\")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},\"AbstractLoader.JSONP\")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},\"AbstractLoader.MANIFEST\")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},\"AbstractLoader.SOUND\")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},\"AbstractLoader.VIDEO\")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},\"AbstractLoader.SPRITESHEET\")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},\"AbstractLoader.SVG\")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},\"AbstractLoader.TEXT\")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},\"AbstractLoader.XML\")}})}catch(d){}b.getItem=function(){return this._item},b.getResult=function(a){return a?this._rawResult:this._result},b.getTag=function(){return this._tag},b.setTag=function(a){this._tag=a},b.load=function(){this._createRequest(),this._request.on(\"complete\",this,this),this._request.on(\"progress\",this,this),this._request.on(\"loadStart\",this,this),this._request.on(\"abort\",this,this),this._request.on(\"timeout\",this,this),this._request.on(\"error\",this,this);var a=new createjs.Event(\"initialize\");a.loader=this._request,this.dispatchEvent(a),this._request.load()},b.cancel=function(){this.canceled=!0,this.destroy()},b.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},b.getLoadedItems=function(){return this._loadedItems},b._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._createTag=function(a){return null},b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent(\"loadstart\")},b._sendProgress=function(a){if(!this._isCanceled()){var b=null;\"number\"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener(\"progress\")&&this.dispatchEvent(b)}},b._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event(\"complete\");a.rawResult=this._rawResult,null!=this._result&&(a.result=this._result),this.dispatchEvent(a)}},b._sendError=function(a){!this._isCanceled()&&this.hasEventListener(\"error\")&&(null==a&&(a=new createjs.ErrorEvent(\"PRELOAD_ERROR_EMPTY\")),this.dispatchEvent(a))},b._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},b.resultFormatter=null,b.handleEvent=function(a){switch(a.type){case\"complete\":this._rawResult=a.target._response;var b=this.resultFormatter&&this.resultFormatter(this);b instanceof Function?b.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=b||this._rawResult,this._sendComplete());break;case\"progress\":this._sendProgress(a);break;case\"error\":this._sendError(a);break;case\"loadstart\":this._sendLoadStart();break;case\"abort\":case\"timeout\":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_\"+a.type.toUpperCase()+\"_ERROR\"))}},b._resultFormatSuccess=function(a){this._result=a,this._sendComplete()},b._resultFormatFailed=function(a){this._sendError(a)},b.toString=function(){return\"[PreloadJS AbstractLoader]\"},createjs.AbstractLoader=createjs.promote(a,\"EventDispatcher\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.AbstractLoader_constructor(a,b,c),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"src\",this.on(\"initialize\",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader);b.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload=\"auto\",this._tag.load(),this.AbstractLoader_load()},b._createTag=function(){},b._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType(\"blob\")},b._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener(\"canplaythrough\",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()},createjs.AbstractMediaLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=function(a){this._item=a},b=createjs.extend(a,createjs.EventDispatcher);b.load=function(){},b.destroy=function(){},b.cancel=function(){},createjs.AbstractRequest=createjs.promote(a,\"EventDispatcher\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var b=createjs.extend(a,createjs.AbstractRequest);b.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event(\"initialize\");a.loader=this._tag,this.dispatchEvent(a),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},b.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;(\"loaded\"==a.readyState||\"complete\"==a.readyState)&&this._handleTagComplete()},b._handleError=function(){this._clean(),this.dispatchEvent(\"error\")},b._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent(\"complete\")},b._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event(\"timeout\"))},b._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},b._handleStalled=function(){},createjs.TagRequest=createjs.promote(a,\"AbstractRequest\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var b=createjs.extend(a,createjs.TagRequest);b.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b,this._tag.addEventListener(\"stalled\",a),this._tag.addEventListener(\"progress\",b),this._tag.addEventListener&&this._tag.addEventListener(\"canplaythrough\",this._loadedHandler,!1),this.TagRequest_load()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;(\"loaded\"==a.readyState||\"complete\"==a.readyState)&&this._handleTagComplete()},b._handleStalled=function(){},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},b._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener(\"canplaythrough\",this._loadedHandler),this._tag.removeEventListener(\"stalled\",this._stalledCallback),this._tag.removeEventListener(\"progress\",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(a,\"TagRequest\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractRequest_constructor(a),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(a)}var b=createjs.extend(a,createjs.AbstractRequest);a.ACTIVEX_VERSIONS=[\"Msxml2.XMLHTTP.6.0\",\"Msxml2.XMLHTTP.5.0\",\"Msxml2.XMLHTTP.4.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},b.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},b.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener(\"loadstart\",this._handleLoadStartProxy,!1),this._request.addEventListener(\"progress\",this._handleProgressProxy,!1),this._request.addEventListener(\"abort\",this._handleAbortProxy,!1),this._request.addEventListener(\"error\",this._handleErrorProxy,!1),this._request.addEventListener(\"timeout\",this._handleTimeoutProxy,!1),this._request.addEventListener(\"load\",this._handleLoadProxy,!1),this._request.addEventListener(\"readystatechange\",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent(\"XHR_SEND\",null,a))}},b.setResponseType=function(a){\"blob\"===a&&(a=window.URL?\"blob\":\"arraybuffer\",this._responseType=a),this._request.responseType=a},b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},b._handleLoadStart=function(a){clearTimeout(this._loadTimeout),this.dispatchEvent(\"loadstart\")},b._handleAbort=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(\"XHR_ABORTED\",null,a))},b._handleError=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(a.message))},b._handleReadyStateChange=function(a){4==this._request.readyState&&this._handleLoad()},b._handleLoad=function(a){if(!this.loaded){this.loaded=!0;var b=this._checkError();if(b)return void this._handleError(b);if(this._response=this._getResponse(),\"arraybuffer\"===this._responseType)try{this._response=new Blob([this._response])}catch(c){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,\"TypeError\"===c.name&&window.BlobBuilder){var d=new BlobBuilder;d.append(this._response),this._response=d.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event(\"complete\"))}},b._handleTimeout=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_TIMEOUT\",null,a))},b._checkError=function(){var a=parseInt(this._request.status);return a>=400&&599>=a?new Error(a):0==a&&/^https?:/.test(location.protocol)?new Error(0):null},b._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},b._createXHR=function(a){var b=createjs.URLUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var g=s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(g);break}catch(h){}}if(null==d)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType=\"text/plain; charset=utf-8\"),a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),this._xhrLevel=\"string\"==typeof d.responseType?2:1;var i=null;if(i=a.method==createjs.Methods.GET?createjs.URLUtils.buildURI(a.src,a.values):a.src,d.open(a.method||createjs.Methods.GET,i,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&(c.Origin=location.origin),a.values&&a.method==createjs.Methods.POST&&(c[\"Content-Type\"]=\"application/x-www-form-urlencoded\"),b||c[\"X-Requested-With\"]||(c[\"X-Requested-With\"]=\"XMLHttpRequest\"),a.headers)for(var j in a.headers)c[j]=a.headers[j];for(j in c)d.setRequestHeader(j,c[j]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0},b._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener(\"loadstart\",this._handleLoadStartProxy),this._request.removeEventListener(\"progress\",this._handleProgressProxy),this._request.removeEventListener(\"abort\",this._handleAbortProxy),this._request.removeEventListener(\"error\",this._handleErrorProxy),this._request.removeEventListener(\"timeout\",this._handleTimeoutProxy),this._request.removeEventListener(\"load\",this._handleLoadProxy),this._request.removeEventListener(\"readystatechange\",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},b.toString=function(){return\"[PreloadJS XHRRequest]\"},createjs.XHRRequest=createjs.promote(a,\"AbstractRequest\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(a,b,c)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;try{Object.defineProperties(c,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},\"AbstractLoader.POST\")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},\"AbstractLoader.GET\")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},\"AbstractLoader.BINARY\")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},\"AbstractLoader.CSS\")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},\"AbstractLoader.FONT\")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},\"AbstractLoader.FONTCSS\")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},\"AbstractLoader.IMAGE\")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},\"AbstractLoader.JAVASCRIPT\")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},\"AbstractLoader.JSON\")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},\"AbstractLoader.JSONP\")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},\"AbstractLoader.MANIFEST\")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},\"AbstractLoader.SOUND\")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},\"AbstractLoader.VIDEO\")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},\"AbstractLoader.SPRITESHEET\")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},\"AbstractLoader.SVG\")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},\"AbstractLoader.TEXT\")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},\"AbstractLoader.XML\")}})}catch(d){}b.init=function(a,b,c){this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(a),this._paused=!1,this._basePath=b,this._crossOrigin=c,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},b.registerLoader=function(a){if(!a||!a.canLoadItem)throw new Error(\"loader is of an incorrect type.\");if(-1!=this._availableLoaders.indexOf(a))throw new Error(\"loader already exists.\");\r\nthis._availableLoaders.unshift(a)},b.unregisterLoader=function(a){var b=this._availableLoaders.indexOf(a);-1!=b&&b<this._defaultLoaderLength-1&&this._availableLoaders.splice(b,1)},b.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR},b.removeAll=function(){this.remove()},b.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(arguments.length>0)return;var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if(g=this._loadQueue[f].getItem(),g.id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if(g=this._loadQueueBackup[f].getItem(),g.id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(d));else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{this.close();for(var h in this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.preferXHR,this._basePath)}},b.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},b.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},b.loadFile=function(a,b,c){if(null==a){var d=new createjs.ErrorEvent(\"PRELOAD_NO_FILE\");return void this._sendError(d)}this._addItem(a,null,c),b!==!1?this.setPaused(!1):this.setPaused(!0)},b.loadManifest=function(a,b,d){var e=null,f=null;if(Array.isArray(a)){if(0==a.length){var g=new createjs.ErrorEvent(\"PRELOAD_MANIFEST_EMPTY\");return void this._sendError(g)}e=a}else if(\"string\"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if(\"object\"!=typeof a){var g=new createjs.ErrorEvent(\"PRELOAD_MANIFEST_NULL\");return void this._sendError(g)}if(void 0!==a.src){if(null==a.type)a.type=c.MANIFEST;else if(a.type!=c.MANIFEST){var g=new createjs.ErrorEvent(\"PRELOAD_MANIFEST_TYPE\");this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);b!==!1?this.setPaused(!1):this.setPaused(!0)},b.load=function(){this.setPaused(!1)},b.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},b.getItems=function(a){var b=[];for(var c in this._loadItemsById){var d=this._loadItemsById[c],e=this.getResult(c);(a!==!0||null!=e)&&b.push({item:d,result:e,rawResult:this.getResult(c,!0)})}return b},b.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},b._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){var e=this._createLoader(d);null!=e&&(\"plugins\"in e&&(e.plugins=this._plugins),d._loader=e,this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&d.type==createjs.Types.JAVASCRIPT||d.maintainOrder===!0)&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},b._createLoadItem=function(a,b,c){var d=createjs.LoadItem.create(a);if(null==d)return null;var e=\"\",f=c||this._basePath;if(d.src instanceof Object){if(!d.type)return null;if(b){e=b;var g=createjs.URLUtils.parseURI(b);null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f)}else{var h=createjs.URLUtils.parseURI(d.src);h.extension&&(d.ext=h.extension),null==d.type&&(d.type=createjs.RequestUtils.getTypeByExtension(d.ext));var i=d.src;if(!h.absolute&&!h.relative)if(b){e=b;var g=createjs.URLUtils.parseURI(b);i=b+i,null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f);d.src=e+d.src}d.path=e,(void 0===d.id||null===d.id||\"\"===d.id)&&(d.id=i);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d,this);if(k===!1)return null;k===!0||null!=k&&(d._loader=k),h=createjs.URLUtils.parseURI(d.src),null!=h.extension&&(d.ext=h.extension)}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,null==d.crossOrigin&&(d.crossOrigin=this._crossOrigin),d},b._createLoader=function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var d=this._availableLoaders[c];if(d&&d.canLoadItem(a))return new d(a,b)}return null},b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}},b._loadItem=function(a){a.on(\"fileload\",this._handleFileLoad,this),a.on(\"progress\",this._handleProgress,this),a.on(\"complete\",this._handleFileComplete,this),a.on(\"error\",this._handleError,this),a.on(\"fileerror\",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},b._handleFileLoad=function(a){a.target=null,this.dispatchEvent(a)},b._handleFileError=function(a){var b=new createjs.ErrorEvent(\"FILE_LOAD_ERROR\",null,a.item);this._sendError(b)},b._handleError=function(a){var b=a.target;this._numItemsLoaded++,this._finishOrderedItem(b,!0),this._updateProgress();var c=new createjs.ErrorEvent(\"FILE_LOAD_ERROR\",null,b.getItem());this._sendError(c),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(b),this._cleanLoadItem(b),this._loadNext())},b._handleFileComplete=function(a){var b=a.target,c=b.getItem(),d=b.getResult();this._loadedResults[c.id]=d;var e=b.getResult(!0);null!=e&&e!==d&&(this._loadedRawResults[c.id]=e),this._saveLoadedItems(b),this._removeLoadItem(b),this._finishOrderedItem(b)||this._processFinishedLoad(c,b),this._cleanLoadItem(b)},b._saveLoadedItems=function(a){var b=a.getLoadedItems();if(null!==b)for(var c=0;c<b.length;c++){var d=b[c].item;this._loadItemsBySrc[d.src]=d,this._loadItemsById[d.id]=d,this._loadedResults[d.id]=b[c].result,this._loadedRawResults[d.id]=b[c].rawResult}},b._finishOrderedItem=function(a,b){var c=a.getItem();if(this.maintainScriptOrder&&c.type==createjs.Types.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var d=createjs.indexOf(this._scriptOrder,c);return-1==d?!1:(this._loadedScripts[d]=b===!0?!0:c,this._checkScriptLoadOrder(),!0)}return!1},b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(c!==!0){var d=this._loadedResults[c.id];c.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(d);var e=c._loader;this._processFinishedLoad(c,e),this._loadedScripts[b]=!0}}},b._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.Types.JAVASCRIPT){var c=b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},b._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;var b=a.getItem();if(b.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var c=this._scriptOrder.indexOf(b),d=0;c>d;){var e=this._loadedScripts[d];if(null==e)return!1;d++}return this._currentlyLoadingScript=!0,!0},b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},b._cleanLoadItem=function(a){var b=a.getItem();b&&delete b._loader},b._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},b._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)},b._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},b._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener(\"fileprogress\")){var c=new createjs.Event(\"fileprogress\");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},b._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event(\"fileload\");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener(\"fileload\")&&this.dispatchEvent(c)}},b._sendFileStart=function(a){var b=new createjs.Event(\"filestart\");b.item=a,this.hasEventListener(\"filestart\")&&this.dispatchEvent(b)},b.toString=function(){return\"[PreloadJS LoadQueue]\"},createjs.LoadQueue=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractLoader_constructor(a,!0,createjs.Types.TEXT)}var b=(createjs.extend(a,createjs.AbstractLoader),a);b.canLoadItem=function(a){return a.type==createjs.Types.TEXT},createjs.TextLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractLoader_constructor(a,!0,createjs.Types.BINARY),this.on(\"initialize\",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.BINARY},b._updateXHR=function(a){a.loader.setResponseType(\"arraybuffer\")},createjs.BinaryLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"href\",b?this._tag=createjs.Elements.style():this._tag=createjs.Elements.link(),this._tag.rel=\"stylesheet\",this._tag.type=\"text/css\"}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.CSS},b._formatResult=function(a){if(this._preferXHR){var b=a.getTag();if(b.styleSheet)b.styleSheet.cssText=a.getResult(!0);else{var c=createjs.Elements.text(a.getResult(!0));b.appendChild(c)}}else b=this._tag;return createjs.DomUtils.appendToHead(b),b},createjs.CSSLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,a.type),this._faces={},this._watched=[],this._count=0,this._watchInterval=null,this._loadTimeout=null,this._injectCSS=void 0===a.injectCSS?!0:a.injectCSS,this.dispatchEvent(\"initialize\")}var b=createjs.extend(a,createjs.AbstractLoader);a.canLoadItem=function(a){return a.type==createjs.Types.FONT||a.type==createjs.Types.FONTCSS},a.sampleText=\"abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ\",a._ctx=document.createElement(\"canvas\").getContext(\"2d\"),a._referenceFonts=[\"serif\",\"monospace\"],a.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/gi,a.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/gi,a.FONT_FORMAT={woff2:\"woff2\",woff:\"woff\",ttf:\"truetype\",otf:\"truetype\"},a.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:\"normal\",regular:\"normal\",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900},a.WATCH_DURATION=10,b.load=function(){if(this.type==createjs.Types.FONTCSS){var a=this._watchCSS();if(!a)return void this.AbstractLoader_load()}else if(this._item.src instanceof Array)this._watchFontArray();else{var b=this._defFromSrc(this._item.src);this._watchFont(b),this._injectStyleTag(this._cssFromDef(b))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this.dispatchEvent(\"loadstart\")},b._handleTimeout=function(){this._stopWatching(),this.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_TIMEOUT\"))},b._createRequest=function(){return this._request},b.handleEvent=function(a){switch(a.type){case\"complete\":this._rawResult=a.target._response,this._result=!0,this._parseCSS(this._rawResult);break;case\"error\":this._stopWatching(),this.AbstractLoader_handleEvent(a)}},b._watchCSS=function(){var a=this._item.src;return a instanceof HTMLStyleElement&&(this._injectCSS&&!a.parentNode&&(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(a),this._injectCSS=!1,a=\"\\n\"+a.textContent),-1!==a.search(/\\n|\\r|@font-face/i)?(this._parseCSS(a),!0):(this._request=new createjs.XHRRequest(this._item),!1)},b._parseCSS=function(a){for(var b=/@font-face\\s*\\{([^}]+)}/g;;){var c=b.exec(a);if(!c)break;this._watchFont(this._parseFontFace(c[1]))}this._injectStyleTag(a)},b._watchFontArray=function(){for(var a,b=this._item.src,c=\"\",d=b.length-1;d>=0;d--){var e=b[d];a=\"string\"==typeof e?this._defFromSrc(e):this._defFromObj(e),this._watchFont(a),c+=this._cssFromDef(a)+\"\\n\"}this._injectStyleTag(c)},b._injectStyleTag=function(a){if(this._injectCSS){var b=document.head||document.getElementsByTagName(\"head\")[0],c=document.createElement(\"style\");c.type=\"text/css\",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c)}},b._parseFontFace=function(a){var b=this._getCSSValue(a,\"font-family\"),c=this._getCSSValue(a,\"src\");return b&&c?this._defFromObj({family:b,src:c,style:this._getCSSValue(a,\"font-style\"),weight:this._getCSSValue(a,\"font-weight\")}):null},b._watchFont=function(a){a&&!this._faces[a.id]&&(this._faces[a.id]=a,this._watched.push(a),this._count++,this._calculateReferenceSizes(a),this._startWatching())},b._startWatching=function(){null==this._watchInterval&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),a.WATCH_DURATION))},b._stopWatching=function(){clearInterval(this._watchInterval),clearTimeout(this._loadTimeout),this._watchInterval=null},b._watch=function(){for(var b=this._watched,c=a._referenceFonts,d=b.length,e=d-1;e>=0;e--)for(var f=b[e],g=f.refs,h=g.length-1;h>=0;h--){var i=this._getTextWidth(f.family+\",\"+c[h],f.weight,f.style);if(i!=g[h]){var j=new createjs.Event(\"fileload\");f.type=\"font-family\",j.item=f,this.dispatchEvent(j),b.splice(e,1);break}}if(d!==b.length){var j=new createjs.ProgressEvent(this._count-b.length,this._count);this.dispatchEvent(j)}0===d&&(this._stopWatching(),this._sendComplete())},b._calculateReferenceSizes=function(b){for(var c=a._referenceFonts,d=b.refs=[],e=0;e<c.length;e++)d[e]=this._getTextWidth(c[e],b.weight,b.style)},b._defFromSrc=function(b){var c,d=/[- ._]+/g,e=b,f=null;c=e.search(/[?#]/),-1!==c&&(e=e.substr(0,c)),c=e.lastIndexOf(\".\"),-1!==c&&(f=e.substr(c+1),e=e.substr(0,c)),c=e.lastIndexOf(\"/\"),-1!==c&&(e=e.substr(c+1));var g=e,h=g.match(a.WEIGHT_REGEX);h&&(h=h[0],g=g.replace(h,\"\"),h=h.replace(d,\"\").toLowerCase());var i=e.match(a.STYLE_REGEX);i&&(g=g.replace(i[0],\"\"),i=\"italic\"),g=g.replace(d,\"\");var j=\"local('\"+e.replace(d,\" \")+\"'), url('\"+b+\"')\",k=a.FONT_FORMAT[f];return k&&(j+=\" format('\"+k+\"')\"),this._defFromObj({family:g,weight:a.FONT_WEIGHT[h]||h,style:i,src:j})},b._defFromObj=function(a){var b={family:a.family,src:a.src,style:a.style||\"normal\",weight:a.weight||\"normal\"};return b.id=b.family+\";\"+b.style+\";\"+b.weight,b},b._cssFromDef=function(a){return\"@font-face {\\n\tfont-family: '\"+a.family+\"';\\n\tfont-style: \"+a.style+\";\\n\tfont-weight: \"+a.weight+\";\\n\tsrc: \"+a.src+\";\\n}\"},b._getTextWidth=function(b,c,d){var e=a._ctx;return e.font=d+\" \"+c+\" 72px \"+b,e.measureText(a.sampleText).width},b._getCSSValue=function(a,b){var c=new RegExp(b+\":s*([^;}]+?)s*[;}]\"),d=c.exec(a);return d&&d[1]?d[1]:null},createjs.FontLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"src\",createjs.DomUtils.isImageTag(a)?this._tag=a:createjs.DomUtils.isImageTag(a.src)?this._tag=a.src:createjs.DomUtils.isImageTag(a.tag)&&(this._tag=a.tag),null!=this._tag?this._preferXHR=!1:this._tag=createjs.Elements.img(),this.on(\"initialize\",this._updateXHR,this)}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.IMAGE},b.load=function(){if(\"\"!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a=\"Anonymous\"),null==a||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=a),this.AbstractLoader_load()},b._updateXHR=function(a){a.loader.mimeType=\"text/plain; charset=x-user-defined-binary\",a.loader.setResponseType&&a.loader.setResponseType(\"blob\")},b._formatResult=function(a){return this._formatImage},b._formatImage=function(a,b){var c=this._tag,d=window.URL||window.webkitURL;if(this._preferXHR)if(d){var e=d.createObjectURL(this.getResult(!0));c.src=e,c.addEventListener(\"load\",this._cleanUpURL,!1),c.addEventListener(\"error\",this._cleanUpURL,!1)}else c.src=this._item.src;else;c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag),c.onload=c.onerror=null},this),c.onerror=createjs.proxy(function(a){b(new createjs.ErrorEvent(\"IMAGE_FORMAT\",null,a)),c.onload=c.onerror=null},this))},b._cleanUpURL=function(a){var b=window.URL||window.webkitURL;b.revokeObjectURL(a.target.src)},createjs.ImageLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"src\",this.setTag(createjs.Elements.script())}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.JAVASCRIPT},b._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b},createjs.JavaScriptLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractLoader_constructor(a,!0,createjs.Types.JSON),this.resultFormatter=this._formatResult}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.JSON},b._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){var d=new createjs.ErrorEvent(\"JSON_FORMAT\",null,c);return this._sendError(d),c}return b},createjs.JSONLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractLoader_constructor(a,!1,createjs.Types.JSONP),this.setTag(createjs.Elements.script()),this.getTag().type=\"text/javascript\"}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.JSONP},b.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},b.load=function(){if(null==this._item.callback)throw new Error(\"callback is required for loading JSONP requests.\");if(null!=window[this._item.callback])throw new Error(\"JSONP callback '\"+this._item.callback+\"' already exists on window. You need to specify a different callback or re-name the current one.\");window[this._item.callback]=createjs.proxy(this._handleLoad,this),createjs.DomUtils.appendToBody(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},b._handleLoad=function(a){this._result=this._rawResult=a,this._sendComplete(),this._dispose()},b._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent(\"timeout\"))},b._dispose=function(){createjs.DomUtils.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.MANIFEST),this.plugins=null,this._manifestQueue=null}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.MANIFEST_PROGRESS=.25,c.canLoadItem=function(a){return a.type==createjs.Types.MANIFEST},b.load=function(){this.AbstractLoader_load()},b._createRequest=function(){var a=this._item.callback;null!=a?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},b.handleEvent=function(a){switch(a.type){case\"complete\":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.MANIFEST_PROGRESS),void this._loadManifest(this._result);case\"progress\":return a.loaded*=c.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},b.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},b._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);b.on(\"fileload\",this._handleManifestFileLoad,this),b.on(\"progress\",this._handleManifestProgress,this),b.on(\"complete\",this._handleManifestComplete,this,!0),b.on(\"error\",this._handleManifestError,this,!0);for(var c=0,d=this.plugins.length;d>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()},b._handleManifestFileLoad=function(a){a.target=null,this.dispatchEvent(a)},b._handleManifestComplete=function(a){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.MANIFEST_PROGRESS)+c.MANIFEST_PROGRESS,this._sendProgress(this.progress)},b._handleManifestError=function(a){var b=new createjs.Event(\"fileerror\");b.item=a.data,this.dispatchEvent(b)},createjs.ManifestLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(a)?this._tag=a:createjs.DomUtils.isAudioTag(a.src)?this._tag=a:createjs.DomUtils.isAudioTag(a.tag)&&(this._tag=createjs.DomUtils.isAudioTag(a)?a:a.src),null!=this._tag&&(this._preferXHR=!1)}var b=createjs.extend(a,createjs.AbstractMediaLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.SOUND},b._createTag=function(a){var b=createjs.Elements.audio();return b.autoplay=!1,b.preload=\"none\",b.src=a,b},createjs.SoundLoader=createjs.promote(a,\"AbstractMediaLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.Types.VIDEO),createjs.DomUtils.isVideoTag(a)||createjs.DomUtils.isVideoTag(a.src)?(this.setTag(createjs.DomUtils.isVideoTag(a)?a:a.src),this._preferXHR=!1):this.setTag(this._createTag())}var b=createjs.extend(a,createjs.AbstractMediaLoader),c=a;b._createTag=function(){return createjs.Elements.video()},c.canLoadItem=function(a){return a.type==createjs.Types.VIDEO},createjs.VideoLoader=createjs.promote(a,\"AbstractMediaLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.SPRITESHEET),this._manifestQueue=null}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.SPRITESHEET_PROGRESS=.25,c.canLoadItem=function(a){return a.type==createjs.Types.SPRITESHEET},b.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},b._createRequest=function(){var a=this._item.callback;null!=a?this._request=new createjs.JSONPLoader(this._item):this._request=new createjs.JSONLoader(this._item)},b.handleEvent=function(a){switch(a.type){case\"complete\":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(c.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case\"progress\":return a.loaded*=c.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},b._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);b.on(\"complete\",this._handleManifestComplete,this,!0),b.on(\"fileload\",this._handleManifestFileLoad,this),b.on(\"progress\",this._handleManifestProgress,this),b.on(\"error\",this._handleManifestError,this,!0),b.loadManifest(a.images)}},b._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images,d=c.indexOf(a.item.src);c[d]=b}},b._handleManifestComplete=function(a){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},b._handleManifestProgress=function(a){this.progress=a.progress*(1-c.SPRITESHEET_PROGRESS)+c.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},b._handleManifestError=function(a){var b=new createjs.Event(\"fileerror\");b.item=a.data,this.dispatchEvent(b)},createjs.SpriteSheetLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute=\"data\",b?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type=\"image/svg+xml\")}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.SVG},b._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0)),c=a.getTag();if(!this._preferXHR&&document.body.contains(c)&&document.body.removeChild(c),null!=b.documentElement){var d=b.documentElement;return document.importNode&&(d=document.importNode(d,!0)),c.appendChild(d),c}return b},createjs.SVGLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractLoader_constructor(a,!0,createjs.Types.XML),this.resultFormatter=this._formatResult}var b=createjs.extend(a,createjs.AbstractLoader),c=a;c.canLoadItem=function(a){return a.type==createjs.Types.XML},b._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0))},createjs.XMLLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){var a=createjs.SoundJS=createjs.SoundJS||{};a.version=\"1.0.0\",a.buildDate=\"Thu, 12 Oct 2017 16:34:05 GMT\"}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"BrowserDetect cannot be instantiated\"}var b=a.agent=window.navigator.userAgent;a.isWindowPhone=b.indexOf(\"IEMobile\")>-1||b.indexOf(\"Windows Phone\")>-1,a.isFirefox=b.indexOf(\"Firefox\")>-1,a.isOpera=null!=window.opera,a.isChrome=b.indexOf(\"Chrome\")>-1,a.isIOS=(b.indexOf(\"iPod\")>-1||b.indexOf(\"iPhone\")>-1||b.indexOf(\"iPad\")>-1)&&!a.isWindowPhone,a.isAndroid=b.indexOf(\"Android\")>-1&&!a.isWindowPhone,a.isBlackberry=b.indexOf(\"Blackberry\")>-1,createjs.BrowserDetect=a}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},b=a.prototype={},c=a;c.create=function(a){if(\"string\"==typeof a)return console&&(console.warn||console.log)(\"Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info.\"),(new createjs.PlayPropsConfig).set({interrupt:a});if(null==a||a instanceof c||a instanceof Object)return(new createjs.PlayPropsConfig).set(a);if(null==a)throw new Error(\"PlayProps configuration not recognized.\")},b.set=function(a){if(null!=a)for(var b in a)this[b]=a[b];return this},b.toString=function(){return\"[PlayPropsConfig]\"},createjs.PlayPropsConfig=c}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"Sound cannot be instantiated\"}function b(a,b){this.init(a,b)}var c=a;c.INTERRUPT_ANY=\"any\",c.INTERRUPT_EARLY=\"early\",c.INTERRUPT_LATE=\"late\",c.INTERRUPT_NONE=\"none\",c.PLAY_INITED=\"playInited\",c.PLAY_SUCCEEDED=\"playSucceeded\",c.PLAY_INTERRUPTED=\"playInterrupted\",c.PLAY_FINISHED=\"playFinished\",c.PLAY_FAILED=\"playFailed\",c.SUPPORTED_EXTENSIONS=[\"mp3\",\"ogg\",\"opus\",\"mpeg\",\"wav\",\"m4a\",\"mp4\",\"aiff\",\"wma\",\"mid\"],c.EXTENSION_MAP={m4a:\"mp4\"},c.FILE_PATTERN=/^(?:(\\w+:)\\/{2}(\\w+(?:\\.\\w+)*\\/?))?([\\/.]*?(?:[^?]+)?\\/)?((?:[^\\/?]+)\\.(\\w+))(?:\\?(\\S+)?)?$/,c.defaultInterruptBehavior=c.INTERRUPT_NONE,c.alternateExtensions=[],c.activePlugin=null,c._masterVolume=1,c._getMasterVolume=function(){return this._masterVolume},c.getVolume=createjs.deprecate(c._getMasterVolume,\"Sound.getVolume\"),c._setMasterVolume=function(a){if(null!=Number(a)&&(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a)))for(var b=this._instances,d=0,e=b.length;e>d;d++)b[d].setMasterVolume(a)},c.setVolume=createjs.deprecate(c._setMasterVolume,\"Sound.setVolume\"),c._masterMute=!1,c._getMute=function(){return this._masterMute},c.getMute=createjs.deprecate(c._getMute,\"Sound.getMute\"),c._setMute=function(a){if(null!=a&&(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a)))for(var b=this._instances,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a)},c.setMute=createjs.deprecate(c._setMute,\"Sound.setMute\"),c._getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin._capabilities},c.getCapabilities=createjs.deprecate(c._getCapabilities,\"Sound.getCapabilities\"),Object.defineProperties(c,{volume:{get:c._getMasterVolume,set:c._setMasterVolume},muted:{get:c._getMute,set:c._setMute},capabilities:{get:c._getCapabilities}}),c._pluginsRegistered=!1,c._lastID=0,c._instances=[],c._idHash={},c._preloadHash={},c._defaultPlayPropsHash={},c.addEventListener=null,c.removeEventListener=null,c.removeAllEventListeners=null,c.dispatchEvent=null,c.hasEventListener=null,c._listeners=null,createjs.EventDispatcher.initialize(c),c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:[\"sound\"],extensions:c.SUPPORTED_EXTENSIONS}},c._handleLoadComplete=function(a){var b=a.target.getItem().src;if(c._preloadHash[b])for(var d=0,e=c._preloadHash[b].length;e>d;d++){var f=c._preloadHash[b][d];if(c._preloadHash[b][d]=!0,c.hasEventListener(\"fileload\")){var a=new createjs.Event(\"fileload\");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,c.dispatchEvent(a)}}},c._handleLoadError=function(a){var b=a.target.getItem().src;if(c._preloadHash[b])for(var d=0,e=c._preloadHash[b].length;e>d;d++){var f=c._preloadHash[b][d];if(c._preloadHash[b][d]=!1,c.hasEventListener(\"fileerror\")){var a=new createjs.Event(\"fileerror\");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,c.dispatchEvent(a)}}},c._registerPlugin=function(a){return a.isSupported()?(c.activePlugin=new a,!0):!1},c.registerPlugins=function(a){c._pluginsRegistered=!0;for(var b=0,d=a.length;d>b;b++)if(c._registerPlugin(a[b]))return!0;return!1},c.initializeDefaultPlugins=function(){return null!=c.activePlugin?!0:c._pluginsRegistered?!1:c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},c.isReady=function(){return null!=c.activePlugin},c.initLoad=function(a){return\"video\"==a.type?!0:c._registerSound(a)},c._registerSound=function(a){if(!c.initializeDefaultPlugins())return!1;var d;if(a.src instanceof Object?(d=c._parseSrc(a.src),\r\nd.src=a.path+d.src):d=c._parsePath(a.src),null==d)return!1;a.src=d.src,a.type=\"sound\";var e=a.data,f=null;if(null!=e&&(isNaN(e.channels)?isNaN(e)||(f=parseInt(e)):f=parseInt(e.channels),e.audioSprite))for(var g,h=e.audioSprite.length;h--;)g=e.audioSprite[h],c._idHash[g.id]={src:a.src,startTime:parseInt(g.startTime),duration:parseInt(g.duration)},g.defaultPlayProps&&(c._defaultPlayPropsHash[g.id]=createjs.PlayPropsConfig.create(g.defaultPlayProps));null!=a.id&&(c._idHash[a.id]={src:a.src});var i=c.activePlugin.register(a);return b.create(a.src,f),null!=e&&isNaN(e)?a.data.channels=f||b.maxPerChannel():a.data=f||b.maxPerChannel(),i.type&&(a.type=i.type),a.defaultPlayProps&&(c._defaultPlayPropsHash[a.src]=createjs.PlayPropsConfig.create(a.defaultPlayProps)),i},c.registerSound=function(a,b,d,e,f){var g={src:a,id:b,data:d,defaultPlayProps:f};a instanceof Object&&a.src&&(e=b,g=a),g=createjs.LoadItem.create(g),g.path=e,null==e||g.src instanceof Object||(g.src=e+g.src);var h=c._registerSound(g);if(!h)return!1;if(c._preloadHash[g.src]||(c._preloadHash[g.src]=[]),c._preloadHash[g.src].push(g),1==c._preloadHash[g.src].length)h.on(\"complete\",this._handleLoadComplete,this),h.on(\"error\",this._handleLoadError,this),c.activePlugin.preload(h);else if(1==c._preloadHash[g.src][0])return!0;return g},c.registerSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=createjs.Sound.registerSound(a[d].src,a[d].id,a[d].data,b,a[d].defaultPlayProps);return c},c.removeSound=function(a,d){if(null==c.activePlugin)return!1;a instanceof Object&&a.src&&(a=a.src);var e;if(a instanceof Object?e=c._parseSrc(a):(a=c._getSrcById(a).src,e=c._parsePath(a)),null==e)return!1;a=e.src,null!=d&&(a=d+a);for(var f in c._idHash)c._idHash[f].src==a&&delete c._idHash[f];return b.removeSrc(a),delete c._preloadHash[a],c.activePlugin.removeSound(a),!0},c.removeSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=createjs.Sound.removeSound(a[d].src,b);return c},c.removeAllSounds=function(){c._idHash={},c._preloadHash={},b.removeAll(),c.activePlugin&&c.activePlugin.removeAllSounds()},c.loadComplete=function(a){if(!c.isReady())return!1;var b=c._parsePath(a);return a=b?c._getSrcById(b.src).src:c._getSrcById(a).src,void 0==c._preloadHash[a]?!1:1==c._preloadHash[a][0]},c._parsePath=function(a){\"string\"!=typeof a&&(a=a.toString());var b=a.match(c.FILE_PATTERN);if(null==b)return!1;for(var d=b[4],e=b[5],f=c.capabilities,g=0;!f[e];)if(e=c.alternateExtensions[g++],g>c.alternateExtensions.length)return null;a=a.replace(\".\"+b[5],\".\"+e);var h={name:d,src:a,extension:e};return h},c._parseSrc=function(a){var b={name:void 0,src:void 0,extension:void 0},d=c.capabilities;for(var e in a)if(a.hasOwnProperty(e)&&d[e]){b.src=a[e],b.extension=e;break}if(!b.src)return!1;var f=b.src.lastIndexOf(\"/\");return-1!=f?b.name=b.src.slice(f+1):b.name=b.src,b},c.play=function(a,b){var d=createjs.PlayPropsConfig.create(b),e=c.createInstance(a,d.startTime,d.duration),f=c._playInstance(e,d);return f||e._playFailed(),e},c.createInstance=function(a,d,e){if(!c.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(a,d,e);var f=c._defaultPlayPropsHash[a];a=c._getSrcById(a);var g=c._parsePath(a.src),h=null;return null!=g&&null!=g.src?(b.create(g.src),null==d&&(d=a.startTime),h=c.activePlugin.create(g.src,d,e||a.duration),f=f||c._defaultPlayPropsHash[g.src],f&&h.applyPlayProps(f)):h=new createjs.DefaultSoundInstance(a,d,e),h.uniqueId=c._lastID++,h},c.stop=function(){for(var a=this._instances,b=a.length;b--;)a[b].stop()},c.setDefaultPlayProps=function(a,b){a=c._getSrcById(a),c._defaultPlayPropsHash[c._parsePath(a.src).src]=createjs.PlayPropsConfig.create(b)},c.getDefaultPlayProps=function(a){return a=c._getSrcById(a),c._defaultPlayPropsHash[c._parsePath(a.src).src]},c._playInstance=function(a,b){var d=c._defaultPlayPropsHash[a.src]||{};if(null==b.interrupt&&(b.interrupt=d.interrupt||c.defaultInterruptBehavior),null==b.delay&&(b.delay=d.delay||0),null==b.offset&&(b.offset=a.position),null==b.loop&&(b.loop=a.loop),null==b.volume&&(b.volume=a.volume),null==b.pan&&(b.pan=a.pan),0==b.delay){var e=c._beginPlaying(a,b);if(!e)return!1}else{var f=setTimeout(function(){c._beginPlaying(a,b)},b.delay);a.delayTimeoutId=f}return this._instances.push(a),!0},c._beginPlaying=function(a,c){if(!b.add(a,c.interrupt))return!1;var d=a._beginPlaying(c);if(!d){var e=createjs.indexOf(this._instances,a);return e>-1&&this._instances.splice(e,1),!1}return!0},c._getSrcById=function(a){return c._idHash[a]||{src:a}},c._playFinished=function(a){b.remove(a);var c=createjs.indexOf(this._instances,a);c>-1&&this._instances.splice(c,1)},createjs.Sound=a,b.channels={},b.create=function(a,c){var d=b.get(a);return null==d?(b.channels[a]=new b(a,c),!0):!1},b.removeSrc=function(a){var c=b.get(a);return null==c?!1:(c._removeAll(),delete b.channels[a],!0)},b.removeAll=function(){for(var a in b.channels)b.channels[a]._removeAll();b.channels={}},b.add=function(a,c){var d=b.get(a.src);return null==d?!1:d._add(a,c)},b.remove=function(a){var c=b.get(a.src);return null==c?!1:(c._remove(a),!0)},b.maxPerChannel=function(){return d.maxDefault},b.get=function(a){return b.channels[a]};var d=b.prototype;d.constructor=b,d.src=null,d.max=null,d.maxDefault=100,d.length=0,d.init=function(a,b){this.src=a,this.max=b||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},d._get=function(a){return this._instances[a]},d._add=function(a,b){return this._getSlot(b,a)?(this._instances.push(a),this.length++,!0):!1},d._remove=function(a){var b=createjs.indexOf(this._instances,a);return-1==b?!1:(this._instances.splice(b,1),this.length--,!0)},d._removeAll=function(){for(var a=this.length-1;a>=0;a--)this._instances[a].stop()},d._getSlot=function(b,c){var d,e;if(b!=a.INTERRUPT_NONE&&(e=this._get(0),null==e))return!0;for(var f=0,g=this.max;g>f;f++){if(d=this._get(f),null==d)return!0;if(d.playState==a.PLAY_FINISHED||d.playState==a.PLAY_INTERRUPTED||d.playState==a.PLAY_FAILED){e=d;break}b!=a.INTERRUPT_NONE&&(b==a.INTERRUPT_EARLY&&d.position<e.position||b==a.INTERRUPT_LATE&&d.position>e.position)&&(e=d)}return null!=e?(e._interrupt(),this._remove(e),!0):!1},d.toString=function(){return\"[Sound SoundChannel]\"}}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=function(a,b,c,d){this.EventDispatcher_constructor(),this.src=a,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,\"volume\",{get:this._getVolume,set:this._setVolume}),this.getVolume=createjs.deprecate(this._getVolume,\"AbstractSoundInstance.getVolume\"),this.setVolume=createjs.deprecate(this._setVolume,\"AbstractSoundInstance.setVolume\"),this._pan=0,Object.defineProperty(this,\"pan\",{get:this._getPan,set:this._setPan}),this.getPan=createjs.deprecate(this._getPan,\"AbstractSoundInstance.getPan\"),this.setPan=createjs.deprecate(this._setPan,\"AbstractSoundInstance.setPan\"),this._startTime=Math.max(0,b||0),Object.defineProperty(this,\"startTime\",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=createjs.deprecate(this._getStartTime,\"AbstractSoundInstance.getStartTime\"),this.setStartTime=createjs.deprecate(this._setStartTime,\"AbstractSoundInstance.setStartTime\"),this._duration=Math.max(0,c||0),Object.defineProperty(this,\"duration\",{get:this._getDuration,set:this._setDuration}),this.getDuration=createjs.deprecate(this._getDuration,\"AbstractSoundInstance.getDuration\"),this.setDuration=createjs.deprecate(this._setDuration,\"AbstractSoundInstance.setDuration\"),this._playbackResource=null,Object.defineProperty(this,\"playbackResource\",{get:this._getPlaybackResource,set:this._setPlaybackResource}),d!==!1&&d!==!0&&this._setPlaybackResource(d),this.getPlaybackResource=createjs.deprecate(this._getPlaybackResource,\"AbstractSoundInstance.getPlaybackResource\"),this.setPlaybackResource=createjs.deprecate(this._setPlaybackResource,\"AbstractSoundInstance.setPlaybackResource\"),this._position=0,Object.defineProperty(this,\"position\",{get:this._getPosition,set:this._setPosition}),this.getPosition=createjs.deprecate(this._getPosition,\"AbstractSoundInstance.getPosition\"),this.setPosition=createjs.deprecate(this._setPosition,\"AbstractSoundInstance.setPosition\"),this._loop=0,Object.defineProperty(this,\"loop\",{get:this._getLoop,set:this._setLoop}),this.getLoop=createjs.deprecate(this._getLoop,\"AbstractSoundInstance.getLoop\"),this.setLoop=createjs.deprecate(this._setLoop,\"AbstractSoundInstance.setLoop\"),this._muted=!1,Object.defineProperty(this,\"muted\",{get:this._getMuted,set:this._setMuted}),this.getMuted=createjs.deprecate(this._getMuted,\"AbstractSoundInstance.getMuted\"),this.setMuted=createjs.deprecate(this._setMuted,\"AbstractSoundInstance.setMuted\"),this._paused=!1,Object.defineProperty(this,\"paused\",{get:this._getPaused,set:this._setPaused}),this.getPaused=createjs.deprecate(this._getPaused,\"AbstractSoundInstance.getPaused\"),this.setPaused=createjs.deprecate(this._setPaused,\"AbstractSoundInstance.setPaused\")},b=createjs.extend(a,createjs.EventDispatcher);b.play=function(a){var b=createjs.PlayPropsConfig.create(a);return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(b),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,b),this)},b.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},b.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},b.applyPlayProps=function(a){return null!=a.offset&&this._setPosition(a.offset),null!=a.loop&&this._setLoop(a.loop),null!=a.volume&&this._setVolume(a.volume),null!=a.pan&&this._setPan(a.pan),null!=a.startTime&&(this._setStartTime(a.startTime),this._setDuration(a.duration)),this},b.toString=function(){return\"[AbstractSoundInstance]\"},b._getPaused=function(){return this._paused},b._setPaused=function(a){return a!==!0&&a!==!1||this._paused==a||1==a&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=a,a?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},b._setVolume=function(a){return a==this._volume?this:(this._volume=Math.max(0,Math.min(1,a)),this._muted||this._updateVolume(),this)},b._getVolume=function(){return this._volume},b._setMuted=function(a){return a===!0||a===!1?(this._muted=a,this._updateVolume(),this):void 0},b._getMuted=function(){return this._muted},b._setPan=function(a){return a==this._pan?this:(this._pan=Math.max(-1,Math.min(1,a)),this._updatePan(),this)},b._getPan=function(){return this._pan},b._getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},b._setPosition=function(a){return this._position=Math.max(0,a),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},b._getStartTime=function(){return this._startTime},b._setStartTime=function(a){return a==this._startTime?this:(this._startTime=Math.max(0,a||0),this._updateStartTime(),this)},b._getDuration=function(){return this._duration},b._setDuration=function(a){return a==this._duration?this:(this._duration=Math.max(0,a||0),this._updateDuration(),this)},b._setPlaybackResource=function(a){return this._playbackResource=a,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},b._getPlaybackResource=function(){return this._playbackResource},b._getLoop=function(){return this._loop},b._setLoop=function(a){null!=this._playbackResource&&(0!=this._loop&&0==a?this._removeLooping(a):0==this._loop&&0!=a&&this._addLooping(a)),this._loop=a},b._sendEvent=function(a){var b=new createjs.Event(a);this.dispatchEvent(b)},b._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},b._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent(\"interrupted\")},b._beginPlaying=function(a){return this._setPosition(a.offset),this._setLoop(a.loop),this._setVolume(a.volume),this._setPan(a.pan),null!=a.startTime&&(this._setStartTime(a.startTime),this._setDuration(a.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent(\"succeeded\"),!0):(this._playFailed(),!1)},b._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent(\"failed\")},b._handleSoundComplete=function(a){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent(\"loop\")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent(\"complete\"))},b._handleSoundReady=function(){},b._updateVolume=function(){},b._updatePan=function(){},b._updateStartTime=function(){},b._updateDuration=function(){},b._setDurationFromSource=function(){},b._calculateCurrentPosition=function(){},b._updatePosition=function(){},b._removeLooping=function(a){},b._addLooping=function(a){},b._pause=function(){},b._resume=function(){},b._handleStop=function(){},b._handleCleanUp=function(){},b._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(a,\"EventDispatcher\"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},b=a.prototype;a._capabilities=null,a.isSupported=function(){return!0},b.register=function(a){var b=this._loaders[a.src];return b&&!b.canceled?this._loaders[a.src]:(this._audioSources[a.src]=!0,this._soundInstances[a.src]=[],b=new this._loaderClass(a),b.on(\"complete\",this._handlePreloadComplete,this),this._loaders[a.src]=b,b)},b.preload=function(a){a.on(\"error\",this._handlePreloadError,this),a.load()},b.isPreloadStarted=function(a){return null!=this._audioSources[a]},b.isPreloadComplete=function(a){return!(null==this._audioSources[a]||1==this._audioSources[a])},b.removeSound=function(a){if(this._soundInstances[a]){for(var b=this._soundInstances[a].length;b--;){var c=this._soundInstances[a][b];c.destroy()}delete this._soundInstances[a],delete this._audioSources[a],this._loaders[a]&&this._loaders[a].destroy(),delete this._loaders[a]}},b.removeAllSounds=function(){for(var a in this._audioSources)this.removeSound(a)},b.create=function(a,b,c){this.isPreloadStarted(a)||this.preload(this.register(a));var d=new this._soundInstanceClass(a,b,c,this._audioSources[a]);return this._soundInstances[a]&&this._soundInstances[a].push(d),d.setMasterVolume&&d.setMasterVolume(createjs.Sound.volume),d.setMasterMute&&d.setMasterMute(createjs.Sound.muted),d},b.setVolume=function(a){return this._volume=a,this._updateVolume(),!0},b.getVolume=function(){return this._volume},b.setMute=function(a){return this._updateVolume(),!0},b.toString=function(){return\"[AbstractPlugin]\"},b._handlePreloadComplete=function(a){var b=a.target.getItem().src;this._audioSources[b]=a.result;for(var c=0,d=this._soundInstances[b].length;d>c;c++){var e=this._soundInstances[b][c];e.playbackResource=this._audioSources[b],this._soundInstances[b]=null}},b._handlePreloadError=function(a){},b._updateVolume=function(){},createjs.AbstractPlugin=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.AbstractLoader_constructor(a,!0,createjs.Types.SOUND)}var b=createjs.extend(a,createjs.AbstractLoader);a.context=null,b.toString=function(){return\"[WebAudioLoader]\"},b._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType(\"arraybuffer\")},b._sendComplete=function(b){a.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},b._handleAudioDecoded=function(a){this._result=a,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(a,\"AbstractLoader\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,d,e){this.AbstractSoundInstance_constructor(a,b,d,e),this.gainNode=c.context.createGain(),this.panNode=c.context.createPanner(),this.panNode.panningModel=c._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var b=createjs.extend(a,createjs.AbstractSoundInstance),c=a;c.context=null,c._scratchBuffer=null,c.destinationNode=null,c._panningModel=\"equalpower\",b.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},b.toString=function(){return\"[WebAudioSoundInstance]\"},b._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},b._removeLooping=function(a){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},b._addLooping=function(a){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},b._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},b._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},b._cleanUpAudioNode=function(a){if(a){if(a.stop(0),a.disconnect(0),createjs.BrowserDetect.isIOS)try{a.buffer=c._scratchBuffer}catch(b){}a=null}return a},b._handleSoundReady=function(a){this.gainNode.connect(c.destinationNode);var b=.001*this._duration,d=Math.min(.001*Math.max(0,this._position),b);this.sourceNode=this._createAndPlayAudioNode(c.context.currentTime-b,d),this._playbackStartTime=this.sourceNode.startTime-d,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(b-d)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},b._createAndPlayAudioNode=function(a,b){var d=c.context.createBufferSource();d.buffer=this.playbackResource,d.connect(this.panNode);var e=.001*this._duration;return d.startTime=a+e,d.start(d.startTime,b+.001*this._startTime,e-b),d},b._pause=function(){this._position=1e3*(c.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},b._resume=function(){this._handleSoundReady()},b._updateVolume=function(){var a=this._muted?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},b._calculateCurrentPosition=function(){return 1e3*(c.context.currentTime-this._playbackStartTime)},b._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},b._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},b._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(a,\"AbstractSoundInstance\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.AbstractPlugin_constructor(),this._panningModel=c._panningModel,this.context=c.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=c._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var b=createjs.extend(a,createjs.AbstractPlugin),c=a;c._capabilities=null,c._panningModel=\"equalpower\",c.context=null,c._scratchBuffer=null,c._unlocked=!1,c.DEFAULT_SAMPLE_RATE=44100,c.isSupported=function(){var a=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return\"file:\"!=location.protocol||a||this._isFileXHRSupported()?(c._generateCapabilities(),null==c.context?!1:!0):!1},c.playEmptySound=function(){if(null!=c.context){var a=c.context.createBufferSource();a.buffer=c._scratchBuffer,a.connect(c.context.destination),a.start(0,0,0)}},c._isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open(\"GET\",\"WebAudioPluginTest.fail\",!1)}catch(c){return a=!1}b.onerror=function(){a=!1},b.onload=function(){a=404==this.status||200==this.status||0==this.status&&\"\"!=this.response};try{b.send()}catch(c){a=!1}return a},c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement(\"audio\");if(null==a.canPlayType)return null;if(null==c.context&&(c.context=c._createAudioContext(),null==c.context))return null;null==c._scratchBuffer&&(c._scratchBuffer=c.context.createBuffer(1,1,22050)),c._compatibilitySetUp(),\"ontouchstart\"in window&&\"running\"!=c.context.state&&(c._unlock(),document.addEventListener(\"mousedown\",c._unlock,!0),document.addEventListener(\"touchstart\",c._unlock,!0),document.addEventListener(\"touchend\",c._unlock,!0)),c._capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=b.length;f>e;e++){var g=b[e],h=d[g]||g;c._capabilities[g]=\"no\"!=a.canPlayType(\"audio/\"+g)&&\"\"!=a.canPlayType(\"audio/\"+g)||\"no\"!=a.canPlayType(\"audio/\"+h)&&\"\"!=a.canPlayType(\"audio/\"+h)}c.context.destination.numberOfChannels<2&&(c._capabilities.panning=!1)}},c._createAudioContext=function(){var a=window.AudioContext||window.webkitAudioContext;if(null==a)return null;var b=new a;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&b.sampleRate!==c.DEFAULT_SAMPLE_RATE){var d=b.createBuffer(1,1,c.DEFAULT_SAMPLE_RATE),e=b.createBufferSource();e.buffer=d,e.connect(b.destination),e.start(0),e.disconnect(),b.close(),b=new a}return b},c._compatibilitySetUp=function(){if(c._panningModel=\"equalpower\",!c.context.createGain){c.context.createGain=c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn,a.__proto__.stop=a.__proto__.noteOff,c._panningModel=0}},c._unlock=function(){c._unlocked||(c.playEmptySound(),\"running\"==c.context.state&&(document.removeEventListener(\"mousedown\",c._unlock,!0),document.removeEventListener(\"touchend\",c._unlock,!0),document.removeEventListener(\"touchstart\",c._unlock,!0),c._unlocked=!0))},b.toString=function(){return\"[WebAudioPlugin]\"},b._addPropsToClasses=function(){var a=this._soundInstanceClass;a.context=this.context,a._scratchBuffer=c._scratchBuffer,a.destinationNode=this.gainNode,a._panningModel=this._panningModel,this._loaderClass.context=this.context},b._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},createjs.WebAudioPlugin=createjs.promote(a,\"AbstractPlugin\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"HTMLAudioTagPool cannot be instantiated\"}function b(a){this._tags=[]}var c=a;c._tags={},c._tagPool=new b,c._tagUsed={},c.get=function(a){var b=c._tags[a];return null==b?(b=c._tags[a]=c._tagPool.get(),b.src=a):c._tagUsed[a]?(b=c._tagPool.get(),b.src=a):c._tagUsed[a]=!0,b},c.set=function(a,b){b==c._tags[a]?c._tagUsed[a]=!1:c._tagPool.set(b)},c.remove=function(a){var b=c._tags[a];return null==b?!1:(c._tagPool.set(b),delete c._tags[a],delete c._tagUsed[a],!0)},c.getDuration=function(a){var b=c._tags[a];return null!=b&&b.duration?1e3*b.duration:0},createjs.HTMLAudioTagPool=a;var d=b.prototype;d.constructor=b,d.get=function(){var a;return a=0==this._tags.length?this._createTag():this._tags.pop(),null==a.parentNode&&document.body.appendChild(a),a},d.set=function(a){var b=createjs.indexOf(this._tags,a);-1==b&&(this._tags.src=null,this._tags.push(a))},d.toString=function(){return\"[TagPool]\"},d._createTag=function(){var a=document.createElement(\"audio\");return a.autoplay=!1,a.preload=\"none\",a}}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a,b,c,d){this.AbstractSoundInstance_constructor(a,b,c,d),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),c?this._audioSpriteStopTime=.001*(b+c):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var b=createjs.extend(a,createjs.AbstractSoundInstance);b.setMasterVolume=function(a){this._updateVolume()},b.setMasterMute=function(a){this._updateVolume()},b.toString=function(){return\"[HTMLAudioSoundInstance]\"},b._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},b._handleCleanUp=function(){var a=this._playbackResource;if(null!=a){a.pause(),a.loop=!1,a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),a.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{a.currentTime=this._startTime}catch(b){}createjs.HTMLAudioTagPool.set(this.src,a),this._playbackResource=null}},b._beginPlaying=function(a){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(a)},b._handleSoundReady=function(a){if(4!==this._playbackResource.readyState){var b=this._playbackResource;return b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),b.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),b.preload=\"auto\",void b.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},b._handleTagReady=function(a){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},b._pause=function(){this._playbackResource.pause()},b._resume=function(){this._playbackResource.play()},b._updateVolume=function(){if(null!=this._playbackResource){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;a!=this._playbackResource.volume&&(this._playbackResource.volume=a)}},b._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},b._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(a){this._handleSetPositionSeek(null)}},b._handleSetPositionSeek=function(a){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._handleAudioSpriteLoop=function(a){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent(\"loop\")))},b._handleLoop=function(a){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(a,\"AbstractSoundInstance\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){this.AbstractPlugin_constructor(),this._capabilities=c._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var b=createjs.extend(a,createjs.AbstractPlugin),c=a;c.MAX_INSTANCES=30,c._AUDIO_READY=\"canplaythrough\",c._AUDIO_ENDED=\"ended\",c._AUDIO_SEEKED=\"seeked\",c._AUDIO_STALLED=\"stalled\",c._TIME_UPDATE=\"timeupdate\",c._capabilities=null,c.isSupported=function(){return c._generateCapabilities(),null!=c._capabilities},c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement(\"audio\");if(null==a.canPlayType)return null;c._capabilities={panning:!1,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=b.length;f>e;e++){var g=b[e],h=d[g]||g;c._capabilities[g]=\"no\"!=a.canPlayType(\"audio/\"+g)&&\"\"!=a.canPlayType(\"audio/\"+g)||\"no\"!=a.canPlayType(\"audio/\"+h)&&\"\"!=a.canPlayType(\"audio/\"+h)}}},b.register=function(a){var b=createjs.HTMLAudioTagPool.get(a.src),c=this.AbstractPlugin_register(a);return c.setTag(b),c},b.removeSound=function(a){this.AbstractPlugin_removeSound(a),createjs.HTMLAudioTagPool.remove(a)},b.create=function(a,b,c){var d=this.AbstractPlugin_create(a,b,c);return d.playbackResource=null,d},b.toString=function(){return\"[HTMLAudioPlugin]\"},b.setVolume=b.getVolume=b.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(a,\"AbstractPlugin\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,\r\nthis._prev=null,this._parent=null,this._labels=null,this._labelList=null,a&&(this.useTicks=!!a.useTicks,this.ignoreGlobalPause=!!a.ignoreGlobalPause,this.loop=a.loop===!0?-1:a.loop||0,this.reversed=!!a.reversed,this.bounce=!!a.bounce,this.timeScale=a.timeScale||1,a.onChange&&this.addEventListener(\"change\",a.onChange),a.onComplete&&this.addEventListener(\"complete\",a.onComplete))}var b=createjs.extend(a,createjs.EventDispatcher);b._setPaused=function(a){return createjs.Tween._register(this,a),this},b.setPaused=createjs.deprecate(b._setPaused,\"AbstractTween.setPaused\"),b._getPaused=function(){return this._paused},b.getPaused=createjs.deprecate(b._getPaused,\"AbstactTween.getPaused\"),b._getCurrentLabel=function(a){var b=this.getLabels();null==a&&(a=this.position);for(var c=0,d=b.length;d>c&&!(a<b[c].position);c++);return 0===c?null:b[c-1].label},b.getCurrentLabel=createjs.deprecate(b._getCurrentLabel,\"AbstractTween.getCurrentLabel\");try{Object.defineProperties(b,{paused:{set:b._setPaused,get:b._getPaused},currentLabel:{get:b._getCurrentLabel}})}catch(c){}b.advance=function(a,b){this.setPosition(this.rawPosition+a*this.timeScale,b)},b.setPosition=function(a,b,c,d){var e=this.duration,f=this.loop,g=this.rawPosition,h=0,i=0,j=!1;if(0>a&&(a=0),0===e){if(j=!0,-1!==g)return j}else{if(h=a/e|0,i=a-h*e,j=-1!==f&&a>=f*e+e,j&&(a=(i=e)*(h=f)+e),a===g)return j;var k=!this.reversed!=!(this.bounce&&h%2);k&&(i=e-i)}this.position=i,this.rawPosition=a,this._updatePosition(c,j),j&&(this.paused=!0),d&&d(this),b||this._runActions(g,a,c,!c&&-1===g),this.dispatchEvent(\"change\"),j&&this.dispatchEvent(\"complete\")},b.calculatePosition=function(a){var b=this.duration,c=this.loop,d=0,e=0;if(0===b)return 0;-1!==c&&a>=c*b+b?(e=b,d=c):0>a?e=0:(d=a/b|0,e=a-d*b);var f=!this.reversed!=!(this.bounce&&d%2);return f?b-e:e},b.getLabels=function(){var a=this._labelList;if(!a){a=this._labelList=[];var b=this._labels;for(var c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a},b.setLabels=function(a){this._labels=a,this._labelList=null},b.addLabel=function(a,b){this._labels||(this._labels={}),this._labels[a]=b;var c=this._labelList;if(c){for(var d=0,e=c.length;e>d&&!(b<c[d].position);d++);c.splice(d,0,{label:a,position:b})}},b.gotoAndPlay=function(a){this.paused=!1,this._goto(a)},b.gotoAndStop=function(a){this.paused=!0,this._goto(a)},b.resolve=function(a){var b=Number(a);return isNaN(b)&&(b=this._labels&&this._labels[a]),b},b.toString=function(){return\"[AbstractTween]\"},b.clone=function(){throw\"AbstractTween can not be cloned.\"},b._init=function(a){a&&a.paused||(this.paused=!1),a&&null!=a.position&&this.setPosition(a.position)},b._updatePosition=function(a,b){},b._goto=function(a){var b=this.resolve(a);null!=b&&this.setPosition(b,!1,!0)},b._runActions=function(a,b,c,d){if(this._actionHead||this.tweens){var e,f,g,h,i=this.duration,j=this.reversed,k=this.bounce,l=this.loop;if(0===i?(e=f=g=h=0,j=k=!1):(e=a/i|0,f=b/i|0,g=a-e*i,h=b-f*i),-1!==l&&(f>l&&(h=i,f=l),e>l&&(g=i,e=l)),c)return this._runActionsRange(h,h,c,d);if(e!==f||g!==h||c||d){-1===e&&(e=g=0);var m=b>=a,n=e;do{var o=!j!=!(k&&n%2),p=n===e?g:m?0:i,q=n===f?h:m?i:0;if(o&&(p=i-p,q=i-q),k&&n!==e&&p===q);else if(this._runActionsRange(p,q,c,d||n!==e&&!k))return!0;d=!1}while(m&&++n<=f||!m&&--n>=f)}}},b._runActionsRange=function(a,b,c,d){},createjs.AbstractTween=createjs.promote(a,\"EventDispatcher\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(c,d){this.AbstractTween_constructor(d),this.pluginData=null,this.target=c,this.passive=!1,this._stepHead=new b(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,d&&(this.pluginData=d.pluginData,d.override&&a.removeTweens(c)),this.pluginData||(this.pluginData={}),this._init(d)}function b(a,b,c,d,e,f){this.next=null,this.prev=a,this.t=b,this.d=c,this.props=d,this.ease=e,this.passive=f,this.index=a?a.index+1:0}function c(a,b,c,d,e){this.next=null,this.prev=a,this.t=b,this.d=0,this.scope=c,this.funct=d,this.params=e}var d=createjs.extend(a,createjs.AbstractTween);a.IGNORE={},a._tweens=[],a._plugins=null,a._tweenHead=null,a._tweenTail=null,a.get=function(b,c){return new a(b,c)},a.tick=function(b,c){for(var d=a._tweenHead;d;){var e=d._next;c&&!d.ignoreGlobalPause||d._paused||d.advance(d.useTicks?1:b),d=e}},a.handleEvent=function(a){\"tick\"===a.type&&this.tick(a.delta,a.paused)},a.removeTweens=function(b){if(b.tweenjs_count){for(var c=a._tweenHead;c;){var d=c._next;c.target===b&&a._register(c,!0),c=d}b.tweenjs_count=0}},a.removeAllTweens=function(){for(var b=a._tweenHead;b;){var c=b._next;b._paused=!0,b.target&&(b.target.tweenjs_count=0),b._next=b._prev=null,b=c}a._tweenHead=a._tweenTail=null},a.hasActiveTweens=function(b){return b?!!b.tweenjs_count:!!a._tweenHead},a._installPlugin=function(b){for(var c=b.priority=b.priority||0,d=a._plugins=a._plugins||[],e=0,f=d.length;f>e&&!(c<d[e].priority);e++);d.splice(e,0,b)},a._register=function(b,c){var d=b.target;if(!c&&b._paused){d&&(d.tweenjs_count=d.tweenjs_count?d.tweenjs_count+1:1);var e=a._tweenTail;e?(a._tweenTail=e._next=b,b._prev=e):a._tweenHead=a._tweenTail=b,!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener(\"tick\",a),a._inited=!0)}else if(c&&!b._paused){d&&d.tweenjs_count--;var f=b._next,g=b._prev;f?f._prev=g:a._tweenTail=g,g?g._next=f:a._tweenHead=f,b._next=b._prev=null}b._paused=c},d.wait=function(a,b){return a>0&&this._addStep(+a,this._stepTail.props,null,b),this},d.to=function(a,b,c){(null==b||0>b)&&(b=0);var d=this._addStep(+b,null,c);return this._appendProps(a,d),this},d.label=function(a){return this.addLabel(a,this.duration),this},d.call=function(a,b,c){return this._addAction(c||this.target,a,b||[this])},d.set=function(a,b){return this._addAction(b||this.target,this._set,[a])},d.play=function(a){return this._addAction(a||this,this._set,[{paused:!1}])},d.pause=function(a){return this._addAction(a||this,this._set,[{paused:!0}])},d.w=d.wait,d.t=d.to,d.c=d.call,d.s=d.set,d.toString=function(){return\"[Tween]\"},d.clone=function(){throw\"Tween can not be cloned.\"},d._addPlugin=function(a){var b=this._pluginIds||(this._pluginIds={}),c=a.ID;if(c&&!b[c]){b[c]=!0;for(var d=this._plugins||(this._plugins=[]),e=a.priority||0,f=0,g=d.length;g>f;f++)if(e<d[f].priority)return void d.splice(f,0,a);d.push(a)}},d._updatePosition=function(a,b){var c=this._stepHead.next,d=this.position,e=this.duration;if(this.target&&c){for(var f=c.next;f&&f.t<=d;)c=c.next,f=c.next;var g=b?0===e?1:d/e:(d-c.t)/c.d;this._updateTargetProps(c,g,b)}this._stepPosition=c?d-c.t:0},d._updateTargetProps=function(b,c,d){if(!(this.passive=!!b.passive)){var e,f,g,h,i=b.prev.props,j=b.props;(h=b.ease)&&(c=h(c,0,1,1));var k=this._plugins;a:for(var l in i){if(f=i[l],g=j[l],e=f!==g&&\"number\"==typeof f?f+(g-f)*c:c>=1?g:f,k)for(var m=0,n=k.length;n>m;m++){var o=k[m].change(this,b,l,e,c,d);if(o===a.IGNORE)continue a;void 0!==o&&(e=o)}this.target[l]=e}}},d._runActionsRange=function(a,b,c,d){var e=a>b,f=e?this._actionTail:this._actionHead,g=b,h=a;e&&(g=a,h=b);for(var i=this.position;f;){var j=f.t;if((j===b||j>h&&g>j||d&&j===a)&&(f.funct.apply(f.scope,f.params),i!==this.position))return!0;f=e?f.prev:f.next}},d._appendProps=function(b,c,d){var e,f,g,h,i,j=this._stepHead.props,k=this.target,l=a._plugins,m=c.prev,n=m.props,o=c.props||(c.props=this._cloneProps(n)),p={};for(e in b)if(b.hasOwnProperty(e)&&(p[e]=o[e]=b[e],void 0===j[e])){if(h=void 0,l)for(f=l.length-1;f>=0;f--)if(g=l[f].init(this,e,h),void 0!==g&&(h=g),h===a.IGNORE){delete o[e],delete p[e];break}h!==a.IGNORE&&(void 0===h&&(h=k[e]),n[e]=void 0===h?null:h)}for(e in p){g=b[e];for(var q,r=m;(q=r)&&(r=q.prev);)if(r.props!==q.props){if(void 0!==r.props[e])break;r.props[e]=n[e]}}if(d!==!1&&(l=this._plugins))for(f=l.length-1;f>=0;f--)l[f].step(this,c,p);(i=this._injected)&&(this._injected=null,this._appendProps(i,c,!1))},d._injectProp=function(a,b){var c=this._injected||(this._injected={});c[a]=b},d._addStep=function(a,c,d,e){var f=new b(this._stepTail,this.duration,a,c,d,e||!1);return this.duration+=a,this._stepTail=this._stepTail.next=f},d._addAction=function(a,b,d){var e=new c(this._actionTail,this.duration,a,b,d);return this._actionTail?this._actionTail.next=e:this._actionHead=e,this._actionTail=e,this},d._set=function(a){for(var b in a)this[b]=a[b]},d._cloneProps=function(a){var b={};for(var c in a)b[c]=a[c];return b},createjs.Tween=createjs.promote(a,\"AbstractTween\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(a){var b,c;a instanceof Array||null==a&&arguments.length>1?(b=a,c=arguments[1],a=arguments[2]):a&&(b=a.tweens,c=a.labels),this.AbstractTween_constructor(a),this.tweens=[],b&&this.addTween.apply(this,b),this.setLabels(c),this._init(a)}var b=createjs.extend(a,createjs.AbstractTween);b.addTween=function(a){a._parent&&a._parent.removeTween(a);var b=arguments.length;if(b>1){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[b-1]}if(0===b)return null;this.tweens.push(a),a._parent=this,a.paused=!0;var d=a.duration;return a.loop>0&&(d*=a.loop+1),d>this.duration&&(this.duration=d),this.rawPosition>=0&&a.setPosition(this.rawPosition),a},b.removeTween=function(a){var b=arguments.length;if(b>1){for(var c=!0,d=0;b>d;d++)c=c&&this.removeTween(arguments[d]);return c}if(0===b)return!0;for(var e=this.tweens,d=e.length;d--;)if(e[d]===a)return e.splice(d,1),a._parent=null,a.duration>=this.duration&&this.updateDuration(),!0;return!1},b.updateDuration=function(){this.duration=0;for(var a=0,b=this.tweens.length;b>a;a++){var c=this.tweens[a],d=c.duration;c.loop>0&&(d*=c.loop+1),d>this.duration&&(this.duration=d)}},b.toString=function(){return\"[Timeline]\"},b.clone=function(){throw\"Timeline can not be cloned.\"},b._updatePosition=function(a,b){for(var c=this.position,d=0,e=this.tweens.length;e>d;d++)this.tweens[d].setPosition(c,!0,a)},b._runActionsRange=function(a,b,c,d){for(var e=this.position,f=0,g=this.tweens.length;g>f;f++)if(this.tweens[f]._runActions(a,b,c,d),e!==this.position)return!0},createjs.Timeline=createjs.promote(a,\"AbstractTween\")}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"Ease cannot be instantiated.\"}a.linear=function(a){return a},a.none=a.linear,a.get=function(a){return-1>a?a=-1:a>1&&(a=1),function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}},a.getPowIn=function(a){return function(b){return Math.pow(b,a)}},a.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}},a.getPowInOut=function(a){return function(b){return(b*=2)<1?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}},a.quadIn=a.getPowIn(2),a.quadOut=a.getPowOut(2),a.quadInOut=a.getPowInOut(2),a.cubicIn=a.getPowIn(3),a.cubicOut=a.getPowOut(3),a.cubicInOut=a.getPowInOut(3),a.quartIn=a.getPowIn(4),a.quartOut=a.getPowOut(4),a.quartInOut=a.getPowInOut(4),a.quintIn=a.getPowIn(5),a.quintOut=a.getPowOut(5),a.quintInOut=a.getPowInOut(5),a.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)},a.sineOut=function(a){return Math.sin(a*Math.PI/2)},a.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}},a.backIn=a.getBackIn(1.7),a.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}},a.backOut=a.getBackOut(1.7),a.getBackInOut=function(a){return a*=1.525,function(b){return(b*=2)<1?.5*(b*b*((a+1)*b-a)):.5*((b-=2)*b*((a+1)*b+a)+2)}},a.backInOut=a.getBackInOut(1.7),a.circIn=function(a){return-(Math.sqrt(1-a*a)-1)},a.circOut=function(a){return Math.sqrt(1- --a*a)},a.circInOut=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},a.bounceIn=function(b){return 1-a.bounceOut(1-b)},a.bounceOut=function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},a.bounceInOut=function(b){return.5>b?.5*a.bounceIn(2*b):.5*a.bounceOut(2*b-1)+.5},a.getElasticIn=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return-(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b))}},a.elasticIn=a.getElasticIn(1,.3),a.getElasticOut=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return a*Math.pow(2,-10*d)*Math.sin((d-e)*c/b)+1}},a.elasticOut=a.getElasticOut(1,.3),a.getElasticInOut=function(a,b){var c=2*Math.PI;return function(d){var e=b/c*Math.asin(1/a);return(d*=2)<1?-.5*(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b)):a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*c/b)*.5+1}},a.elasticInOut=a.getElasticInOut(1,.3*1.5),createjs.Ease=a}(),this.createjs=this.createjs||{},function(){\"use strict\";function a(){throw\"MotionGuidePlugin cannot be instantiated.\"}var b=a;b.priority=0,b.ID=\"MotionGuide\",b.install=function(){return createjs.Tween._installPlugin(a),createjs.Tween.IGNORE},b.init=function(a,c,d){\"guide\"==c&&a._addPlugin(b)},b.step=function(a,c,d){for(var e in d)if(\"guide\"===e){var f=c.props.guide,g=b._solveGuideData(d.guide,f);f.valid=!g;var h=f.endData;if(a._injectProp(\"x\",h.x),a._injectProp(\"y\",h.y),g||!f.orient)break;var i=void 0===c.prev.props.rotation?a.target.rotation||0:c.prev.props.rotation;if(f.startOffsetRot=i-f.startData.rotation,\"fixed\"==f.orient)f.endAbsRot=h.rotation+f.startOffsetRot,f.deltaRotation=0;else{var j=void 0===d.rotation?a.target.rotation||0:d.rotation,k=j-f.endData.rotation-f.startOffsetRot,l=k%360;switch(f.endAbsRot=j,f.orient){case\"auto\":f.deltaRotation=k;break;case\"cw\":f.deltaRotation=(l+360)%360+360*Math.abs(k/360|0);break;case\"ccw\":f.deltaRotation=(l-360)%360+-360*Math.abs(k/360|0)}}a._injectProp(\"rotation\",f.endAbsRot)}},b.change=function(a,c,d,e,f,g){var h=c.props.guide;if(h&&c.props!==c.prev.props&&h!==c.prev.props.guide)return\"guide\"===d&&!h.valid||\"x\"==d||\"y\"==d||\"rotation\"===d&&h.orient?createjs.Tween.IGNORE:void b._ratioToPositionData(f,h,a.target)},b.debug=function(a,c,d){a=a.guide||a;var e=b._findPathProblems(a);if(e&&console.error(\"MotionGuidePlugin Error found: \\n\"+e),!c)return e;var f,g=a.path,h=g.length,i=3,j=9;for(c.save(),c.lineCap=\"round\",c.lineJoin=\"miter\",c.beginPath(),c.moveTo(g[0],g[1]),f=2;h>f;f+=4)c.quadraticCurveTo(g[f],g[f+1],g[f+2],g[f+3]);c.strokeStyle=\"black\",c.lineWidth=1.5*i,c.stroke(),c.strokeStyle=\"white\",c.lineWidth=i,c.stroke(),c.closePath();var k=d.length;if(d&&k){var l={},m={};b._solveGuideData(a,l);for(var f=0;k>f;f++)l.orient=\"fixed\",b._ratioToPositionData(d[f],l,m),c.beginPath(),c.moveTo(m.x,m.y),c.lineTo(m.x+Math.cos(.0174533*m.rotation)*j,m.y+Math.sin(.0174533*m.rotation)*j),c.strokeStyle=\"black\",c.lineWidth=1.5*i,c.stroke(),c.strokeStyle=\"red\",c.lineWidth=i,c.stroke(),c.closePath()}return c.restore(),e},b._solveGuideData=function(a,c){var d=void 0;if(d=b.debug(a))return d;var e=c.path=a.path;c.orient=a.orient;c.subLines=[],c.totalLength=0,c.startOffsetRot=0,c.deltaRotation=0,c.startData={ratio:0},c.endData={ratio:1},c.animSpan=1;var f,g,h,i,j,k,l,m,n,o=e.length,p=10,q={};for(f=e[0],g=e[1],l=2;o>l;l+=4){h=e[l],i=e[l+1],j=e[l+2],k=e[l+3];var r={weightings:[],estLength:0,portion:0},s=f,t=g;for(m=1;p>=m;m++){b._getParamsForCurve(f,g,h,i,j,k,m/p,!1,q);var u=q.x-s,v=q.y-t;n=Math.sqrt(u*u+v*v),r.weightings.push(n),r.estLength+=n,s=q.x,t=q.y}for(c.totalLength+=r.estLength,m=0;p>m;m++)n=r.estLength,r.weightings[m]=r.weightings[m]/n;c.subLines.push(r),f=j,g=k}n=c.totalLength;var w=c.subLines.length;for(l=0;w>l;l++)c.subLines[l].portion=c.subLines[l].estLength/n;var x=isNaN(a.start)?0:a.start,y=isNaN(a.end)?1:a.end;b._ratioToPositionData(x,c,c.startData),b._ratioToPositionData(y,c,c.endData),c.startData.ratio=x,c.endData.ratio=y,c.animSpan=c.endData.ratio-c.startData.ratio},b._ratioToPositionData=function(a,c,d){var e,f,g,h,i,j=c.subLines,k=0,l=10,m=a*c.animSpan+c.startData.ratio;for(f=j.length,e=0;f>e;e++){if(h=j[e].portion,k+h>=m){i=e;break}k+=h}void 0===i&&(i=f-1,k-=h);var n=j[i].weightings,o=h;for(f=n.length,e=0;f>e&&(h=n[e]*o,!(k+h>=m));e++)k+=h;i=4*i+2,g=e/l+(m-k)/h*(1/l);var p=c.path;return b._getParamsForCurve(p[i-2],p[i-1],p[i],p[i+1],p[i+2],p[i+3],g,c.orient,d),c.orient&&(a>=.99999&&1.00001>=a&&void 0!==c.endAbsRot?d.rotation=c.endAbsRot:d.rotation+=c.startOffsetRot+a*c.deltaRotation),d},b._getParamsForCurve=function(a,b,c,d,e,f,g,h,i){var j=1-g;i.x=j*j*a+2*j*g*c+g*g*e,i.y=j*j*b+2*j*g*d+g*g*f,h&&(i.rotation=57.2957795*Math.atan2((d-b)*j+(f-d)*g,(c-a)*j+(e-c)*g))},b._findPathProblems=function(a){var b=a.path,c=b&&b.length||0;if(6>c||(c-2)%4){var d=\"\tCannot parse 'path' array due to invalid number of entries in path. \";return d+=\"There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). \",d+=\"See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\\n\\n\",d+=\"Only [ \"+c+\" ] values found. Expected: \"+Math.max(4*Math.ceil((c-2)/4)+2,6)}for(var e=0;c>e;e++)if(isNaN(b[e]))return\"All data in path array must be numeric\";var f=a.start;if(isNaN(f)&&void 0!==f)return\"'start' out of bounds. Expected 0 to 1, got: \"+f;var g=a.end;if(isNaN(g)&&void 0!==g)return\"'end' out of bounds. Expected 0 to 1, got: \"+g;var h=a.orient;return h&&\"fixed\"!=h&&\"auto\"!=h&&\"cw\"!=h&&\"ccw\"!=h?'Invalid orientation value. Expected [\"fixed\", \"auto\", \"cw\", \"ccw\", undefined], got: '+h:void 0},createjs.MotionGuidePlugin=a}(),this.createjs=this.createjs||{},function(){\"use strict\";var a=createjs.TweenJS=createjs.TweenJS||{};a.version=\"1.0.0\",a.buildDate=\"Thu, 12 Oct 2017 16:34:05 GMT\"}();"]}]}