{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\icald\\VueJS\\store_app\\src\\editor\\js\\tshirtEditor.js","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\editor\\js\\tshirtEditor.js","mtime":1603949615929},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCnZhciBjYW52YXM7CnZhciB0c2hpcnRzID0gbmV3IEFycmF5KCk7IC8vcHJvdG90eXBlOiBbe3N0eWxlOid4Jyxjb2xvcjond2hpdGUnLGZyb250OidhJyxiYWNrOidiJyxwcmljZTp7dHNoaXJ0OicxMi45NScsZnJvbnRQcmludDonNC45OScsYmFja1ByaW50Oic0Ljk5Jyx0b3RhbDonMjIuNDcnfX1dCgp2YXIgYTsKdmFyIGI7CnZhciBsaW5lMTsKdmFyIGxpbmUyOwp2YXIgbGluZTM7CnZhciBsaW5lNDsKJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewogIC8vc2V0dXAgZnJvbnQgc2lkZSBjYW52YXMgCiAgY2FudmFzID0gbmV3IGZhYnJpYy5DYW52YXMoJ3RjYW52YXMnLCB7CiAgICBob3ZlckN1cnNvcjogJ3BvaW50ZXInLAogICAgc2VsZWN0aW9uOiB0cnVlLAogICAgc2VsZWN0aW9uQm9yZGVyQ29sb3I6ICdibHVlJwogIH0pOwogIGNhbnZhcy5vbih7CiAgICAnb2JqZWN0Om1vdmluZyc6IGZ1bmN0aW9uIG9iamVjdE1vdmluZyhlKSB7CiAgICAgIGUudGFyZ2V0Lm9wYWNpdHkgPSAwLjU7CiAgICB9LAogICAgJ29iamVjdDptb2RpZmllZCc6IGZ1bmN0aW9uIG9iamVjdE1vZGlmaWVkKGUpIHsKICAgICAgZS50YXJnZXQub3BhY2l0eSA9IDE7CiAgICB9LAogICAgJ29iamVjdDpzZWxlY3RlZCc6IG9uT2JqZWN0U2VsZWN0ZWQsCiAgICAnc2VsZWN0aW9uOmNsZWFyZWQnOiBvblNlbGVjdGVkQ2xlYXJlZAogIH0pOyAvLyBwaWdneWJhY2sgb24gYGNhbnZhcy5maW5kVGFyZ2V0YCwgdG8gZmlyZSAib2JqZWN0Om92ZXIiIGFuZCAib2JqZWN0Om91dCIgZXZlbnRzCgogIGNhbnZhcy5maW5kVGFyZ2V0ID0gZnVuY3Rpb24gKG9yaWdpbmFsRm4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0YXJnZXQgPSBvcmlnaW5hbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgaWYgKHRoaXMuX2hvdmVyZWRUYXJnZXQgIT09IHRhcmdldCkgewogICAgICAgICAgY2FudmFzLmZpcmUoJ29iamVjdDpvdmVyJywgewogICAgICAgICAgICB0YXJnZXQ6IHRhcmdldAogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKHRoaXMuX2hvdmVyZWRUYXJnZXQpIHsKICAgICAgICAgICAgY2FudmFzLmZpcmUoJ29iamVjdDpvdXQnLCB7CiAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLl9ob3ZlcmVkVGFyZ2V0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXQgPSB0YXJnZXQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuX2hvdmVyZWRUYXJnZXQpIHsKICAgICAgICBjYW52YXMuZmlyZSgnb2JqZWN0Om91dCcsIHsKICAgICAgICAgIHRhcmdldDogdGhpcy5faG92ZXJlZFRhcmdldAogICAgICAgIH0pOwogICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXQgPSBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfTsKICB9KGNhbnZhcy5maW5kVGFyZ2V0KTsKCiAgY2FudmFzLm9uKCdvYmplY3Q6b3ZlcicsIGZ1bmN0aW9uIChlKSB7Ly9lLnRhcmdldC5zZXRGaWxsKCdyZWQnKTsKICAgIC8vY2FudmFzLnJlbmRlckFsbCgpOwogIH0pOwogIGNhbnZhcy5vbignb2JqZWN0Om91dCcsIGZ1bmN0aW9uIChlKSB7Ly9lLnRhcmdldC5zZXRGaWxsKCdncmVlbicpOwogICAgLy9jYW52YXMucmVuZGVyQWxsKCk7CiAgfSk7CiAgdmFyIHZhbHVlU2VsZWN0ID0gJCgiI3RzaGlydHR5cGUiKS52YWwoKTsKICAkKCIjdHNoaXJ0dHlwZSIpLmNoYW5nZShmdW5jdGlvbiAoKSB7CiAgICB2YWx1ZVNlbGVjdCA9ICQodGhpcykudmFsKCk7CiAgICAkKCJpbWdbbmFtZT10c2hpcnR2aWV3XSIpLmF0dHIoInNyYyIsICQodGhpcykudmFsKCkpOwogICAgY29uc29sZS5sb2codmFsdWVTZWxlY3QpOwogIH0pOwogICQoJyNmbGlwYmFjaycpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0c2hpcnRGYWNpbmcnKS5zZXRBdHRyaWJ1dGUoJ3NyYycsICcuLi9lZGl0b3IvaW1nL2NyZXdfYmFjay5wbmcnKTsKCiAgICBpZiAodmFsdWVTZWxlY3QgPT09ICIuLi9lZGl0b3IvaW1nL2NyZXdfZnJvbnQucG5nIikgewogICAgICAkKCIjdHNoaXJ0RmFjaW5nIikucHJvcCgic3JjIiwgIi4uL2VkaXRvci9pbWcvY3Jld19iYWNrLnBuZyIpOwoKICAgICAgaWYgKCQodGhpcykuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpID09ICJTaG93IEJhY2sgVmlldyIpIHsKICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAnU2hvdyBGcm9udCBWaWV3Jyk7IC8vICQoIiN0c2hpcnRGYWNpbmciKS5hdHRyKCJzcmMiLCIuLi9lZGl0b3IvaW1nL2NyZXdfYmFjay5wbmciKTsJCQkgICAgICAgIAoKICAgICAgICBhID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgICBjYW52YXMuY2xlYXIoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShiKTsKICAgICAgICAgIGNhbnZhcy5sb2FkRnJvbUpTT04oYik7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfSBlbHNlIHsKICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAnU2hvdyBCYWNrIFZpZXcnKTsKICAgICAgICAkKCIjdHNoaXJ0RmFjaW5nIikuYXR0cigic3JjIiwgIi4uL2VkaXRvci9pbWcvY3Jld19mcm9udC5wbmciKTsKICAgICAgICBiID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgICBjYW52YXMuY2xlYXIoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShhKTsKICAgICAgICAgIGNhbnZhcy5sb2FkRnJvbUpTT04oYSk7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfQogICAgfSBlbHNlIGlmICh2YWx1ZVNlbGVjdCA9PT0gIi4uL2VkaXRvci9pbWcvbWVuc19sb25nc2xlZXZlX2Zyb250LnBuZyIpIHsKICAgICAgYWxlcnQoKTsKCiAgICAgIGlmICgkKHRoaXMpLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKSA9PSAiU2hvdyBCYWNrIFZpZXciKSB7CiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJ1Nob3cgRnJvbnQgVmlldycpOwogICAgICAgICQoIiN0c2hpcnRGYWNpbmciKS5hdHRyKCJzcmMiLCAiLi4vZWRpdG9yL2ltZy9tZW5zX2xvbmdzbGVldmVfYmFjay5wbmciKTsKICAgICAgICBhID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgICBjYW52YXMuY2xlYXIoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShiKTsKICAgICAgICAgIGNhbnZhcy5sb2FkRnJvbUpTT04oYik7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfSBlbHNlIHsKICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAnU2hvdyBCYWNrIFZpZXcnKTsKICAgICAgICAkKCIjdHNoaXJ0RmFjaW5nIikuYXR0cigic3JjIiwgIi4uL2VkaXRvci9pbWcvbWVuc19sb25nc2xlZXZlX2Zyb250LnBuZyIpOwogICAgICAgIGIgPSBKU09OLnN0cmluZ2lmeShjYW52YXMpOwogICAgICAgIGNhbnZhcy5jbGVhcigpOwoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGEpOwogICAgICAgICAgY2FudmFzLmxvYWRGcm9tSlNPTihhKTsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICB9IGVsc2UgaWYgKHZhbHVlU2VsZWN0ID09PSAiLi4vZWRpdG9yL2ltZy9tZW5zX3RhbmtfZnJvbnQucG5nIikgewogICAgICBpZiAoJCh0aGlzKS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikgPT0gIlNob3cgQmFjayBWaWV3IikgewogICAgICAgICQodGhpcykuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICdTaG93IEZyb250IFZpZXcnKTsKICAgICAgICAkKCIjdHNoaXJ0RmFjaW5nIikuYXR0cigic3JjIiwgIi4uL2VkaXRvci9pbWcvbWVuc190YW5rX2JhY2sucG5nIik7CiAgICAgICAgYSA9IEpTT04uc3RyaW5naWZ5KGNhbnZhcyk7CiAgICAgICAgY2FudmFzLmNsZWFyKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoYik7CiAgICAgICAgICBjYW52YXMubG9hZEZyb21KU09OKGIpOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJ1Nob3cgQmFjayBWaWV3Jyk7CiAgICAgICAgJCgiI3RzaGlydEZhY2luZyIpLmF0dHIoInNyYyIsICIuLi9lZGl0b3IvaW1nL21lbnNfdGFua19mcm9udC5wbmciKTsKICAgICAgICBiID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgICBjYW52YXMuY2xlYXIoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShhKTsKICAgICAgICAgIGNhbnZhcy5sb2FkRnJvbUpTT04oYSk7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfQogICAgfSBlbHNlIGlmICh2YWx1ZVNlbGVjdCA9PT0gIi4uL2VkaXRvci9pbWcvbWVuc19ob29kaWVfZnJvbnQucG5nIikgewogICAgICBpZiAoJCh0aGlzKS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikgPT0gIlNob3cgQmFjayBWaWV3IikgewogICAgICAgICQodGhpcykuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICdTaG93IEZyb250IFZpZXcnKTsKICAgICAgICAkKCIjdHNoaXJ0RmFjaW5nIikuYXR0cigic3JjIiwgIi4uL2VkaXRvci9pbWcvbWVuc19ob29kaWVfYmFjay5wbmciKTsKICAgICAgICBhID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgICBjYW52YXMuY2xlYXIoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShiKTsKICAgICAgICAgIGNhbnZhcy5sb2FkRnJvbUpTT04oYik7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfSBlbHNlIHsKICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAnU2hvdyBCYWNrIFZpZXcnKTsKICAgICAgICAkKCIjdHNoaXJ0RmFjaW5nIikuYXR0cigic3JjIiwgIi4uL2VkaXRvci9pbWcvbWVuc19ob29kaWVfZnJvbnQucG5nIik7CiAgICAgICAgYiA9IEpTT04uc3RyaW5naWZ5KGNhbnZhcyk7CiAgICAgICAgY2FudmFzLmNsZWFyKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoYSk7CiAgICAgICAgICBjYW52YXMubG9hZEZyb21KU09OKGEpOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIH0KICAgIH0KICAgIC8qCWlmICgkKHRoaXMpLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKSA9PSAiU2hvdyBCYWNrIFZpZXciKSB7CiAgICAJCSQodGhpcykuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICdTaG93IEZyb250IFZpZXcnKTsJCQkgICAgICAgIAkJICAgICAgIAogICAgICAgICAkKCIjdHNoaXJ0RmFjaW5nIikuYXR0cigic3JjIiwiaW1nL2NyZXdfYmFjay5wbmciKTsJCQkgICAgICAgIAogICAgICAgICBhID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgICAgY2FudmFzLmNsZWFyKCk7CiAgICAgICAgIHRyeQogICAgICAgICB7CiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShiKTsKICAgICAgICAgICAgY2FudmFzLmxvYWRGcm9tSlNPTihiKTsKICAgICAgICAgfQogICAgICAgICBjYXRjaChlKQogICAgICAgICB7fQogICAgICAgICAKICAgICB9IGVsc2UgewogICAgIAkkKHRoaXMpLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAnU2hvdyBCYWNrIFZpZXcnKTsJCQkgICAgCQkJCSAgICAJCiAgICAgCSQoIiN0c2hpcnRGYWNpbmciKS5hdHRyKCJzcmMiLCJpbWcvY3Jld19mcm9udC5wbmciKTsJCQkgICAgCQogICAgIAliID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAJY2FudmFzLmNsZWFyKCk7CiAgICAgCXRyeQogICAgICAgICB7CiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShhKTsKICAgICAgICAgICAgY2FudmFzLmxvYWRGcm9tSlNPTihhKTsJCQkgICAgICAgICAgIAogICAgICAgICB9CiAgICAgICAgIGNhdGNoKGUpCiAgICAgICAgIHt9CiAgICAgfQkJKi8KCgogICAgY2FudmFzLnJlbmRlckFsbCgpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGNhbnZhcy5jYWxjT2Zmc2V0KCk7CiAgICB9LCAyMDApOwogIH0pOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRleHQnKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHRleHQgPSAkKCIjdGV4dC1zdHJpbmciKS52YWwoKTsKICAgIHZhciB0ZXh0U2FtcGxlID0gbmV3IGZhYnJpYy5UZXh0KHRleHQsIHsKICAgICAgbGVmdDogZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KDAsIDIwMCksCiAgICAgIHRvcDogZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KDAsIDQwMCksCiAgICAgIGZvbnRGYW1pbHk6ICdoZWx2ZXRpY2EnLAogICAgICBjb3JuZXJTdHlsZTogJ3JlY3QnLAogICAgICBjb3JuZXJTaXplOiA3LAogICAgICBwYWRkaW5nOiA3LAogICAgICBjb3JuZXJTdHJva2VDb2xvcjogJ3RyYW5zcGFyZW50JywKICAgICAgLy8gdW5kZXJsaW5lOiB0cnVlLAogICAgICAvLyBvdmVybGluZTp0cnVlLAogICAgICBhbmdsZTogMCwKICAgICAgZmlsbDogJyMwMDAwMDAnLAogICAgICBzY2FsZVg6IDAuNSwKICAgICAgc2NhbGVZOiAwLjUsCiAgICAgIGZvbnRXZWlnaHQ6ICcnLAogICAgICBoYXNSb3RhdGluZ1BvaW50OiB0cnVlCiAgICB9KTsKICAgIGNhbnZhcy5hZGQodGV4dFNhbXBsZSk7CiAgICBjYW52YXMuaXRlbShjYW52YXMuaXRlbS5sZW5ndGggLSAxKS5oYXNSb3RhdGluZ1BvaW50ID0gdHJ1ZTsKICAgICQoIiN0ZXh0ZWRpdG9yIikuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7CiAgICAkKCIjaW1hZ2VlZGl0b3IiKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTsKICB9OwoKICAkKCIjdGV4dC1zdHJpbmciKS5rZXl1cChmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpOwoKICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICd0ZXh0JykgewogICAgICBhY3RpdmVPYmplY3QudGV4dCA9IHRoaXMudmFsdWU7CiAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTsKICAgIH0KICB9KTsKICAkKCIuaW1nLXBvbGFyb2lkIikuY2xpY2soZnVuY3Rpb24gKGUpIHsKICAgICQoIiN0ZXh0ZWRpdG9yIikuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7CiAgICB2YXIgZWwgPSBlLnRhcmdldDsKICAgIC8qdGVtcCBjb2RlKi8KCiAgICB2YXIgb2Zmc2V0ID0gNTA7CiAgICB2YXIgbGVmdCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwICsgb2Zmc2V0LCAyMDAgLSBvZmZzZXQpOwogICAgdmFyIHRvcCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwICsgb2Zmc2V0LCA0MDAgLSBvZmZzZXQpOwogICAgdmFyIGFuZ2xlID0gZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KC0yMCwgNDApOwogICAgdmFyIHdpZHRoID0gZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KDMwLCA1MCk7CgogICAgdmFyIG9wYWNpdHkgPSBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjsKICAgIH0oMC41LCAxKTsKCiAgICBmYWJyaWMuSW1hZ2UuZnJvbVVSTChlbC5zcmMsIGZ1bmN0aW9uIChpbWFnZSkgewogICAgICBpbWFnZS5zZXQoewogICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgdG9wOiB0b3AsCiAgICAgICAgYW5nbGU6IDAsCiAgICAgICAgcGFkZGluZzogNywKICAgICAgICBjb3JuZXJTaXplOiA3LAogICAgICAgIGhhc1JvdGF0aW5nUG9pbnQ6IHRydWUKICAgICAgfSk7IC8vaW1hZ2Uuc2NhbGUoZ2V0UmFuZG9tTnVtKDAuMSwgMC4yNSkpLnNldENvb3JkcygpOwoKICAgICAgY2FudmFzLmFkZChpbWFnZSk7CiAgICB9KTsKICB9KTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1zZWxlY3RlZCcpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpOyAvLyAgICB2YXIgYWN0aXZlR3JvdXAgPSBjYW52YXMuZ2V0QWN0aXZlR3JvdXAoKTsKCiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7CiAgICAgIGNhbnZhcy5yZW1vdmUoYWN0aXZlT2JqZWN0KTsKICAgICAgJCgiI3RleHQtc3RyaW5nIikudmFsKCIiKTsKICAgICAgJCgiI3RleHRlZGl0b3IiKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTsKICAgIH0gZWxzZSBpZiAoYWN0aXZlR3JvdXApIHsKICAgICAgdmFyIG9iamVjdHNJbkdyb3VwID0gYWN0aXZlR3JvdXAuZ2V0T2JqZWN0cygpOwogICAgICBjYW52YXMuZGlzY2FyZEFjdGl2ZUdyb3VwKCk7CiAgICAgIG9iamVjdHNJbkdyb3VwLmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCkgewogICAgICAgIGNhbnZhcy5yZW1vdmUob2JqZWN0KTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyaW5nLXRvLWZyb250Jykub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCksCiAgICAgICAgYWN0aXZlR3JvdXAgPSBjYW52YXMuZ2V0QWN0aXZlR3JvdXAoKTsKCiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7CiAgICAgIGFjdGl2ZU9iamVjdC5icmluZ1RvRnJvbnQoKTsKICAgIH0gZWxzZSBpZiAoYWN0aXZlR3JvdXApIHsKICAgICAgdmFyIG9iamVjdHNJbkdyb3VwID0gYWN0aXZlR3JvdXAuZ2V0T2JqZWN0cygpOwogICAgICBjYW52YXMuZGlzY2FyZEFjdGl2ZUdyb3VwKCk7CiAgICAgIG9iamVjdHNJbkdyb3VwLmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCkgewogICAgICAgIG9iamVjdC5icmluZ1RvRnJvbnQoKTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbmQtdG8tYmFjaycpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpLAogICAgICAgIGFjdGl2ZUdyb3VwID0gY2FudmFzLmdldEFjdGl2ZUdyb3VwKCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCkgewogICAgICBhY3RpdmVPYmplY3Quc2VuZFRvQmFjaygpOwogICAgfSBlbHNlIGlmIChhY3RpdmVHcm91cCkgewogICAgICB2YXIgb2JqZWN0c0luR3JvdXAgPSBhY3RpdmVHcm91cC5nZXRPYmplY3RzKCk7CiAgICAgIGNhbnZhcy5kaXNjYXJkQWN0aXZlR3JvdXAoKTsKICAgICAgb2JqZWN0c0luR3JvdXAuZm9yRWFjaChmdW5jdGlvbiAob2JqZWN0KSB7CiAgICAgICAgb2JqZWN0LnNlbmRUb0JhY2soKTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgJCgnLnNldEZvbnQnKS5jbGljayhmdW5jdGlvbiAoZSkgewogICAgdmFyIGFjdGl2ZU9iamVjdCA9IGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKTsKCiAgICBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC50eXBlID09PSAndGV4dCcpIHsKICAgICAgYWN0aXZlT2JqZWN0LmZvbnRGYW1pbHkgPSBlLnRhcmdldC5pbm5lclRleHQ7CiAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTsKICAgIH0KICB9KTsKICAkKCIjdGV4dC1ib2xkIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgdmFyIGFjdGl2ZU9iamVjdCA9IGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKTsKCiAgICBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC50eXBlID09PSAndGV4dCcpIHsKICAgICAgYWN0aXZlT2JqZWN0LmZvbnRXZWlnaHQgPSBhY3RpdmVPYmplY3QuZm9udFdlaWdodCA9PSAnYm9sZCcgPyAnJyA6ICdib2xkJzsKICAgICAgY2FudmFzLnJlbmRlckFsbCgpOwogICAgfQogIH0pOwogICQoIiN0ZXh0LWl0YWxpYyIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgIGFjdGl2ZU9iamVjdC5mb250U3R5bGUgPSBhY3RpdmVPYmplY3QuZm9udFN0eWxlID09ICdpdGFsaWMnID8gJycgOiAnaXRhbGljJzsKICAgICAgY2FudmFzLnJlbmRlckFsbCgpOwogICAgfQogIH0pOwogICQoIiN0ZXh0LXN0cmlrZSIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgIGFjdGl2ZU9iamVjdC5saW5ldGhyb3VnaCA9IGFjdGl2ZU9iamVjdC5saW5ldGhyb3VnaCA9PSB0cnVlID8gJycgOiB0cnVlOwogICAgICAkKCIjdGV4dC1pdGFsaWMiKS5jbGljaygpOwogICAgICAkKCIjdGV4dC1pdGFsaWMiKS5jbGljaygpOwogICAgfQogIH0pOwogICQoIiN0ZXh0LXVuZGVybGluZSIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgIGFjdGl2ZU9iamVjdC51bmRlcmxpbmUgPSBhY3RpdmVPYmplY3QudW5kZXJsaW5lID09IHRydWUgPyAnJyA6IHRydWU7CiAgICAgICQoIiN0ZXh0LWl0YWxpYyIpLmNsaWNrKCk7CiAgICAgICQoIiN0ZXh0LWl0YWxpYyIpLmNsaWNrKCk7CiAgICB9CiAgfSk7CiAgJCgiI3RleHQtbGVmdCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgIGFjdGl2ZU9iamVjdC50ZXh0QWxpZ24gPSAnbGVmdCc7CiAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTsKICAgIH0KICB9KTsKICAkKCIjdGV4dC1jZW50ZXIiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpOwoKICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICd0ZXh0JykgewogICAgICBhY3RpdmVPYmplY3QudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTsKICAgIH0KICB9KTsKICAkKCIjdGV4dC1yaWdodCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgIGFjdGl2ZU9iamVjdC50ZXh0QWxpZ24gPSAncmlnaHQnOwogICAgICBjYW52YXMucmVuZGVyQWxsKCk7CiAgICB9CiAgfSk7CiAgJCgiI2ZvbnQtZmFtaWx5IikuY2hhbmdlKGZ1bmN0aW9uICgpIHsKICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgIGFjdGl2ZU9iamVjdC5mb250RmFtaWx5ID0gdGhpcy52YWx1ZTsKICAgICAgY2FudmFzLnJlbmRlckFsbCgpOwogICAgfQogIH0pOwogICQoJyN0ZXh0LWJnY29sb3InKS5taW5pQ29sb3JzKHsKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGhleCwgcmdiKSB7CiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7CgogICAgICBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC50eXBlID09PSAndGV4dCcpIHsKICAgICAgICBhY3RpdmVPYmplY3QuYmFja2dyb3VuZENvbG9yID0gdGhpcy52YWx1ZTsKICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGhleCwgcmdiKSB7Ly8KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoaGV4LCByZ2IpIHsvLwogICAgfQogIH0pOwogICQoJyN0ZXh0LWZvbnRjb2xvcicpLm1pbmlDb2xvcnMoewogICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoaGV4LCByZ2IpIHsKICAgICAgdmFyIGFjdGl2ZU9iamVjdCA9IGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKTsKCiAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgIGFjdGl2ZU9iamVjdC5maWxsID0gdGhpcy52YWx1ZTsKICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGhleCwgcmdiKSB7Ly8KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoaGV4LCByZ2IpIHsvLwogICAgfQogIH0pOwogICQoJyN0ZXh0LXN0cm9rZWNvbG9yJykubWluaUNvbG9ycyh7CiAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShoZXgsIHJnYikgewogICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpOwoKICAgICAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgYWN0aXZlT2JqZWN0LnN0cm9rZVN0eWxlID0gdGhpcy52YWx1ZTsKICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGhleCwgcmdiKSB7Ly8KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoaGV4LCByZ2IpIHsvLwogICAgfQogIH0pOyAvL2NhbnZhcy5hZGQobmV3IGZhYnJpYy5mYWJyaWMuT2JqZWN0KHtoYXNCb3JkZXJzOnRydWUsaGFzQ29udHJvbHM6ZmFsc2UsaGFzUm90YXRpbmdQb2ludDpmYWxzZSxzZWxlY3RhYmxlOmZhbHNlLHR5cGU6J3JlY3QnfSkpOwoKICAkKCIjZHJhd2luZ0FyZWEiKS5ob3ZlcihmdW5jdGlvbiAoKSB7CiAgICBjYW52YXMuYWRkKGxpbmUxKTsKICAgIGNhbnZhcy5hZGQobGluZTIpOwogICAgY2FudmFzLmFkZChsaW5lMyk7CiAgICBjYW52YXMuYWRkKGxpbmU0KTsKICAgIGNhbnZhcy5yZW5kZXJBbGwoKTsKICB9LCBmdW5jdGlvbiAoKSB7CiAgICBjYW52YXMucmVtb3ZlKGxpbmUxKTsKICAgIGNhbnZhcy5yZW1vdmUobGluZTIpOwogICAgY2FudmFzLnJlbW92ZShsaW5lMyk7CiAgICBjYW52YXMucmVtb3ZlKGxpbmU0KTsKICAgIGNhbnZhcy5yZW5kZXJBbGwoKTsKICB9KTsKICAkKCcuY29sb3ItcHJldmlldycpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIHZhciBjb2xvciA9ICQodGhpcykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2hpcnREaXYiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICB9KTsKICAkKCcjZmxpcCcpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgIGlmICgkKHRoaXMpLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiKSA9PSAiU2hvdyBCYWNrIFZpZXciKSB7CiAgICAgICQodGhpcykuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICdTaG93IEZyb250IFZpZXcnKTsKICAgICAgJCgiI3RzaGlydEZhY2luZyIpLmF0dHIoInNyYyIsICJpbWcvY3Jld19iYWNrLnBuZyIpOwogICAgICBhID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTsKICAgICAgY2FudmFzLmNsZWFyKCk7CgogICAgICB0cnkgewogICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShiKTsKICAgICAgICBjYW52YXMubG9hZEZyb21KU09OKGIpOwogICAgICB9IGNhdGNoIChlKSB7fQogICAgfSBlbHNlIHsKICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJ1Nob3cgQmFjayBWaWV3Jyk7CiAgICAgICQoIiN0c2hpcnRGYWNpbmciKS5hdHRyKCJzcmMiLCAiaW1nL2NyZXdfZnJvbnQucG5nIik7CiAgICAgIGIgPSBKU09OLnN0cmluZ2lmeShjYW52YXMpOwogICAgICBjYW52YXMuY2xlYXIoKTsKCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGEpOwogICAgICAgIGNhbnZhcy5sb2FkRnJvbUpTT04oYSk7CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9CgogICAgY2FudmFzLnJlbmRlckFsbCgpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGNhbnZhcy5jYWxjT2Zmc2V0KCk7CiAgICB9LCAyMDApOwogIH0pOwogICQoIi5jbGVhcmZpeCBidXR0b24sYSIpLnRvb2x0aXAoKTsKICBsaW5lMSA9IG5ldyBmYWJyaWMuTGluZShbMCwgMCwgMjAwLCAwXSwgewogICAgInN0cm9rZSI6ICIjMDAwMDAwIiwKICAgICJzdHJva2VXaWR0aCI6IDEsCiAgICBoYXNCb3JkZXJzOiBmYWxzZSwKICAgIGhhc0NvbnRyb2xzOiBmYWxzZSwKICAgIGhhc1JvdGF0aW5nUG9pbnQ6IGZhbHNlLAogICAgc2VsZWN0YWJsZTogZmFsc2UKICB9KTsKICBsaW5lMiA9IG5ldyBmYWJyaWMuTGluZShbMTk5LCAwLCAyMDAsIDM5OV0sIHsKICAgICJzdHJva2UiOiAiIzAwMDAwMCIsCiAgICAic3Ryb2tlV2lkdGgiOiAxLAogICAgaGFzQm9yZGVyczogZmFsc2UsCiAgICBoYXNDb250cm9sczogZmFsc2UsCiAgICBoYXNSb3RhdGluZ1BvaW50OiBmYWxzZSwKICAgIHNlbGVjdGFibGU6IGZhbHNlCiAgfSk7CiAgbGluZTMgPSBuZXcgZmFicmljLkxpbmUoWzAsIDAsIDAsIDQwMF0sIHsKICAgICJzdHJva2UiOiAiIzAwMDAwMCIsCiAgICAic3Ryb2tlV2lkdGgiOiAxLAogICAgaGFzQm9yZGVyczogZmFsc2UsCiAgICBoYXNDb250cm9sczogZmFsc2UsCiAgICBoYXNSb3RhdGluZ1BvaW50OiBmYWxzZSwKICAgIHNlbGVjdGFibGU6IGZhbHNlCiAgfSk7CiAgbGluZTQgPSBuZXcgZmFicmljLkxpbmUoWzAsIDQwMCwgMjAwLCAzOTldLCB7CiAgICAic3Ryb2tlIjogIiMwMDAwMDAiLAogICAgInN0cm9rZVdpZHRoIjogMSwKICAgIGhhc0JvcmRlcnM6IGZhbHNlLAogICAgaGFzQ29udHJvbHM6IGZhbHNlLAogICAgaGFzUm90YXRpbmdQb2ludDogZmFsc2UsCiAgICBzZWxlY3RhYmxlOiBmYWxzZQogIH0pOwp9KTsgLy9kb2MgcmVhZHkKCmZ1bmN0aW9uIGdldFJhbmRvbU51bShtaW4sIG1heCkgewogIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47Cn0KCmZ1bmN0aW9uIG9uT2JqZWN0U2VsZWN0ZWQoZSkgewogIHZhciBzZWxlY3RlZE9iamVjdCA9IGUudGFyZ2V0OwogICQoIiN0ZXh0LXN0cmluZyIpLnZhbCgiIik7CiAgc2VsZWN0ZWRPYmplY3QuaGFzUm90YXRpbmdQb2ludCA9IHRydWU7CgogIGlmIChzZWxlY3RlZE9iamVjdCAmJiBzZWxlY3RlZE9iamVjdC50eXBlID09PSAndGV4dCcpIHsKICAgIC8vZGlzcGxheSB0ZXh0IGVkaXRvcgkgICAgCQogICAgJCgiI3RleHRlZGl0b3IiKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTsKICAgICQoIiN0ZXh0LXN0cmluZyIpLnZhbChzZWxlY3RlZE9iamVjdC5nZXRUZXh0KCkpOwogICAgJCgnI3RleHQtZm9udGNvbG9yJykubWluaUNvbG9ycygndmFsdWUnLCBzZWxlY3RlZE9iamVjdC5maWxsKTsKICAgICQoJyN0ZXh0LXN0cm9rZWNvbG9yJykubWluaUNvbG9ycygndmFsdWUnLCBzZWxlY3RlZE9iamVjdC5zdHJva2VTdHlsZSk7CiAgICAkKCIjaW1hZ2VlZGl0b3IiKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTsKICB9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0ICYmIHNlbGVjdGVkT2JqZWN0LnR5cGUgPT09ICdpbWFnZScpIHsKICAgIC8vZGlzcGxheSBpbWFnZSBlZGl0b3IKICAgICQoIiN0ZXh0ZWRpdG9yIikuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsKICAgICQoIiNpbWFnZWVkaXRvciIpLmNzcygnZGlzcGxheScsICdibG9jaycpOwogIH0KfQoKZnVuY3Rpb24gb25TZWxlY3RlZENsZWFyZWQoZSkgewogICQoIiN0ZXh0ZWRpdG9yIikuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsKICAkKCIjdGV4dC1zdHJpbmciKS52YWwoIiIpOwogICQoIiNpbWFnZWVkaXRvciIpLmNzcygnZGlzcGxheScsICdub25lJyk7Cn0gLy8gIGZ1bmN0aW9uIHNldEZvbnQoZm9udCl7Ci8vIAkgIHZhciBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCk7Ci8vICAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICd0ZXh0JykgewovLyAgICAgICAgIGFjdGl2ZU9iamVjdC5mb250RmFtaWx5ID0gZm9udDsKLy8gICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7Ci8vICAgICAgIH0KLy8gICB9CgoKZnVuY3Rpb24gcmVtb3ZlV2hpdGUoKSB7CiAgdmFyIGFjdGl2ZU9iamVjdCA9IGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKTsKCiAgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ2ltYWdlJykgewogICAgYWN0aXZlT2JqZWN0LmZpbHRlcnNbMl0gPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlV2hpdGUoewogICAgICBocmVzaG9sZDogMTAwLAogICAgICBkaXN0YW5jZTogMTAKICAgIH0pOyAvLzAtMjU1LCAwLTI1NQoKICAgIGFjdGl2ZU9iamVjdC5hcHBseUZpbHRlcnMoY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpOwogIH0KfQ=="},{"version":3,"sources":["C:/Users/icald/VueJS/store_app/src/editor/js/tshirtEditor.js"],"names":["canvas","tshirts","Array","a","b","line1","line2","line3","line4","$","document","ready","fabric","Canvas","hoverCursor","selection","selectionBorderColor","on","e","target","opacity","onObjectSelected","onSelectedCleared","findTarget","originalFn","apply","arguments","_hoveredTarget","fire","valueSelect","val","change","attr","console","log","click","querySelector","setAttribute","prop","JSON","stringify","clear","json","parse","loadFromJSON","alert","renderAll","setTimeout","calcOffset","getElementById","onclick","text","textSample","Text","left","util","getRandomInt","top","fontFamily","cornerStyle","cornerSize","padding","cornerStrokeColor","angle","fill","scaleX","scaleY","fontWeight","hasRotatingPoint","add","item","length","css","keyup","activeObject","getActiveObject","type","value","el","offset","width","min","max","Math","random","Image","fromURL","src","image","set","remove","activeGroup","objectsInGroup","getObjects","discardActiveGroup","forEach","object","getActiveGroup","bringToFront","sendToBack","innerText","fontStyle","linethrough","underline","textAlign","miniColors","hex","rgb","backgroundColor","open","close","strokeStyle","hover","color","style","tooltip","Line","hasBorders","hasControls","selectable","getRandomNum","selectedObject","getText","removeWhite","filters","RemoveWhite","hreshold","distance","applyFilters","bind"],"mappings":"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","sourcesContent":["var canvas;\nvar tshirts = new Array(); //prototype: [{style:'x',color:'white',front:'a',back:'b',price:{tshirt:'12.95',frontPrint:'4.99',backPrint:'4.99',total:'22.47'}}]\nvar a;\nvar b;\nvar line1;\nvar line2;\nvar line3;\nvar line4;\n \t$(document).ready(function() {\n\t\t//setup front side canvas \n \t\tcanvas = new fabric.Canvas('tcanvas', {\n\t\t  hoverCursor: 'pointer',\n\t\t  selection: true,\n\t\t  selectionBorderColor:'blue'\n\t\t});\n \t\tcanvas.on({\n\t\t\t 'object:moving': function(e) {\t\t  \t\n\t\t\t    e.target.opacity = 0.5;\n\t\t\t  },\n\t\t\t  'object:modified': function(e) {\t\t  \t\n\t\t\t    e.target.opacity = 1;\n\t\t\t  },\n\t\t\t 'object:selected':onObjectSelected,\n\t\t\t 'selection:cleared':onSelectedCleared\n\t\t });\n\t\t// piggyback on `canvas.findTarget`, to fire \"object:over\" and \"object:out\" events\n \t\tcanvas.findTarget = (function(originalFn) {\n\t\t  return function() {\n\t\t    var target = originalFn.apply(this, arguments);\n\t\t    if (target) {\n\t\t      if (this._hoveredTarget !== target) {\n\t\t    \t  canvas.fire('object:over', { target: target });\n\t\t        if (this._hoveredTarget) {\n\t\t        \tcanvas.fire('object:out', { target: this._hoveredTarget });\n\t\t        }\n\t\t        this._hoveredTarget = target;\n\t\t      }\n\t\t    }\n\t\t    else if (this._hoveredTarget) {\n\t\t    \tcanvas.fire('object:out', { target: this._hoveredTarget });\n\t\t      this._hoveredTarget = null;\n\t\t    }\n\t\t    return target;\n\t\t  };\n\t\t})(canvas.findTarget);\n\n \t\tcanvas.on('object:over', function(e) {\t\t\n\t\t  //e.target.setFill('red');\n\t\t  //canvas.renderAll();\n\t\t});\n\t\t\n \t\tcanvas.on('object:out', function(e) {\t\t\n\t\t  //e.target.setFill('green');\n\t\t  //canvas.renderAll();\n\t\t});\n\n\t\t  \n\t\t  \n\t\t  \n\n\t\t  \t\tvar valueSelect = $(\"#tshirttype\").val();\n\t\t$(\"#tshirttype\").change(function(){\n\t\t\tvalueSelect = $(this).val();\n\t\t\t$(\"img[name=tshirtview]\").attr(\"src\", $(this).val());\n\t\tconsole.log(valueSelect)\n\t\t});\n\t\t  \n\t\t  \n\t\t  \n\t\t  $('#flipback').click(\n\t\t\t  \n\t\t\t  function () {\n\t\t\t\t  document.querySelector('#tshirtFacing').setAttribute('src', '../editor/img/crew_back.png');\n\t\t\t\t  if (valueSelect === \"../editor/img/crew_front.png\") {\n\t\t\t\t\t  \n\t\t\t\t   $(\"#tshirtFacing\").prop(\"src\",\"../editor/img/crew_back.png\");\n                   if ($(this).attr(\"data-original-title\") == \"Show Back View\") {\n\t\t\t   \t\t$(this).attr('data-original-title', 'Show Front View');\t\t\t        \t\t       \n\t\t\t        // $(\"#tshirtFacing\").attr(\"src\",\"../editor/img/crew_back.png\");\t\t\t        \n\t\t\t        a = JSON.stringify(canvas);\n\t\t\t        canvas.clear();\n\t\t\t        try\n\t\t\t        {\n\t\t\t           var json = JSON.parse(b);\n\t\t\t           canvas.loadFromJSON(b);\n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t        \n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t    \t$(this).attr('data-original-title', 'Show Back View');\t\t\t    \t\t\t\t    \t\n\t\t\t    \t$(\"#tshirtFacing\").attr(\"src\",\"../editor/img/crew_front.png\");\t\t\t    \t\n\t\t\t    \tb = JSON.stringify(canvas);\n\t\t\t    \tcanvas.clear();\n\t\t\t    \ttry\n\t\t\t        {\n\t\t\t           var json = JSON.parse(a);\n\t\t\t           canvas.loadFromJSON(a);\t\t\t           \n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t    }\t\t\n               }\n               else if (valueSelect === \"../editor/img/mens_longsleeve_front.png\") {\n\t\t\t\t   alert()\n\n                  if ($(this).attr(\"data-original-title\") == \"Show Back View\") {\n\t\t\t   \t\t$(this).attr('data-original-title', 'Show Front View');\t\t\t        \t\t       \n\t\t\t        $(\"#tshirtFacing\").attr(\"src\",\"../editor/img/mens_longsleeve_back.png\");\t\t\t        \n\t\t\t        a = JSON.stringify(canvas);\n\t\t\t        canvas.clear();\n\t\t\t        try\n\t\t\t        {\n\t\t\t           var json = JSON.parse(b);\n\t\t\t           canvas.loadFromJSON(b);\n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t        \n\t\t\t    } else {\n\t\t\t    \t$(this).attr('data-original-title', 'Show Back View');\t\t\t    \t\t\t\t    \t\n\t\t\t    \t$(\"#tshirtFacing\").attr(\"src\",\"../editor/img/mens_longsleeve_front.png\");\t\t\t    \t\n\t\t\t    \tb = JSON.stringify(canvas);\n\t\t\t    \tcanvas.clear();\n\t\t\t    \ttry\n\t\t\t        {\n\t\t\t           var json = JSON.parse(a);\n\t\t\t           canvas.loadFromJSON(a);\t\t\t           \n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t    }\t\n               }\n               else if (valueSelect === \"../editor/img/mens_tank_front.png\") {\n                  if ($(this).attr(\"data-original-title\") == \"Show Back View\") {\n\t\t\t   \t\t$(this).attr('data-original-title', 'Show Front View');\t\t\t        \t\t       \n\t\t\t        $(\"#tshirtFacing\").attr(\"src\",\"../editor/img/mens_tank_back.png\");\t\t\t        \n\t\t\t        a = JSON.stringify(canvas);\n\t\t\t        canvas.clear();\n\t\t\t        try\n\t\t\t        {\n\t\t\t           var json = JSON.parse(b);\n\t\t\t           canvas.loadFromJSON(b);\n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t        \n\t\t\t    } else {\n\t\t\t    \t$(this).attr('data-original-title', 'Show Back View');\t\t\t    \t\t\t\t    \t\n\t\t\t    \t$(\"#tshirtFacing\").attr(\"src\",\"../editor/img/mens_tank_front.png\");\t\t\t    \t\n\t\t\t    \tb = JSON.stringify(canvas);\n\t\t\t    \tcanvas.clear();\n\t\t\t    \ttry\n\t\t\t        {\n\t\t\t           var json = JSON.parse(a);\n\t\t\t           canvas.loadFromJSON(a);\t\t\t           \n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t    }\t\n               }\n               else if (valueSelect === \"../editor/img/mens_hoodie_front.png\") {\n                  if ($(this).attr(\"data-original-title\") == \"Show Back View\") {\n\t\t\t   \t\t$(this).attr('data-original-title', 'Show Front View');\t\t\t        \t\t       \n\t\t\t        $(\"#tshirtFacing\").attr(\"src\",\"../editor/img/mens_hoodie_back.png\");\t\t\t        \n\t\t\t        a = JSON.stringify(canvas);\n\t\t\t        canvas.clear();\n\t\t\t        try\n\t\t\t        {\n\t\t\t           var json = JSON.parse(b);\n\t\t\t           canvas.loadFromJSON(b);\n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t        \n\t\t\t    } else {\n\t\t\t    \t$(this).attr('data-original-title', 'Show Back View');\t\t\t    \t\t\t\t    \t\n\t\t\t    \t$(\"#tshirtFacing\").attr(\"src\",\"../editor/img/mens_hoodie_front.png\");\t\t\t    \t\n\t\t\t    \tb = JSON.stringify(canvas);\n\t\t\t    \tcanvas.clear();\n\t\t\t    \ttry\n\t\t\t        {\n\t\t\t           var json = JSON.parse(a);\n\t\t\t           canvas.loadFromJSON(a);\t\t\t           \n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t    }\t\n               }\n\t\t\t   /*\tif ($(this).attr(\"data-original-title\") == \"Show Back View\") {\n\t\t\t   \t\t$(this).attr('data-original-title', 'Show Front View');\t\t\t        \t\t       \n\t\t\t        $(\"#tshirtFacing\").attr(\"src\",\"img/crew_back.png\");\t\t\t        \n\t\t\t        a = JSON.stringify(canvas);\n\t\t\t        canvas.clear();\n\t\t\t        try\n\t\t\t        {\n\t\t\t           var json = JSON.parse(b);\n\t\t\t           canvas.loadFromJSON(b);\n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t        \n\t\t\t    } else {\n\t\t\t    \t$(this).attr('data-original-title', 'Show Back View');\t\t\t    \t\t\t\t    \t\n\t\t\t    \t$(\"#tshirtFacing\").attr(\"src\",\"img/crew_front.png\");\t\t\t    \t\n\t\t\t    \tb = JSON.stringify(canvas);\n\t\t\t    \tcanvas.clear();\n\t\t\t    \ttry\n\t\t\t        {\n\t\t\t           var json = JSON.parse(a);\n\t\t\t           canvas.loadFromJSON(a);\t\t\t           \n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t    }\t\t*/\n\t\t\t   \tcanvas.renderAll();\n\t\t\t   \tsetTimeout(function() {\n\t\t\t   \t\tcanvas.calcOffset();\n\t\t\t    },200);\t   \t\n        });\n\t\t \t\t \t \n\t\tdocument.getElementById('add-text').onclick = function() {\n\t\t\tvar text = $(\"#text-string\").val();\n\t\t    var textSample = new fabric.Text(text, {\n\t\t\t\tleft: fabric.util.getRandomInt(0, 200),\n\t\t\t\ttop: fabric.util.getRandomInt(0, 400),\n\t\t\t\tfontFamily: 'helvetica',\n\t\t\t\tcornerStyle:'rect',\n\t\t\t\tcornerSize: 7,\n\t\t\t\tpadding: 7,\n\t\t\t\tcornerStrokeColor:'transparent',\n\t\t\t\t// underline: true,\n\t\t\t\t// overline:true,\n\t\t\t\tangle: 0,\n\t\t\t\tfill: '#000000',\n\t\t\t\tscaleX: 0.5,\n\t\t\t\tscaleY: 0.5,\n\t\t\t\tfontWeight: '',\n\t\t\t\thasRotatingPoint:true\n\t\t    });\t\t    \n            canvas.add(textSample);\t\n            canvas.item(canvas.item.length-1).hasRotatingPoint = true;    \n            $(\"#texteditor\").css('display', 'block');\n            $(\"#imageeditor\").css('display', 'block');\n\t  \t};\n\t  \t$(\"#text-string\").keyup(function(){\t  \t\t\n\t  \t\tvar activeObject = canvas.getActiveObject();\n\t\t      if (activeObject && activeObject.type === 'text') {\n\t\t    \t  activeObject.text = this.value;\n\t\t    \t  canvas.renderAll();\n\t\t      }\n\t  \t});\n\t\t$(\".img-polaroid\").click(function (e) {\n\t\t\t$(\"#texteditor\").css('display', 'block');\n\t  \t\tvar el = e.target;\n\t  \t\t/*temp code*/\n\t  \t\tvar offset = 50;\n\t        var left = fabric.util.getRandomInt(0 + offset, 200 - offset);\n\t        var top = fabric.util.getRandomInt(0 + offset, 400 - offset);\n\t        var angle = fabric.util.getRandomInt(-20, 40);\n\t        var width = fabric.util.getRandomInt(30, 50);\n\t        var opacity = (function(min, max){ return Math.random() * (max - min) + min; })(0.5, 1);\n\t        \n\t  \t\tfabric.Image.fromURL(el.src, function(image) {\n\t\t          image.set({\n\t\t            left: left,\n\t\t            top: top,\n\t\t            angle: 0,\n\t\t            padding: 7,\n\t\t            cornerSize: 7,\n\t      \t  \t\thasRotatingPoint:true\n\t\t          });\n\t\t          //image.scale(getRandomNum(0.1, 0.25)).setCoords();\n\t\t          canvas.add(image);\n\t\t        });\n\t  \t});\t  \t\t  \n\t  \tdocument.getElementById('remove-selected').onclick = function() {\t\t  \n\t\t  var activeObject = canvas.getActiveObject(); \n\t\t    //    var activeGroup = canvas.getActiveGroup();\n\t\t    if (activeObject) {\n\t\t      \tcanvas.remove(activeObject);\n\t\t\t\t$(\"#text-string\").val(\"\");\n            \t$(\"#texteditor\").css('display', 'block');\n\t\t    }\n\t\t    else if (activeGroup) {\n\t\t      var objectsInGroup = activeGroup.getObjects();\n\t\t      canvas.discardActiveGroup();\n\t\t      objectsInGroup.forEach(function(object) {\n\t\t        canvas.remove(object);\n\t\t      });\n\t\t    }\n\t  \t};\n\t  \tdocument.getElementById('bring-to-front').onclick = function() {\t\t  \n\t\t    var activeObject = canvas.getActiveObject(),\n\t\t        activeGroup = canvas.getActiveGroup();\n\t\t    if (activeObject) {\n\t\t      activeObject.bringToFront();\n\t\t    }\n\t\t    else if (activeGroup) {\n\t\t      var objectsInGroup = activeGroup.getObjects();\n\t\t      canvas.discardActiveGroup();\n\t\t      objectsInGroup.forEach(function(object) {\n\t\t        object.bringToFront();\n\t\t      });\n\t\t    }\n\t  \t};\n\t  \tdocument.getElementById('send-to-back').onclick = function() {\t\t  \n\t\t    var activeObject = canvas.getActiveObject(),\n\t\t        activeGroup = canvas.getActiveGroup();\n\t\t    if (activeObject) {\n\t\t      activeObject.sendToBack();\n\t\t    }\n\t\t    else if (activeGroup) {\n\t\t      var objectsInGroup = activeGroup.getObjects();\n\t\t      canvas.discardActiveGroup();\n\t\t      objectsInGroup.forEach(function(object) {\n\t\t        object.sendToBack();\n\t\t      });\n\t\t    }\n\t\t};\t\n\t\t$('.setFont').click(function (e) {\n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.fontFamily = e.target.innerText;\n\t\t\t\tcanvas.renderAll();\n\t\t\t}\n\t\t});\t  \n\t  \t$(\"#text-bold\").click(function() {\t\t  \n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.fontWeight = (activeObject.fontWeight == 'bold' ? '' : 'bold');\t\t    \n\t\t\t\tcanvas.renderAll();\n\t\t\t}\n\t\t});\n\t\t$(\"#text-italic\").click(function() {\t\t \n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.fontStyle = (activeObject.fontStyle == 'italic' ? '' : 'italic');\t\t    \n\t\t\t\tcanvas.renderAll();\n\t\t\t}\n\t\t});\n\t\t$(\"#text-strike\").click(function() {\t\t  \n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.linethrough = (activeObject.linethrough == true ? '' : true);\n\t\t\t\t$(\"#text-italic\").click();\n\t\t\t\t$(\"#text-italic\").click();\n\t\t\t}\n\t\t});\n\t\t$(\"#text-underline\").click(function () {\n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.underline = (activeObject.underline == true ? '' : true);\n\t\t\t\t$(\"#text-italic\").click();\n\t\t\t\t$(\"#text-italic\").click();\n\t\t\t}\n\t\t});\n\t  \t$(\"#text-left\").click(function() {\t\t  \n\t\t  var activeObject = canvas.getActiveObject();\n\t\t  if (activeObject && activeObject.type === 'text') {\n\t\t\t  activeObject.textAlign = 'left';\n\t\t    canvas.renderAll();\n\t\t  }\n\t\t});\n\t  \t$(\"#text-center\").click(function() {\t\t  \n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.textAlign = 'center';\t\t    \n\t\t\t\tcanvas.renderAll();\n\t\t\t}\n\t\t});\n\t  \t$(\"#text-right\").click(function() {\t\t  \n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.textAlign = 'right';\t\t    \n\t\t\t\tcanvas.renderAll();\n\t\t\t}\n\t\t});\t  \n\t \t $(\"#font-family\").change(function() {\n\t\t\tvar activeObject = canvas.getActiveObject();\n\t\t\tif (activeObject && activeObject.type === 'text') {\n\t\t\t\tactiveObject.fontFamily = this.value;\n\t\t\t\tcanvas.renderAll();\n\t\t\t}\n\t    });\t  \n\t\t$('#text-bgcolor').miniColors({\n\t\t\tchange: function(hex, rgb) {\n\t\t\t  var activeObject = canvas.getActiveObject();\n\t\t      if (activeObject && activeObject.type === 'text') {\n\t\t    \t  activeObject.backgroundColor = this.value;\n\t\t        canvas.renderAll();\n\t\t      }\n\t\t\t},\n\t\t\topen: function(hex, rgb) {\n\t\t\t\t//\n\t\t\t},\n\t\t\tclose: function(hex, rgb) {\n\t\t\t\t//\n\t\t\t}\n\t\t});\t\t\n\t\t$('#text-fontcolor').miniColors({\n\t\t\tchange: function(hex, rgb) {\n\t\t\t  var activeObject = canvas.getActiveObject();\n\t\t      if (activeObject && activeObject.type === 'text') {\n\t\t    \t  activeObject.fill = this.value;\n\t\t    \t  canvas.renderAll();\n\t\t      }\n\t\t\t},\n\t\t\topen: function(hex, rgb) {\n\t\t\t\t//\n\t\t\t},\n\t\t\tclose: function(hex, rgb) {\n\t\t\t\t//\n\t\t\t}\n\t\t});\n\t\t$('#text-strokecolor').miniColors({\n\t\t\tchange: function(hex, rgb) {\n\t\t\t  var activeObject = canvas.getActiveObject();\n\t\t      if (activeObject && activeObject.type === 'text') {\n\t\t    \t  activeObject.strokeStyle = this.value;\n\t\t    \t  canvas.renderAll();\n\t\t      }\n\t\t\t},\n\t\t\topen: function(hex, rgb) {\n\t\t\t\t//\n\t\t\t},\n\t\t\tclose: function(hex, rgb) {\n\t\t\t\t//\n\t\t\t}\n\t\t});\n\t\n\t\t//canvas.add(new fabric.fabric.Object({hasBorders:true,hasControls:false,hasRotatingPoint:false,selectable:false,type:'rect'}));\n\t   $(\"#drawingArea\").hover(\n\t        function() { \t        \t\n\t        \t canvas.add(line1);\n\t\t         canvas.add(line2);\n\t\t         canvas.add(line3);\n\t\t         canvas.add(line4); \n\t\t         canvas.renderAll();\n\t        },\n\t        function() {\t        \t\n\t        \t canvas.remove(line1);\n\t\t         canvas.remove(line2);\n\t\t         canvas.remove(line3);\n\t\t         canvas.remove(line4);\n\t\t         canvas.renderAll();\n\t        }\n\t    );\n\t   \n\t   $('.color-preview').click(function(){\n\t\t   var color = $(this).css(\"background-color\");\n\t\t   document.getElementById(\"shirtDiv\").style.backgroundColor = color;\t\t   \n\t   });\n\t   \n\t   $('#flip').click(\n\t\t   function() {\t\t\t   \n\t\t\t   \tif ($(this).attr(\"data-original-title\") == \"Show Back View\") {\n\t\t\t   \t\t$(this).attr('data-original-title', 'Show Front View');\t\t\t        \t\t       \n\t\t\t        $(\"#tshirtFacing\").attr(\"src\",\"img/crew_back.png\");\t\t\t        \n\t\t\t        a = JSON.stringify(canvas);\n\t\t\t        canvas.clear();\n\t\t\t        try\n\t\t\t        {\n\t\t\t           var json = JSON.parse(b);\n\t\t\t           canvas.loadFromJSON(b);\n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t        \n\t\t\t    } else {\n\t\t\t    \t$(this).attr('data-original-title', 'Show Back View');\t\t\t    \t\t\t\t    \t\n\t\t\t    \t$(\"#tshirtFacing\").attr(\"src\",\"img/crew_front.png\");\t\t\t    \t\n\t\t\t    \tb = JSON.stringify(canvas);\n\t\t\t    \tcanvas.clear();\n\t\t\t    \ttry\n\t\t\t        {\n\t\t\t           var json = JSON.parse(a);\n\t\t\t           canvas.loadFromJSON(a);\t\t\t           \n\t\t\t        }\n\t\t\t        catch(e)\n\t\t\t        {}\n\t\t\t    }\t\t\n\t\t\t   \tcanvas.renderAll();\n\t\t\t   \tsetTimeout(function() {\n\t\t\t   \t\tcanvas.calcOffset();\n\t\t\t    },200);\t\t\t   \t\n        });\t   \n\t   $(\".clearfix button,a\").tooltip();\n\t   line1 = new fabric.Line([0,0,200,0], {\"stroke\":\"#000000\", \"strokeWidth\":1,hasBorders:false,hasControls:false,hasRotatingPoint:false,selectable:false});\n\t   line2 = new fabric.Line([199,0,200,399], {\"stroke\":\"#000000\", \"strokeWidth\":1,hasBorders:false,hasControls:false,hasRotatingPoint:false,selectable:false});\n\t   line3 = new fabric.Line([0,0,0,400], {\"stroke\":\"#000000\", \"strokeWidth\":1,hasBorders:false,hasControls:false,hasRotatingPoint:false,selectable:false});\n\t   line4 = new fabric.Line([0,400,200,399], {\"stroke\":\"#000000\", \"strokeWidth\":1,hasBorders:false,hasControls:false,hasRotatingPoint:false,selectable:false});\n\t });//doc ready\n\t \n\t \n\t function getRandomNum(min, max) {\n\t    return Math.random() * (max - min) + min;\n\t }\n\t \n\t function onObjectSelected(e) {\t \n\t    var selectedObject = e.target;\n\t    $(\"#text-string\").val(\"\");\n\t    selectedObject.hasRotatingPoint = true\n\t    if (selectedObject && selectedObject.type === 'text') {\n\t    \t//display text editor\t    \t\n\t    \t$(\"#texteditor\").css('display', 'block');\n\t    \t$(\"#text-string\").val(selectedObject.getText());\t    \t\n\t    \t$('#text-fontcolor').miniColors('value',selectedObject.fill);\n\t    \t$('#text-strokecolor').miniColors('value',selectedObject.strokeStyle);\t\n\t    \t$(\"#imageeditor\").css('display', 'block');\n\t    }\n\t    else if (selectedObject && selectedObject.type === 'image'){\n\t    \t//display image editor\n\t    \t$(\"#texteditor\").css('display', 'none');\t\n\t    \t$(\"#imageeditor\").css('display', 'block');\n\t    }\n\t  }\n\t function onSelectedCleared(e){\n\t\t $(\"#texteditor\").css('display', 'none');\n\t\t $(\"#text-string\").val(\"\");\n\t\t $(\"#imageeditor\").css('display', 'none');\n\t }\n\n\t//  function setFont(font){\n\t// \t  var activeObject = canvas.getActiveObject();\n\t//       if (activeObject && activeObject.type === 'text') {\n\t//         activeObject.fontFamily = font;\n\t//         canvas.renderAll();\n\t//       }\n\t//   }\n\t function removeWhite(){\n\t\t  var activeObject = canvas.getActiveObject();\n\t\t  if (activeObject && activeObject.type === 'image') {\t\t\t  \n\t\t\t  activeObject.filters[2] =  new fabric.Image.filters.RemoveWhite({hreshold: 100, distance: 10});//0-255, 0-255\n\t\t\t  activeObject.applyFilters(canvas.renderAll.bind(canvas));\n\t\t  }\t        \n\t }"]}]}