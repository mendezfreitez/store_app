{"remainingRequest":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\icald\\VueJS\\store_app\\src\\editor\\js\\bootstrap.js","dependencies":[{"path":"C:\\Users\\icald\\VueJS\\store_app\\src\\editor\\js\\bootstrap.js","mtime":1516260752000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icald\\VueJS\\store_app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIkM6L1VzZXJzL2ljYWxkL1Z1ZUpTL3N0b3JlX2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKTsKCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiBib290c3RyYXAtdHJhbnNpdGlvbi5qcyB2Mi4xLjEKICogaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI3RyYW5zaXRpb25zCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwohZnVuY3Rpb24gKCQpIHsKICAkKGZ1bmN0aW9uICgpIHsKICAgICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOwoKICAgIC8qIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pCiAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0cmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpLAogICAgICAgICAgICB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7CiAgICAgICAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJywKICAgICAgICAgICdNb3pUcmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLAogICAgICAgICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJywKICAgICAgICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnCiAgICAgICAgfSwKICAgICAgICAgICAgbmFtZTsKCiAgICAgICAgZm9yIChuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykgewogICAgICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0oKTsKCiAgICAgIHJldHVybiB0cmFuc2l0aW9uRW5kICYmIHsKICAgICAgICBlbmQ6IHRyYW5zaXRpb25FbmQKICAgICAgfTsKICAgIH0oKTsKICB9KTsKfSh3aW5kb3cualF1ZXJ5KTsKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoqIGJvb3RzdHJhcC1hbGVydC5qcyB2Mi4xLjEKKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjYWxlcnRzCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiFmdW5jdGlvbiAoJCkgewogICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOwoKICAvKiBBTEVSVCBDTEFTUyBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PSAqLwoKICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPSJhbGVydCJdJywKICAgICAgQWxlcnQgPSBmdW5jdGlvbiBBbGVydChlbCkgewogICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSk7CiAgfTsKCiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpLAogICAgICAgICRwYXJlbnQ7CgogICAgaWYgKCFzZWxlY3RvcikgewogICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKTsKICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sICcnKTsgLy9zdHJpcCBmb3IgaWU3CiAgICB9CgogICAgJHBhcmVudCA9ICQoc2VsZWN0b3IpOwogICAgZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAkcGFyZW50Lmxlbmd0aCB8fCAoJHBhcmVudCA9ICR0aGlzLmhhc0NsYXNzKCdhbGVydCcpID8gJHRoaXMgOiAkdGhpcy5wYXJlbnQoKSk7CiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlJykpOwogICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjsKICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJyk7CgogICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHsKICAgICAgJHBhcmVudC50cmlnZ2VyKCdjbG9zZWQnKS5yZW1vdmUoKTsKICAgIH0KCiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAkcGFyZW50Lm9uKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgcmVtb3ZlRWxlbWVudCkgOiByZW1vdmVFbGVtZW50KCk7CiAgfTsKICAvKiBBTEVSVCBQTFVHSU4gREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09ICovCgoKICAkLmZuLmFsZXJ0ID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnYWxlcnQnKTsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdhbGVydCcsIGRhdGEgPSBuZXcgQWxlcnQodGhpcykpOwogICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpOwogICAgfSk7CiAgfTsKCiAgJC5mbi5hbGVydC5Db25zdHJ1Y3RvciA9IEFsZXJ0OwogIC8qIEFMRVJUIERBVEEtQVBJCiAgICogPT09PT09PT09PT09PT0gKi8KCiAgJChmdW5jdGlvbiAoKSB7CiAgICAkKCdib2R5Jykub24oJ2NsaWNrLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKTsKICB9KTsKfSh3aW5kb3cualF1ZXJ5KTsKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLWJ1dHRvbi5qcyB2Mi4xLjEKKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjYnV0dG9ucwoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKIWZ1bmN0aW9uICgkKSB7CiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187CgogIC8qIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gQnV0dG9uKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4uYnV0dG9uLmRlZmF1bHRzLCBvcHRpb25zKTsKICB9OwoKICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICB2YXIgZCA9ICdkaXNhYmxlZCcsCiAgICAgICAgJGVsID0gdGhpcy4kZWxlbWVudCwKICAgICAgICBkYXRhID0gJGVsLmRhdGEoKSwKICAgICAgICB2YWwgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJzsKICAgIHN0YXRlID0gc3RhdGUgKyAnVGV4dCc7CiAgICBkYXRhLnJlc2V0VGV4dCB8fCAkZWwuZGF0YSgncmVzZXRUZXh0JywgJGVsW3ZhbF0oKSk7CiAgICAkZWxbdmFsXShkYXRhW3N0YXRlXSB8fCB0aGlzLm9wdGlvbnNbc3RhdGVdKTsgLy8gcHVzaCB0byBldmVudCBsb29wIHRvIGFsbG93IGZvcm1zIHRvIHN1Ym1pdAoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBzdGF0ZSA9PSAnbG9hZGluZ1RleHQnID8gJGVsLmFkZENsYXNzKGQpLmF0dHIoZCwgZCkgOiAkZWwucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQXR0cihkKTsKICAgIH0sIDApOwogIH07CgogIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkgewogICAgdmFyICRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT0iYnV0dG9ucy1yYWRpbyJdJyk7CiAgICAkcGFyZW50ICYmICRwYXJlbnQuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpOwogIH07CiAgLyogQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09ICovCgoKICAkLmZuLmJ1dHRvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ2J1dHRvbicpLAogICAgICAgICAgb3B0aW9ucyA9IF90eXBlb2Yob3B0aW9uKSA9PSAnb2JqZWN0JyAmJiBvcHRpb247CiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnV0dG9uJywgZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpOwogICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpO2Vsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pOwogICAgfSk7CiAgfTsKCiAgJC5mbi5idXR0b24uZGVmYXVsdHMgPSB7CiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nCiAgfTsKICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvbjsKICAvKiBCVVRUT04gREFUQS1BUEkKICAgKiA9PT09PT09PT09PT09PT0gKi8KCiAgJChmdW5jdGlvbiAoKSB7CiAgICAkKCdib2R5Jykub24oJ2NsaWNrLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePWJ1dHRvbl0nLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpOwogICAgICBpZiAoISRidG4uaGFzQ2xhc3MoJ2J0bicpKSAkYnRuID0gJGJ0bi5jbG9zZXN0KCcuYnRuJyk7CiAgICAgICRidG4uYnV0dG9uKCd0b2dnbGUnKTsKICAgIH0pOwogIH0pOwp9KHdpbmRvdy5qUXVlcnkpOwovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLWNhcm91c2VsLmpzIHYyLjEuMQoqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCNjYXJvdXNlbAoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgohZnVuY3Rpb24gKCQpIHsKICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsKCiAgLyogQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gQ2Fyb3VzZWwoZWxlbWVudCwgb3B0aW9ucykgewogICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgdGhpcy5vcHRpb25zLnNsaWRlICYmIHRoaXMuc2xpZGUodGhpcy5vcHRpb25zLnNsaWRlKTsKICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmIHRoaXMuJGVsZW1lbnQub24oJ21vdXNlZW50ZXInLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKS5vbignbW91c2VsZWF2ZScsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpOwogIH07CgogIENhcm91c2VsLnByb3RvdHlwZSA9IHsKICAgIGN5Y2xlOiBmdW5jdGlvbiBjeWNsZShlKSB7CiAgICAgIGlmICghZSkgdGhpcy5wYXVzZWQgPSBmYWxzZTsKICAgICAgdGhpcy5vcHRpb25zLmludGVydmFsICYmICF0aGlzLnBhdXNlZCAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHRvOiBmdW5jdGlvbiB0byhwb3MpIHsKICAgICAgdmFyICRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpLAogICAgICAgICAgY2hpbGRyZW4gPSAkYWN0aXZlLnBhcmVudCgpLmNoaWxkcmVuKCksCiAgICAgICAgICBhY3RpdmVQb3MgPSBjaGlsZHJlbi5pbmRleCgkYWN0aXZlKSwKICAgICAgICAgIHRoYXQgPSB0aGlzOwogICAgICBpZiAocG9zID4gY2hpbGRyZW4ubGVuZ3RoIC0gMSB8fCBwb3MgPCAwKSByZXR1cm47CgogICAgICBpZiAodGhpcy5zbGlkaW5nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC50byhwb3MpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoYWN0aXZlUG9zID09IHBvcykgewogICAgICAgIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlUG9zID8gJ25leHQnIDogJ3ByZXYnLCAkKGNoaWxkcmVuW3Bvc10pKTsKICAgIH0sCiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoZSkgewogICAgICBpZiAoIWUpIHRoaXMucGF1c2VkID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIHsKICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKTsKICAgICAgICB0aGlzLmN5Y2xlKCk7CiAgICAgIH0KCiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBudWxsOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkgewogICAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm47CiAgICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0Jyk7CiAgICB9LAogICAgcHJldjogZnVuY3Rpb24gcHJldigpIHsKICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuOwogICAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpOwogICAgfSwKICAgIHNsaWRlOiBmdW5jdGlvbiBzbGlkZSh0eXBlLCBuZXh0KSB7CiAgICAgIHZhciAkYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSwKICAgICAgICAgICRuZXh0ID0gbmV4dCB8fCAkYWN0aXZlW3R5cGVdKCksCiAgICAgICAgICBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsLAogICAgICAgICAgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnLAogICAgICAgICAgZmFsbGJhY2sgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCcsCiAgICAgICAgICB0aGF0ID0gdGhpcywKICAgICAgICAgIGUgPSAkLkV2ZW50KCdzbGlkZScsIHsKICAgICAgICByZWxhdGVkVGFyZ2V0OiAkbmV4dFswXQogICAgICB9KTsKICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKTsKICAgICAgJG5leHQgPSAkbmV4dC5sZW5ndGggPyAkbmV4dCA6IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0nKVtmYWxsYmFja10oKTsKICAgICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuOwoKICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHsKICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSk7CiAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjsKICAgICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKTsKICAgICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aDsgLy8gZm9yY2UgcmVmbG93CgogICAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKTsKICAgICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pOwogICAgICAgIHRoaXMuJGVsZW1lbnQub25lKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJyk7CiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpOwogICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2U7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzbGlkJyk7CiAgICAgICAgICB9LCAwKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSk7CiAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjsKICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJyk7CiAgICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdzbGlkJyk7CiAgICAgIH0KCiAgICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07CiAgLyogQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT04KICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICAkLmZuLmNhcm91c2VsID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnY2Fyb3VzZWwnKSwKICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5jYXJvdXNlbC5kZWZhdWx0cywgX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbiksCiAgICAgICAgICBhY3Rpb24gPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZTsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdjYXJvdXNlbCcsIGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpOwogICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pO2Vsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKCk7ZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5jeWNsZSgpOwogICAgfSk7CiAgfTsKCiAgJC5mbi5jYXJvdXNlbC5kZWZhdWx0cyA9IHsKICAgIGludGVydmFsOiA1MDAwLAogICAgcGF1c2U6ICdob3ZlcicKICB9OwogICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbDsKICAvKiBDQVJPVVNFTCBEQVRBLUFQSQogICAqID09PT09PT09PT09PT09PT09ICovCgogICQoZnVuY3Rpb24gKCkgewogICAgJCgnYm9keScpLm9uKCdjbGljay5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0nLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgaHJlZiwKICAgICAgICAgICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCAnJykpIC8vc3RyaXAgZm9yIGllNwogICAgICAsCiAgICAgICAgICBvcHRpb25zID0gISR0YXJnZXQuZGF0YSgnbW9kYWwnKSAmJiAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSk7CiAgICAgICR0YXJnZXQuY2Fyb3VzZWwob3B0aW9ucyk7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0pOwogIH0pOwp9KHdpbmRvdy5qUXVlcnkpOwovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLWNvbGxhcHNlLmpzIHYyLjEuMQoqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCNjb2xsYXBzZQoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiFmdW5jdGlvbiAoJCkgewogICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOwoKICAvKiBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIENvbGxhcHNlKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4uY29sbGFwc2UuZGVmYXVsdHMsIG9wdGlvbnMpOwoKICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7CiAgICAgIHRoaXMuJHBhcmVudCA9ICQodGhpcy5vcHRpb25zLnBhcmVudCk7CiAgICB9CgogICAgdGhpcy5vcHRpb25zLnRvZ2dsZSAmJiB0aGlzLnRvZ2dsZSgpOwogIH07CgogIENvbGxhcHNlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBDb2xsYXBzZSwKICAgIGRpbWVuc2lvbjogZnVuY3Rpb24gZGltZW5zaW9uKCkgewogICAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpOwogICAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCc7CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyIGRpbWVuc2lvbiwgc2Nyb2xsLCBhY3RpdmVzLCBoYXNEYXRhOwogICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nKSByZXR1cm47CiAgICAgIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKCk7CiAgICAgIHNjcm9sbCA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpOwogICAgICBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5maW5kKCc+IC5hY2NvcmRpb24tZ3JvdXAgPiAuaW4nKTsKCiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7CiAgICAgICAgaGFzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnY29sbGFwc2UnKTsKICAgICAgICBpZiAoaGFzRGF0YSAmJiBoYXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVybjsKICAgICAgICBhY3RpdmVzLmNvbGxhcHNlKCdoaWRlJyk7CiAgICAgICAgaGFzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2NvbGxhcHNlJywgbnVsbCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgwKTsKICAgICAgdGhpcy50cmFuc2l0aW9uKCdhZGRDbGFzcycsICQuRXZlbnQoJ3Nob3cnKSwgJ3Nob3duJyk7CiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbF0pOwogICAgfSwKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIHZhciBkaW1lbnNpb247CiAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcpIHJldHVybjsKICAgICAgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKTsKICAgICAgdGhpcy5yZXNldCh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSk7CiAgICAgIHRoaXMudHJhbnNpdGlvbigncmVtb3ZlQ2xhc3MnLCAkLkV2ZW50KCdoaWRlJyksICdoaWRkZW4nKTsKICAgICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKDApOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChzaXplKSB7CiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpOwogICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpW2RpbWVuc2lvbl0oc2l6ZSB8fCAnYXV0bycpWzBdLm9mZnNldFdpZHRoOwogICAgICB0aGlzLiRlbGVtZW50W3NpemUgIT09IG51bGwgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ2NvbGxhcHNlJyk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHRyYW5zaXRpb246IGZ1bmN0aW9uIHRyYW5zaXRpb24obWV0aG9kLCBzdGFydEV2ZW50LCBjb21wbGV0ZUV2ZW50KSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7CiAgICAgICAgaWYgKHN0YXJ0RXZlbnQudHlwZSA9PSAnc2hvdycpIHRoYXQucmVzZXQoKTsKICAgICAgICB0aGF0LnRyYW5zaXRpb25pbmcgPSAwOwogICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihjb21wbGV0ZUV2ZW50KTsKICAgICAgfTsKCiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KTsKICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjsKICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMTsKICAgICAgdGhpcy4kZWxlbWVudFttZXRob2RdKCdpbicpOwogICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdjb2xsYXBzZScpID8gdGhpcy4kZWxlbWVudC5vbmUoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLCBjb21wbGV0ZSkgOiBjb21wbGV0ZSgpOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKCk7CiAgICB9CiAgfTsKICAvKiBDT0xMQVBTSUJMRSBQTFVHSU4gREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICAkLmZuLmNvbGxhcHNlID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnY29sbGFwc2UnKSwKICAgICAgICAgIG9wdGlvbnMgPSBfdHlwZW9mKG9wdGlvbikgPT0gJ29iamVjdCcgJiYgb3B0aW9uOwogICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2NvbGxhcHNlJywgZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSk7CiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKTsKICAgIH0pOwogIH07CgogICQuZm4uY29sbGFwc2UuZGVmYXVsdHMgPSB7CiAgICB0b2dnbGU6IHRydWUKICB9OwogICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZTsKICAvKiBDT0xMQVBTSUJMRSBEQVRBLUFQSQogICAqID09PT09PT09PT09PT09PT09PT09ICovCgogICQoZnVuY3Rpb24gKCkgewogICAgJCgnYm9keScpLm9uKCdjbGljay5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9Y29sbGFwc2VdJywgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgIGhyZWYsCiAgICAgICAgICB0YXJnZXQgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IGUucHJldmVudERlZmF1bHQoKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sICcnKSAvL3N0cmlwIGZvciBpZTcKICAgICAgLAogICAgICAgICAgb3B0aW9uID0gJCh0YXJnZXQpLmRhdGEoJ2NvbGxhcHNlJykgPyAndG9nZ2xlJyA6ICR0aGlzLmRhdGEoKTsKICAgICAgJHRoaXNbJCh0YXJnZXQpLmhhc0NsYXNzKCdpbicpID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjb2xsYXBzZWQnKTsKICAgICAgJCh0YXJnZXQpLmNvbGxhcHNlKG9wdGlvbik7CiAgICB9KTsKICB9KTsKfSh3aW5kb3cualF1ZXJ5KTsKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLWRyb3Bkb3duLmpzIHYyLjEuMQoqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCNkcm9wZG93bnMKKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiFmdW5jdGlvbiAoJCkgewogICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOwoKICAvKiBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICB2YXIgdG9nZ2xlID0gJ1tkYXRhLXRvZ2dsZT1kcm9wZG93bl0nLAogICAgICBEcm9wZG93biA9IGZ1bmN0aW9uIERyb3Bkb3duKGVsZW1lbnQpIHsKICAgIHZhciAkZWwgPSAkKGVsZW1lbnQpLm9uKCdjbGljay5kcm9wZG93bi5kYXRhLWFwaScsIHRoaXMudG9nZ2xlKTsKICAgICQoJ2h0bWwnKS5vbignY2xpY2suZHJvcGRvd24uZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7CiAgICAgICRlbC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnb3BlbicpOwogICAgfSk7CiAgfTsKCiAgRHJvcGRvd24ucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IERyb3Bkb3duLAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZSkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgJHBhcmVudCwKICAgICAgICAgIGlzQWN0aXZlOwogICAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVybjsKICAgICAgJHBhcmVudCA9IGdldFBhcmVudCgkdGhpcyk7CiAgICAgIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpOwogICAgICBjbGVhck1lbnVzKCk7CgogICAgICBpZiAoIWlzQWN0aXZlKSB7CiAgICAgICAgJHBhcmVudC50b2dnbGVDbGFzcygnb3BlbicpOwogICAgICAgICR0aGlzLmZvY3VzKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBrZXlkb3duOiBmdW5jdGlvbiBrZXlkb3duKGUpIHsKICAgICAgdmFyICR0aGlzLCAkaXRlbXMsICRhY3RpdmUsICRwYXJlbnQsIGlzQWN0aXZlLCBpbmRleDsKICAgICAgaWYgKCEvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKSByZXR1cm47CiAgICAgICR0aGlzID0gJCh0aGlzKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVybjsKICAgICAgJHBhcmVudCA9IGdldFBhcmVudCgkdGhpcyk7CiAgICAgIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpOwogICAgICBpZiAoIWlzQWN0aXZlIHx8IGlzQWN0aXZlICYmIGUua2V5Q29kZSA9PSAyNykgcmV0dXJuICR0aGlzLmNsaWNrKCk7CiAgICAgICRpdGVtcyA9ICQoJ1tyb2xlPW1lbnVdIGxpOm5vdCguZGl2aWRlcikgYScsICRwYXJlbnQpOwogICAgICBpZiAoISRpdGVtcy5sZW5ndGgpIHJldHVybjsKICAgICAgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpOwogICAgICBpZiAoZS5rZXlDb2RlID09IDM4ICYmIGluZGV4ID4gMCkgaW5kZXgtLTsgLy8gdXAKCiAgICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKzsgLy8gZG93bgoKICAgICAgaWYgKCF+aW5kZXgpIGluZGV4ID0gMDsKICAgICAgJGl0ZW1zLmVxKGluZGV4KS5mb2N1cygpOwogICAgfQogIH07CgogIGZ1bmN0aW9uIGNsZWFyTWVudXMoKSB7CiAgICBnZXRQYXJlbnQoJCh0b2dnbGUpKS5yZW1vdmVDbGFzcygnb3BlbicpOwogIH0KCiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7CiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpLAogICAgICAgICRwYXJlbnQ7CgogICAgaWYgKCFzZWxlY3RvcikgewogICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKTsKICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvIy8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCAnJyk7IC8vc3RyaXAgZm9yIGllNwogICAgfQoKICAgICRwYXJlbnQgPSAkKHNlbGVjdG9yKTsKICAgICRwYXJlbnQubGVuZ3RoIHx8ICgkcGFyZW50ID0gJHRoaXMucGFyZW50KCkpOwogICAgcmV0dXJuICRwYXJlbnQ7CiAgfQogIC8qIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCgogICQuZm4uZHJvcGRvd24gPSBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdkcm9wZG93bicpOwogICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2Ryb3Bkb3duJywgZGF0YSA9IG5ldyBEcm9wZG93bih0aGlzKSk7CiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcyk7CiAgICB9KTsKICB9OwoKICAkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yID0gRHJvcGRvd247CiAgLyogQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFMKICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICAkKGZ1bmN0aW9uICgpIHsKICAgICQoJ2h0bWwnKS5vbignY2xpY2suZHJvcGRvd24uZGF0YS1hcGkgdG91Y2hzdGFydC5kcm9wZG93bi5kYXRhLWFwaScsIGNsZWFyTWVudXMpOwogICAgJCgnYm9keScpLm9uKCdjbGljay5kcm9wZG93biB0b3VjaHN0YXJ0LmRyb3Bkb3duLmRhdGEtYXBpJywgJy5kcm9wZG93biBmb3JtJywgZnVuY3Rpb24gKGUpIHsKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0pLm9uKCdjbGljay5kcm9wZG93bi5kYXRhLWFwaSB0b3VjaHN0YXJ0LmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlKS5vbigna2V5ZG93bi5kcm9wZG93bi5kYXRhLWFwaSB0b3VjaHN0YXJ0LmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlICsgJywgW3JvbGU9bWVudV0nLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bik7CiAgfSk7Cn0od2luZG93LmpRdWVyeSk7Ci8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoqIGJvb3RzdHJhcC1tb2RhbC5qcyB2Mi4xLjEKKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjbW9kYWxzCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jLgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgohZnVuY3Rpb24gKCQpIHsKICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsKCiAgLyogTU9EQUwgQ0xBU1MgREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT0gKi8KCiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gTW9kYWwoZWxlbWVudCwgb3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczsKICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpLmRlbGVnYXRlKCdbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJywgJ2NsaWNrLmRpc21pc3MubW9kYWwnLCAkLnByb3h5KHRoaXMuaGlkZSwgdGhpcykpOwogICAgdGhpcy5vcHRpb25zLnJlbW90ZSAmJiB0aGlzLiRlbGVtZW50LmZpbmQoJy5tb2RhbC1ib2R5JykubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlKTsKICB9OwoKICBNb2RhbC5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogTW9kYWwsCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgcmV0dXJuIHRoaXNbIXRoaXMuaXNTaG93biA/ICdzaG93JyA6ICdoaWRlJ10oKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBlID0gJC5FdmVudCgnc2hvdycpOwogICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSk7CiAgICAgIGlmICh0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuOwogICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTsKICAgICAgdGhpcy5pc1Nob3duID0gdHJ1ZTsKICAgICAgdGhpcy5lc2NhcGUoKTsKICAgICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJyk7CgogICAgICAgIGlmICghdGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGgpIHsKICAgICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7IC8vZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uCiAgICAgICAgfQoKICAgICAgICB0aGF0LiRlbGVtZW50LnNob3coKTsKCiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHsKICAgICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7IC8vIGZvcmNlIHJlZmxvdwogICAgICAgIH0KCiAgICAgICAgdGhhdC4kZWxlbWVudC5hZGRDbGFzcygnaW4nKS5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKS5mb2N1cygpOwogICAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKCk7CiAgICAgICAgdHJhbnNpdGlvbiA/IHRoYXQuJGVsZW1lbnQub25lKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bicpOwogICAgICAgIH0pIDogdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bicpOwogICAgICB9KTsKICAgIH0sCiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKGUpIHsKICAgICAgZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgZSA9ICQuRXZlbnQoJ2hpZGUnKTsKICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpOwogICAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm47CiAgICAgIHRoaXMuaXNTaG93biA9IGZhbHNlOwogICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTsKICAgICAgdGhpcy5lc2NhcGUoKTsKICAgICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLm1vZGFsJyk7CiAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2luJykuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTsKICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gdGhpcy5oaWRlV2l0aFRyYW5zaXRpb24oKSA6IHRoaXMuaGlkZU1vZGFsKCk7CiAgICB9LAogICAgZW5mb3JjZUZvY3VzOiBmdW5jdGlvbiBlbmZvcmNlRm9jdXMoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgJChkb2N1bWVudCkub24oJ2ZvY3VzaW4ubW9kYWwnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmICh0aGF0LiRlbGVtZW50WzBdICE9PSBlLnRhcmdldCAmJiAhdGhhdC4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCkgewogICAgICAgICAgdGhhdC4kZWxlbWVudC5mb2N1cygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZXNjYXBlOiBmdW5jdGlvbiBlc2NhcGUoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7CiAgICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5dXAuZGlzbWlzcy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoYXQuaGlkZSgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHsKICAgICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5tb2RhbCcpOwogICAgICB9CiAgICB9LAogICAgaGlkZVdpdGhUcmFuc2l0aW9uOiBmdW5jdGlvbiBoaWRlV2l0aFRyYW5zaXRpb24oKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LiRlbGVtZW50Lm9mZigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpOwogICAgICAgIHRoYXQuaGlkZU1vZGFsKCk7CiAgICAgIH0sIDUwMCk7CiAgICAgIHRoaXMuJGVsZW1lbnQub25lKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgZnVuY3Rpb24gKCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgICB0aGF0LmhpZGVNb2RhbCgpOwogICAgICB9KTsKICAgIH0sCiAgICBoaWRlTW9kYWw6IGZ1bmN0aW9uIGhpZGVNb2RhbCh0aGF0KSB7CiAgICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpLnRyaWdnZXIoJ2hpZGRlbicpOwogICAgICB0aGlzLmJhY2tkcm9wKCk7CiAgICB9LAogICAgcmVtb3ZlQmFja2Ryb3A6IGZ1bmN0aW9uIHJlbW92ZUJhY2tkcm9wKCkgewogICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKTsKICAgICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsOwogICAgfSwKICAgIGJhY2tkcm9wOiBmdW5jdGlvbiBiYWNrZHJvcChjYWxsYmFjaykgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJyc7CgogICAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkgewogICAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlOwogICAgICAgIHRoaXMuJGJhY2tkcm9wID0gJCgnPGRpdiBjbGFzcz0ibW9kYWwtYmFja2Ryb3AgJyArIGFuaW1hdGUgKyAnIiAvPicpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpOwoKICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJhY2tkcm9wICE9ICdzdGF0aWMnKSB7CiAgICAgICAgICB0aGlzLiRiYWNrZHJvcC5jbGljaygkLnByb3h5KHRoaXMuaGlkZSwgdGhpcykpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGg7IC8vIGZvcmNlIHJlZmxvdwoKICAgICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKTsKICAgICAgICBkb0FuaW1hdGUgPyB0aGlzLiRiYWNrZHJvcC5vbmUoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLCBjYWxsYmFjaykgOiBjYWxsYmFjaygpOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24gJiYgdGhpcy4kYmFja2Ryb3ApIHsKICAgICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKTsKICAgICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyB0aGlzLiRiYWNrZHJvcC5vbmUoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLCAkLnByb3h5KHRoaXMucmVtb3ZlQmFja2Ryb3AsIHRoaXMpKSA6IHRoaXMucmVtb3ZlQmFja2Ryb3AoKTsKICAgICAgfSBlbHNlIGlmIChjYWxsYmFjaykgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH0KICB9OwogIC8qIE1PREFMIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiAgJC5mbi5tb2RhbCA9IGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ21vZGFsJyksCiAgICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4ubW9kYWwuZGVmYXVsdHMsICR0aGlzLmRhdGEoKSwgX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbik7CiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnbW9kYWwnLCBkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKTsKICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpO2Vsc2UgaWYgKG9wdGlvbnMuc2hvdykgZGF0YS5zaG93KCk7CiAgICB9KTsKICB9OwoKICAkLmZuLm1vZGFsLmRlZmF1bHRzID0gewogICAgYmFja2Ryb3A6IHRydWUsCiAgICBrZXlib2FyZDogdHJ1ZSwKICAgIHNob3c6IHRydWUKICB9OwogICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbDsKICAvKiBNT0RBTCBEQVRBLUFQSQogICAqID09PT09PT09PT09PT09ICovCgogICQoZnVuY3Rpb24gKCkgewogICAgJCgnYm9keScpLm9uKCdjbGljay5tb2RhbC5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9Im1vZGFsIl0nLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSwKICAgICAgICAgICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgaHJlZiAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywgJycpKSAvL3N0cmlwIGZvciBpZTcKICAgICAgLAogICAgICAgICAgb3B0aW9uID0gJHRhcmdldC5kYXRhKCdtb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7CiAgICAgICAgcmVtb3RlOiAhLyMvLnRlc3QoaHJlZikgJiYgaHJlZgogICAgICB9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAkdGFyZ2V0Lm1vZGFsKG9wdGlvbikub25lKCdoaWRlJywgZnVuY3Rpb24gKCkgewogICAgICAgICR0aGlzLmZvY3VzKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSk7Cn0od2luZG93LmpRdWVyeSk7Ci8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLXRvb2x0aXAuanMgdjIuMS4xCiogaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI3Rvb2x0aXBzCiogSW5zcGlyZWQgYnkgdGhlIG9yaWdpbmFsIGpRdWVyeS50aXBzeSBieSBKYXNvbiBGcmFtZQoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jLgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKIWZ1bmN0aW9uICgkKSB7CiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187CgogIC8qIFRPT0xUSVAgUFVCTElDIENMQVNTIERFRklOSVRJT04KICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogIHZhciBUb29sdGlwID0gZnVuY3Rpb24gVG9vbHRpcChlbGVtZW50LCBvcHRpb25zKSB7CiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKTsKICB9OwoKICBUb29sdGlwLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBUb29sdGlwLAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7CiAgICAgIHZhciBldmVudEluLCBldmVudE91dDsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKTsKICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJpZ2dlciA9PSAnY2xpY2snKSB7CiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnRyaWdnZXIgIT0gJ21hbnVhbCcpIHsKICAgICAgICBldmVudEluID0gdGhpcy5vcHRpb25zLnRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1cyc7CiAgICAgICAgZXZlbnRPdXQgPSB0aGlzLm9wdGlvbnMudHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2JsdXInOwogICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKTsKICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0ICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5sZWF2ZSwgdGhpcykpOwogICAgICB9CgogICAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgPyB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgewogICAgICAgIHRyaWdnZXI6ICdtYW51YWwnLAogICAgICAgIHNlbGVjdG9yOiAnJwogICAgICB9KSA6IHRoaXMuZml4VGl0bGUoKTsKICAgIH0sCiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiBnZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuW3RoaXMudHlwZV0uZGVmYXVsdHMsIG9wdGlvbnMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpKTsKCiAgICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7CiAgICAgICAgb3B0aW9ucy5kZWxheSA9IHsKICAgICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksCiAgICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9wdGlvbnM7CiAgICB9LAogICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKGUpIHsKICAgICAgdmFyIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldClbdGhpcy50eXBlXSh0aGlzLl9vcHRpb25zKS5kYXRhKHRoaXMudHlwZSk7CiAgICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpOwogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJzsKICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSBzZWxmLnNob3coKTsKICAgICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpOwogICAgfSwKICAgIGxlYXZlOiBmdW5jdGlvbiBsZWF2ZShlKSB7CiAgICAgIHZhciBzZWxmID0gJChlLmN1cnJlbnRUYXJnZXQpW3RoaXMudHlwZV0odGhpcy5fb3B0aW9ucykuZGF0YSh0aGlzLnR5cGUpOwogICAgICBpZiAodGhpcy50aW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKCk7CiAgICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnOwogICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKTsKICAgICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHZhciAkdGlwLCBpbnNpZGUsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCwgcGxhY2VtZW50LCB0cDsKCiAgICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHsKICAgICAgICAkdGlwID0gdGhpcy50aXAoKTsKICAgICAgICB0aGlzLnNldENvbnRlbnQoKTsKCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pIHsKICAgICAgICAgICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKTsKICAgICAgICB9CgogICAgICAgIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50ID09ICdmdW5jdGlvbicgPyB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOiB0aGlzLm9wdGlvbnMucGxhY2VtZW50OwogICAgICAgIGluc2lkZSA9IC9pbi8udGVzdChwbGFjZW1lbnQpOwogICAgICAgICR0aXAucmVtb3ZlKCkuY3NzKHsKICAgICAgICAgIHRvcDogMCwKICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICAgICAgfSkuYXBwZW5kVG8oaW5zaWRlID8gdGhpcy4kZWxlbWVudCA6IGRvY3VtZW50LmJvZHkpOwogICAgICAgIHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oaW5zaWRlKTsKICAgICAgICBhY3R1YWxXaWR0aCA9ICR0aXBbMF0ub2Zmc2V0V2lkdGg7CiAgICAgICAgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHQ7CgogICAgICAgIHN3aXRjaCAoaW5zaWRlID8gcGxhY2VtZW50LnNwbGl0KCcgJylbMV0gOiBwbGFjZW1lbnQpIHsKICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6CiAgICAgICAgICAgIHRwID0gewogICAgICAgICAgICAgIHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsCiAgICAgICAgICAgICAgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ3RvcCc6CiAgICAgICAgICAgIHRwID0gewogICAgICAgICAgICAgIHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwKICAgICAgICAgICAgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnbGVmdCc6CiAgICAgICAgICAgIHRwID0gewogICAgICAgICAgICAgIHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwKICAgICAgICAgICAgICBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ3JpZ2h0JzoKICAgICAgICAgICAgdHAgPSB7CiAgICAgICAgICAgICAgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLAogICAgICAgICAgICAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgJHRpcC5jc3ModHApLmFkZENsYXNzKHBsYWNlbWVudCkuYWRkQ2xhc3MoJ2luJyk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb250ZW50OiBmdW5jdGlvbiBzZXRDb250ZW50KCkgewogICAgICB2YXIgJHRpcCA9IHRoaXMudGlwKCksCiAgICAgICAgICB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKTsKICAgICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSk7CiAgICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0Jyk7CiAgICB9LAogICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgJHRpcCA9IHRoaXMudGlwKCk7CiAgICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2luJyk7CgogICAgICBmdW5jdGlvbiByZW1vdmVXaXRoQW5pbWF0aW9uKCkgewogICAgICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkdGlwLm9mZigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpLnJlbW92ZSgpOwogICAgICAgIH0sIDUwMCk7CiAgICAgICAgJHRpcC5vbmUoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAkdGlwLnJlbW92ZSgpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/IHJlbW92ZVdpdGhBbmltYXRpb24oKSA6ICR0aXAucmVtb3ZlKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGZpeFRpdGxlOiBmdW5jdGlvbiBmaXhUaXRsZSgpIHsKICAgICAgdmFyICRlID0gdGhpcy4kZWxlbWVudDsKCiAgICAgIGlmICgkZS5hdHRyKCd0aXRsZScpIHx8IHR5cGVvZiAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykgIT0gJ3N0cmluZycpIHsKICAgICAgICAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJGUuYXR0cigndGl0bGUnKSB8fCAnJykucmVtb3ZlQXR0cigndGl0bGUnKTsKICAgICAgfQogICAgfSwKICAgIGhhc0NvbnRlbnQ6IGZ1bmN0aW9uIGhhc0NvbnRlbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCk7CiAgICB9LAogICAgZ2V0UG9zaXRpb246IGZ1bmN0aW9uIGdldFBvc2l0aW9uKGluc2lkZSkgewogICAgICByZXR1cm4gJC5leHRlbmQoe30sIGluc2lkZSA/IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMAogICAgICB9IDogdGhpcy4kZWxlbWVudC5vZmZzZXQoKSwgewogICAgICAgIHdpZHRoOiB0aGlzLiRlbGVtZW50WzBdLm9mZnNldFdpZHRoLAogICAgICAgIGhlaWdodDogdGhpcy4kZWxlbWVudFswXS5vZmZzZXRIZWlnaHQKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VGl0bGU6IGZ1bmN0aW9uIGdldFRpdGxlKCkgewogICAgICB2YXIgdGl0bGUsCiAgICAgICAgICAkZSA9IHRoaXMuJGVsZW1lbnQsCiAgICAgICAgICBvID0gdGhpcy5vcHRpb25zOwogICAgICB0aXRsZSA9ICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiBvLnRpdGxlKTsKICAgICAgcmV0dXJuIHRpdGxlOwogICAgfSwKICAgIHRpcDogZnVuY3Rpb24gdGlwKCkgewogICAgICByZXR1cm4gdGhpcy4kdGlwID0gdGhpcy4kdGlwIHx8ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKTsKICAgIH0sCiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7CiAgICAgICAgdGhpcy5oaWRlKCk7CiAgICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGw7CiAgICAgICAgdGhpcy5vcHRpb25zID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkgewogICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOwogICAgfSwKICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7CiAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlOwogICAgfSwKICAgIHRvZ2dsZUVuYWJsZWQ6IGZ1bmN0aW9uIHRvZ2dsZUVuYWJsZWQoKSB7CiAgICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWQ7CiAgICB9LAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgIHRoaXNbdGhpcy50aXAoKS5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKTsKICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLmhpZGUoKS4kZWxlbWVudC5vZmYoJy4nICsgdGhpcy50eXBlKS5yZW1vdmVEYXRhKHRoaXMudHlwZSk7CiAgICB9CiAgfTsKICAvKiBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICAkLmZuLnRvb2x0aXAgPSBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCd0b29sdGlwJyksCiAgICAgICAgICBvcHRpb25zID0gX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbjsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCd0b29sdGlwJywgZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIG9wdGlvbnMpKTsKICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpOwogICAgfSk7CiAgfTsKCiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcDsKICAkLmZuLnRvb2x0aXAuZGVmYXVsdHMgPSB7CiAgICBhbmltYXRpb246IHRydWUsCiAgICBwbGFjZW1lbnQ6ICd0b3AnLAogICAgc2VsZWN0b3I6IGZhbHNlLAogICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48L2Rpdj48L2Rpdj4nLAogICAgdHJpZ2dlcjogJ2hvdmVyJywKICAgIHRpdGxlOiAnJywKICAgIGRlbGF5OiAwLAogICAgaHRtbDogdHJ1ZQogIH07Cn0od2luZG93LmpRdWVyeSk7Ci8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAqIGJvb3RzdHJhcC1wb3BvdmVyLmpzIHYyLjEuMQogKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjcG9wb3ZlcnMKICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgohZnVuY3Rpb24gKCQpIHsKICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsKCiAgLyogUE9QT1ZFUiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCiAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbiBQb3BvdmVyKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIHRoaXMuaW5pdCgncG9wb3ZlcicsIGVsZW1lbnQsIG9wdGlvbnMpOwogIH07CiAgLyogTk9URTogUE9QT1ZFUiBFWFRFTkRTIEJPT1RTVFJBUC1UT09MVElQLmpzCiAgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgoKICBQb3BvdmVyLnByb3RvdHlwZSA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlLCB7CiAgICBjb25zdHJ1Y3RvcjogUG9wb3ZlciwKICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7CiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKSwKICAgICAgICAgIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpLAogICAgICAgICAgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpOwogICAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKTsKICAgICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50ID4gKicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXShjb250ZW50KTsKICAgICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKTsKICAgIH0sCiAgICBoYXNDb250ZW50OiBmdW5jdGlvbiBoYXNDb250ZW50KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpOwogICAgfSwKICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnQoKSB7CiAgICAgIHZhciBjb250ZW50LAogICAgICAgICAgJGUgPSB0aGlzLiRlbGVtZW50LAogICAgICAgICAgbyA9IHRoaXMub3B0aW9uczsKICAgICAgY29udGVudCA9ICRlLmF0dHIoJ2RhdGEtY29udGVudCcpIHx8ICh0eXBlb2Ygby5jb250ZW50ID09ICdmdW5jdGlvbicgPyBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOiBvLmNvbnRlbnQpOwogICAgICByZXR1cm4gY29udGVudDsKICAgIH0sCiAgICB0aXA6IGZ1bmN0aW9uIHRpcCgpIHsKICAgICAgaWYgKCF0aGlzLiR0aXApIHsKICAgICAgICB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiR0aXA7CiAgICB9LAogICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgdGhpcy5oaWRlKCkuJGVsZW1lbnQub2ZmKCcuJyArIHRoaXMudHlwZSkucmVtb3ZlRGF0YSh0aGlzLnR5cGUpOwogICAgfQogIH0pOwogIC8qIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT04KICAgKiA9PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICAkLmZuLnBvcG92ZXIgPSBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdwb3BvdmVyJyksCiAgICAgICAgICBvcHRpb25zID0gX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbjsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdwb3BvdmVyJywgZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKTsKICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpOwogICAgfSk7CiAgfTsKCiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlcjsKICAkLmZuLnBvcG92ZXIuZGVmYXVsdHMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLmRlZmF1bHRzLCB7CiAgICBwbGFjZW1lbnQ6ICdyaWdodCcsCiAgICB0cmlnZ2VyOiAnY2xpY2snLAogICAgY29udGVudDogJycsCiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9InBvcG92ZXIiPjxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJwb3BvdmVyLWlubmVyIj48aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiPjwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50Ij48cD48L3A+PC9kaXY+PC9kaXY+PC9kaXY+JwogIH0pOwp9KHdpbmRvdy5qUXVlcnkpOwovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLXNjcm9sbHNweS5qcyB2Mi4xLjEKKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjc2Nyb2xsc3B5CiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgohZnVuY3Rpb24gKCQpIHsKICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsKCiAgLyogU0NST0xMU1BZIENMQVNTIERFRklOSVRJT04KICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykgewogICAgdmFyIHByb2Nlc3MgPSAkLnByb3h5KHRoaXMucHJvY2VzcywgdGhpcyksCiAgICAgICAgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpLAogICAgICAgIGhyZWY7CiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5zY3JvbGxzcHkuZGVmYXVsdHMsIG9wdGlvbnMpOwogICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICRlbGVtZW50Lm9uKCdzY3JvbGwuc2Nyb2xsLXNweS5kYXRhLWFwaScsIHByb2Nlc3MpOwogICAgdGhpcy5zZWxlY3RvciA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8IChocmVmID0gJChlbGVtZW50KS5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCAnJykgLy9zdHJpcCBmb3IgaWU3CiAgICB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJzsKICAgIHRoaXMuJGJvZHkgPSAkKCdib2R5Jyk7CiAgICB0aGlzLnJlZnJlc2goKTsKICAgIHRoaXMucHJvY2VzcygpOwogIH0KCiAgU2Nyb2xsU3B5LnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBTY3JvbGxTcHksCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgICAkdGFyZ2V0czsKICAgICAgdGhpcy5vZmZzZXRzID0gJChbXSk7CiAgICAgIHRoaXMudGFyZ2V0cyA9ICQoW10pOwogICAgICAkdGFyZ2V0cyA9IHRoaXMuJGJvZHkuZmluZCh0aGlzLnNlbGVjdG9yKS5tYXAoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciAkZWwgPSAkKHRoaXMpLAogICAgICAgICAgICBocmVmID0gJGVsLmRhdGEoJ3RhcmdldCcpIHx8ICRlbC5hdHRyKCdocmVmJyksCiAgICAgICAgICAgICRocmVmID0gL14jXHcvLnRlc3QoaHJlZikgJiYgJChocmVmKTsKICAgICAgICByZXR1cm4gJGhyZWYgJiYgJGhyZWYubGVuZ3RoICYmIFtbJGhyZWYucG9zaXRpb24oKS50b3AsIGhyZWZdXSB8fCBudWxsOwogICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdOwogICAgICB9KS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLm9mZnNldHMucHVzaCh0aGlzWzBdKTsKICAgICAgICBzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKTsKICAgICAgfSk7CiAgICB9LAogICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHsKICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0LAogICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgdGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsCiAgICAgICAgICBtYXhTY3JvbGwgPSBzY3JvbGxIZWlnaHQgLSB0aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpLAogICAgICAgICAgb2Zmc2V0cyA9IHRoaXMub2Zmc2V0cywKICAgICAgICAgIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsCiAgICAgICAgICBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldCwKICAgICAgICAgIGk7CgogICAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkgewogICAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzLmxhc3QoKVswXSkgJiYgdGhpcy5hY3RpdmF0ZShpKTsKICAgICAgfQoKICAgICAgZm9yIChpID0gb2Zmc2V0cy5sZW5ndGg7IGktLTspIHsKICAgICAgICBhY3RpdmVUYXJnZXQgIT0gdGFyZ2V0c1tpXSAmJiBzY3JvbGxUb3AgPj0gb2Zmc2V0c1tpXSAmJiAoIW9mZnNldHNbaSArIDFdIHx8IHNjcm9sbFRvcCA8PSBvZmZzZXRzW2kgKyAxXSkgJiYgdGhpcy5hY3RpdmF0ZSh0YXJnZXRzW2ldKTsKICAgICAgfQogICAgfSwKICAgIGFjdGl2YXRlOiBmdW5jdGlvbiBhY3RpdmF0ZSh0YXJnZXQpIHsKICAgICAgdmFyIGFjdGl2ZSwgc2VsZWN0b3I7CiAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0OwogICAgICAkKHRoaXMuc2VsZWN0b3IpLnBhcmVudCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICsgJ1tkYXRhLXRhcmdldD0iJyArIHRhcmdldCArICciXSwnICsgdGhpcy5zZWxlY3RvciArICdbaHJlZj0iJyArIHRhcmdldCArICciXSc7CiAgICAgIGFjdGl2ZSA9ICQoc2VsZWN0b3IpLnBhcmVudCgnbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7CgogICAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKS5sZW5ndGgpIHsKICAgICAgICBhY3RpdmUgPSBhY3RpdmUuY2xvc2VzdCgnbGkuZHJvcGRvd24nKS5hZGRDbGFzcygnYWN0aXZlJyk7CiAgICAgIH0KCiAgICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZScpOwogICAgfQogIH07CiAgLyogU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogICQuZm4uc2Nyb2xsc3B5ID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnc2Nyb2xsc3B5JyksCiAgICAgICAgICBvcHRpb25zID0gX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbjsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdzY3JvbGxzcHknLCBkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSk7CiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKTsKICAgIH0pOwogIH07CgogICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5OwogICQuZm4uc2Nyb2xsc3B5LmRlZmF1bHRzID0gewogICAgb2Zmc2V0OiAxMAogIH07CiAgLyogU0NST0xMU1BZIERBVEEtQVBJCiAgICogPT09PT09PT09PT09PT09PT09ICovCgogICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHsKICAgICQoJ1tkYXRhLXNweT0ic2Nyb2xsIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICRzcHkgPSAkKHRoaXMpOwogICAgICAkc3B5LnNjcm9sbHNweSgkc3B5LmRhdGEoKSk7CiAgICB9KTsKICB9KTsKfSh3aW5kb3cualF1ZXJ5KTsKLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKiBib290c3RyYXAtdGFiLmpzIHYyLjEuMQoqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCN0YWJzCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKIWZ1bmN0aW9uICgkKSB7CiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187CgogIC8qIFRBQiBDTEFTUyBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT0gKi8KCiAgdmFyIFRhYiA9IGZ1bmN0aW9uIFRhYihlbGVtZW50KSB7CiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpOwogIH07CgogIFRhYi5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogVGFiLAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyICR0aGlzID0gdGhpcy5lbGVtZW50LAogICAgICAgICAgJHVsID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpLAogICAgICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpLAogICAgICAgICAgcHJldmlvdXMsCiAgICAgICAgICAkdGFyZ2V0LAogICAgICAgICAgZTsKCiAgICAgIGlmICghc2VsZWN0b3IpIHsKICAgICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKTsKICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywgJycpOyAvL3N0cmlwIGZvciBpZTcKICAgICAgfQoKICAgICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybjsKICAgICAgcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZSBhJykubGFzdCgpWzBdOwogICAgICBlID0gJC5FdmVudCgnc2hvdycsIHsKICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91cwogICAgICB9KTsKICAgICAgJHRoaXMudHJpZ2dlcihlKTsKICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjsKICAgICAgJHRhcmdldCA9ICQoc2VsZWN0b3IpOwogICAgICB0aGlzLmFjdGl2YXRlKCR0aGlzLnBhcmVudCgnbGknKSwgJHVsKTsKICAgICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgJHRoaXMudHJpZ2dlcih7CiAgICAgICAgICB0eXBlOiAnc2hvd24nLAogICAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXMKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWN0aXZhdGU6IGZ1bmN0aW9uIGFjdGl2YXRlKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHsKICAgICAgdmFyICRhY3RpdmUgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJyksCiAgICAgICAgICB0cmFuc2l0aW9uID0gY2FsbGJhY2sgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpOwoKICAgICAgZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5maW5kKCc+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKTsKCiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHsKICAgICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7IC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvbgoKICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKTsKICAgICAgICB9CgogICAgICAgIGlmIChlbGVtZW50LnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkgewogICAgICAgICAgZWxlbWVudC5jbG9zZXN0KCdsaS5kcm9wZG93bicpLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7CiAgICAgIH0KCiAgICAgIHRyYW5zaXRpb24gPyAkYWN0aXZlLm9uZSgkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsIG5leHQpIDogbmV4dCgpOwogICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpOwogICAgfQogIH07CiAgLyogVEFCIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09ICovCgogICQuZm4udGFiID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgndGFiJyk7CiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgndGFiJywgZGF0YSA9IG5ldyBUYWIodGhpcykpOwogICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCk7CiAgICB9KTsKICB9OwoKICAkLmZuLnRhYi5Db25zdHJ1Y3RvciA9IFRhYjsKICAvKiBUQUIgREFUQS1BUEkKICAgKiA9PT09PT09PT09PT0gKi8KCiAgJChmdW5jdGlvbiAoKSB7CiAgICAkKCdib2R5Jykub24oJ2NsaWNrLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9InRhYiJdLCBbZGF0YS10b2dnbGU9InBpbGwiXScsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgJCh0aGlzKS50YWIoJ3Nob3cnKTsKICAgIH0pOwogIH0pOwp9KHdpbmRvdy5qUXVlcnkpOwovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiogYm9vdHN0cmFwLXR5cGVhaGVhZC5qcyB2Mi4xLjEKKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjdHlwZWFoZWFkCiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4KKgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKIWZ1bmN0aW9uICgkKSB7CiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187CgogIC8qIFRZUEVBSEVBRCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTgogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKICB2YXIgVHlwZWFoZWFkID0gZnVuY3Rpb24gVHlwZWFoZWFkKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4udHlwZWFoZWFkLmRlZmF1bHRzLCBvcHRpb25zKTsKICAgIHRoaXMubWF0Y2hlciA9IHRoaXMub3B0aW9ucy5tYXRjaGVyIHx8IHRoaXMubWF0Y2hlcjsKICAgIHRoaXMuc29ydGVyID0gdGhpcy5vcHRpb25zLnNvcnRlciB8fCB0aGlzLnNvcnRlcjsKICAgIHRoaXMuaGlnaGxpZ2h0ZXIgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0ZXIgfHwgdGhpcy5oaWdobGlnaHRlcjsKICAgIHRoaXMudXBkYXRlciA9IHRoaXMub3B0aW9ucy51cGRhdGVyIHx8IHRoaXMudXBkYXRlcjsKICAgIHRoaXMuJG1lbnUgPSAkKHRoaXMub3B0aW9ucy5tZW51KS5hcHBlbmRUbygnYm9keScpOwogICAgdGhpcy5zb3VyY2UgPSB0aGlzLm9wdGlvbnMuc291cmNlOwogICAgdGhpcy5zaG93biA9IGZhbHNlOwogICAgdGhpcy5saXN0ZW4oKTsKICB9OwoKICBUeXBlYWhlYWQucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFR5cGVhaGVhZCwKICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KCkgewogICAgICB2YXIgdmFsID0gdGhpcy4kbWVudS5maW5kKCcuYWN0aXZlJykuYXR0cignZGF0YS12YWx1ZScpOwogICAgICB0aGlzLiRlbGVtZW50LnZhbCh0aGlzLnVwZGF0ZXIodmFsKSkuY2hhbmdlKCk7CiAgICAgIHJldHVybiB0aGlzLmhpZGUoKTsKICAgIH0sCiAgICB1cGRhdGVyOiBmdW5jdGlvbiB1cGRhdGVyKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW07CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyIHBvcyA9ICQuZXh0ZW5kKHt9LCB0aGlzLiRlbGVtZW50Lm9mZnNldCgpLCB7CiAgICAgICAgaGVpZ2h0OiB0aGlzLiRlbGVtZW50WzBdLm9mZnNldEhlaWdodAogICAgICB9KTsKICAgICAgdGhpcy4kbWVudS5jc3MoewogICAgICAgIHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsCiAgICAgICAgbGVmdDogcG9zLmxlZnQKICAgICAgfSk7CiAgICAgIHRoaXMuJG1lbnUuc2hvdygpOwogICAgICB0aGlzLnNob3duID0gdHJ1ZTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy4kbWVudS5oaWRlKCk7CiAgICAgIHRoaXMuc2hvd24gPSBmYWxzZTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAoZXZlbnQpIHsKICAgICAgdmFyIGl0ZW1zOwogICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy4kZWxlbWVudC52YWwoKTsKCiAgICAgIGlmICghdGhpcy5xdWVyeSB8fCB0aGlzLnF1ZXJ5Lmxlbmd0aCA8IHRoaXMub3B0aW9ucy5taW5MZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGhpcy5zaG93biA/IHRoaXMuaGlkZSgpIDogdGhpczsKICAgICAgfQoKICAgICAgaXRlbXMgPSAkLmlzRnVuY3Rpb24odGhpcy5zb3VyY2UpID8gdGhpcy5zb3VyY2UodGhpcy5xdWVyeSwgJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpKSA6IHRoaXMuc291cmNlOwogICAgICByZXR1cm4gaXRlbXMgPyB0aGlzLnByb2Nlc3MoaXRlbXMpIDogdGhpczsKICAgIH0sCiAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKGl0ZW1zKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgaXRlbXMgPSAkLmdyZXAoaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHRoYXQubWF0Y2hlcihpdGVtKTsKICAgICAgfSk7CiAgICAgIGl0ZW1zID0gdGhpcy5zb3J0ZXIoaXRlbXMpOwoKICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGhpcy5zaG93biA/IHRoaXMuaGlkZSgpIDogdGhpczsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKGl0ZW1zLnNsaWNlKDAsIHRoaXMub3B0aW9ucy5pdGVtcykpLnNob3coKTsKICAgIH0sCiAgICBtYXRjaGVyOiBmdW5jdGlvbiBtYXRjaGVyKGl0ZW0pIHsKICAgICAgcmV0dXJuIH5pdGVtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnF1ZXJ5LnRvTG93ZXJDYXNlKCkpOwogICAgfSwKICAgIHNvcnRlcjogZnVuY3Rpb24gc29ydGVyKGl0ZW1zKSB7CiAgICAgIHZhciBiZWdpbnN3aXRoID0gW10sCiAgICAgICAgICBjYXNlU2Vuc2l0aXZlID0gW10sCiAgICAgICAgICBjYXNlSW5zZW5zaXRpdmUgPSBbXSwKICAgICAgICAgIGl0ZW07CgogICAgICB3aGlsZSAoaXRlbSA9IGl0ZW1zLnNoaWZ0KCkpIHsKICAgICAgICBpZiAoIWl0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMucXVlcnkudG9Mb3dlckNhc2UoKSkpIGJlZ2luc3dpdGgucHVzaChpdGVtKTtlbHNlIGlmICh+aXRlbS5pbmRleE9mKHRoaXMucXVlcnkpKSBjYXNlU2Vuc2l0aXZlLnB1c2goaXRlbSk7ZWxzZSBjYXNlSW5zZW5zaXRpdmUucHVzaChpdGVtKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGJlZ2luc3dpdGguY29uY2F0KGNhc2VTZW5zaXRpdmUsIGNhc2VJbnNlbnNpdGl2ZSk7CiAgICB9LAogICAgaGlnaGxpZ2h0ZXI6IGZ1bmN0aW9uIGhpZ2hsaWdodGVyKGl0ZW0pIHsKICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeS5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCAnXFwkJicpOwogICAgICByZXR1cm4gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJygnICsgcXVlcnkgKyAnKScsICdpZycpLCBmdW5jdGlvbiAoJDEsIG1hdGNoKSB7CiAgICAgICAgcmV0dXJuICc8c3Ryb25nPicgKyBtYXRjaCArICc8L3N0cm9uZz4nOwogICAgICB9KTsKICAgIH0sCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihpdGVtcykgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGl0ZW1zID0gJChpdGVtcykubWFwKGZ1bmN0aW9uIChpLCBpdGVtKSB7CiAgICAgICAgaSA9ICQodGhhdC5vcHRpb25zLml0ZW0pLmF0dHIoJ2RhdGEtdmFsdWUnLCBpdGVtKTsKICAgICAgICBpLmZpbmQoJ2EnKS5odG1sKHRoYXQuaGlnaGxpZ2h0ZXIoaXRlbSkpOwogICAgICAgIHJldHVybiBpWzBdOwogICAgICB9KTsKICAgICAgaXRlbXMuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJyk7CiAgICAgIHRoaXMuJG1lbnUuaHRtbChpdGVtcyk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoZXZlbnQpIHsKICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKSwKICAgICAgICAgIG5leHQgPSBhY3RpdmUubmV4dCgpOwoKICAgICAgaWYgKCFuZXh0Lmxlbmd0aCkgewogICAgICAgIG5leHQgPSAkKHRoaXMuJG1lbnUuZmluZCgnbGknKVswXSk7CiAgICAgIH0KCiAgICAgIG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgfSwKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoZXZlbnQpIHsKICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKSwKICAgICAgICAgIHByZXYgPSBhY3RpdmUucHJldigpOwoKICAgICAgaWYgKCFwcmV2Lmxlbmd0aCkgewogICAgICAgIHByZXYgPSB0aGlzLiRtZW51LmZpbmQoJ2xpJykubGFzdCgpOwogICAgICB9CgogICAgICBwcmV2LmFkZENsYXNzKCdhY3RpdmUnKTsKICAgIH0sCiAgICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3RlbigpIHsKICAgICAgdGhpcy4kZWxlbWVudC5vbignYmx1cicsICQucHJveHkodGhpcy5ibHVyLCB0aGlzKSkub24oJ2tleXByZXNzJywgJC5wcm94eSh0aGlzLmtleXByZXNzLCB0aGlzKSkub24oJ2tleXVwJywgJC5wcm94eSh0aGlzLmtleXVwLCB0aGlzKSk7CgogICAgICBpZiAoJC5icm93c2VyLmNocm9tZSB8fCAkLmJyb3dzZXIud2Via2l0IHx8ICQuYnJvd3Nlci5tc2llKSB7CiAgICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bicsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJG1lbnUub24oJ2NsaWNrJywgJC5wcm94eSh0aGlzLmNsaWNrLCB0aGlzKSkub24oJ21vdXNlZW50ZXInLCAnbGknLCAkLnByb3h5KHRoaXMubW91c2VlbnRlciwgdGhpcykpOwogICAgfSwKICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZSkgewogICAgICBpZiAoIXRoaXMuc2hvd24pIHJldHVybjsKCiAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7CiAgICAgICAgY2FzZSA5OiAvLyB0YWIKCiAgICAgICAgY2FzZSAxMzogLy8gZW50ZXIKCiAgICAgICAgY2FzZSAyNzoKICAgICAgICAgIC8vIGVzY2FwZQogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAvLyB1cCBhcnJvdwogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdGhpcy5wcmV2KCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0MDoKICAgICAgICAgIC8vIGRvd24gYXJyb3cKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHRoaXMubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9LAogICAga2V5ZG93bjogZnVuY3Rpb24ga2V5ZG93bihlKSB7CiAgICAgIHRoaXMuc3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9ICF+JC5pbkFycmF5KGUua2V5Q29kZSwgWzQwLCAzOCwgOSwgMTMsIDI3XSk7CiAgICAgIHRoaXMubW92ZShlKTsKICAgIH0sCiAgICBrZXlwcmVzczogZnVuY3Rpb24ga2V5cHJlc3MoZSkgewogICAgICBpZiAodGhpcy5zdXBwcmVzc0tleVByZXNzUmVwZWF0KSByZXR1cm47CiAgICAgIHRoaXMubW92ZShlKTsKICAgIH0sCiAgICBrZXl1cDogZnVuY3Rpb24ga2V5dXAoZSkgewogICAgICBzd2l0Y2ggKGUua2V5Q29kZSkgewogICAgICAgIGNhc2UgNDA6IC8vIGRvd24gYXJyb3cKCiAgICAgICAgY2FzZSAzODoKICAgICAgICAgIC8vIHVwIGFycm93CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA5OiAvLyB0YWIKCiAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIC8vIGVudGVyCiAgICAgICAgICBpZiAoIXRoaXMuc2hvd24pIHJldHVybjsKICAgICAgICAgIHRoaXMuc2VsZWN0KCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyNzoKICAgICAgICAgIC8vIGVzY2FwZQogICAgICAgICAgaWYgKCF0aGlzLnNob3duKSByZXR1cm47CiAgICAgICAgICB0aGlzLmhpZGUoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5sb29rdXAoKTsKICAgICAgfQoKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIGJsdXI6IGZ1bmN0aW9uIGJsdXIoZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXQuaGlkZSgpOwogICAgICB9LCAxNTApOwogICAgfSwKICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5zZWxlY3QoKTsKICAgIH0sCiAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiBtb3VzZWVudGVyKGUpIHsKICAgICAgdGhpcy4kbWVudS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgfQogIH07CiAgLyogVFlQRUFIRUFEIFBMVUdJTiBERUZJTklUSU9OCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgogICQuZm4udHlwZWFoZWFkID0gZnVuY3Rpb24gKG9wdGlvbikgewogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgndHlwZWFoZWFkJyksCiAgICAgICAgICBvcHRpb25zID0gX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbjsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCd0eXBlYWhlYWQnLCBkYXRhID0gbmV3IFR5cGVhaGVhZCh0aGlzLCBvcHRpb25zKSk7CiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKTsKICAgIH0pOwogIH07CgogICQuZm4udHlwZWFoZWFkLmRlZmF1bHRzID0gewogICAgc291cmNlOiBbXSwKICAgIGl0ZW1zOiA4LAogICAgbWVudTogJzx1bCBjbGFzcz0idHlwZWFoZWFkIGRyb3Bkb3duLW1lbnUiPjwvdWw+JywKICAgIGl0ZW06ICc8bGk+PGEgaHJlZj0iIyI+PC9hPjwvbGk+JywKICAgIG1pbkxlbmd0aDogMQogIH07CiAgJC5mbi50eXBlYWhlYWQuQ29uc3RydWN0b3IgPSBUeXBlYWhlYWQ7CiAgLyogICBUWVBFQUhFQUQgREFUQS1BUEkKICAgKiA9PT09PT09PT09PT09PT09PT0gKi8KCiAgJChmdW5jdGlvbiAoKSB7CiAgICAkKCdib2R5Jykub24oJ2ZvY3VzLnR5cGVhaGVhZC5kYXRhLWFwaScsICdbZGF0YS1wcm92aWRlPSJ0eXBlYWhlYWQiXScsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7CiAgICAgIGlmICgkdGhpcy5kYXRhKCd0eXBlYWhlYWQnKSkgcmV0dXJuOwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICR0aGlzLnR5cGVhaGVhZCgkdGhpcy5kYXRhKCkpOwogICAgfSk7CiAgfSk7Cn0od2luZG93LmpRdWVyeSk7Ci8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICogYm9vdHN0cmFwLWFmZml4LmpzIHYyLjEuMQogKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjYWZmaXgKICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwoKIWZ1bmN0aW9uICgkKSB7CiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187CgogIC8qIEFGRklYIENMQVNTIERFRklOSVRJT04KICAgKiA9PT09PT09PT09PT09PT09PT09PT09ICovCgogIHZhciBBZmZpeCA9IGZ1bmN0aW9uIEFmZml4KGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuLmFmZml4LmRlZmF1bHRzLCBvcHRpb25zKTsKICAgIHRoaXMuJHdpbmRvdyA9ICQod2luZG93KS5vbignc2Nyb2xsLmFmZml4LmRhdGEtYXBpJywgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpKTsKICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5jaGVja1Bvc2l0aW9uKCk7CiAgfTsKCiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVybjsKICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKSwKICAgICAgICBzY3JvbGxUb3AgPSB0aGlzLiR3aW5kb3cuc2Nyb2xsVG9wKCksCiAgICAgICAgcG9zaXRpb24gPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpLAogICAgICAgIG9mZnNldCA9IHRoaXMub3B0aW9ucy5vZmZzZXQsCiAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSwKICAgICAgICBvZmZzZXRUb3AgPSBvZmZzZXQudG9wLAogICAgICAgIHJlc2V0ID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nLAogICAgICAgIGFmZml4OwogICAgaWYgKF90eXBlb2Yob2Zmc2V0KSAhPSAnb2JqZWN0Jykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0OwogICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0VG9wID0gb2Zmc2V0LnRvcCgpOwogICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSgpOwogICAgYWZmaXggPSB0aGlzLnVucGluICE9IG51bGwgJiYgc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3AgPyBmYWxzZSA6IG9mZnNldEJvdHRvbSAhPSBudWxsICYmIHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tID8gJ2JvdHRvbScgOiBvZmZzZXRUb3AgIT0gbnVsbCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wID8gJ3RvcCcgOiBmYWxzZTsKICAgIGlmICh0aGlzLmFmZml4ZWQgPT09IGFmZml4KSByZXR1cm47CiAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeDsKICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcCA6IG51bGw7CiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHJlc2V0KS5hZGRDbGFzcygnYWZmaXgnICsgKGFmZml4ID8gJy0nICsgYWZmaXggOiAnJykpOwogIH07CiAgLyogQUZGSVggUExVR0lOIERFRklOSVRJT04KICAgKiA9PT09PT09PT09PT09PT09PT09PT09PSAqLwoKCiAgJC5mbi5hZmZpeCA9IGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ2FmZml4JyksCiAgICAgICAgICBvcHRpb25zID0gX3R5cGVvZihvcHRpb24pID09ICdvYmplY3QnICYmIG9wdGlvbjsKICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdhZmZpeCcsIGRhdGEgPSBuZXcgQWZmaXgodGhpcywgb3B0aW9ucykpOwogICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCk7CiAgICB9KTsKICB9OwoKICAkLmZuLmFmZml4LkNvbnN0cnVjdG9yID0gQWZmaXg7CiAgJC5mbi5hZmZpeC5kZWZhdWx0cyA9IHsKICAgIG9mZnNldDogMAogIH07CiAgLyogQUZGSVggREFUQS1BUEkKICAgKiA9PT09PT09PT09PT09PSAqLwoKICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAkKCdbZGF0YS1zcHk9ImFmZml4Il0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICRzcHkgPSAkKHRoaXMpLAogICAgICAgICAgZGF0YSA9ICRzcHkuZGF0YSgpOwogICAgICBkYXRhLm9mZnNldCA9IGRhdGEub2Zmc2V0IHx8IHt9OwogICAgICBkYXRhLm9mZnNldEJvdHRvbSAmJiAoZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b20pOwogICAgICBkYXRhLm9mZnNldFRvcCAmJiAoZGF0YS5vZmZzZXQudG9wID0gZGF0YS5vZmZzZXRUb3ApOwogICAgICAkc3B5LmFmZml4KGRhdGEpOwogICAgfSk7CiAgfSk7Cn0od2luZG93LmpRdWVyeSk7"},{"version":3,"sources":["C:/Users/icald/VueJS/store_app/src/editor/js/bootstrap.js"],"names":["$","support","transition","transitionEnd","el","document","createElement","transEndEventNames","name","style","undefined","end","window","jQuery","dismiss","Alert","on","close","prototype","e","$this","selector","attr","$parent","replace","preventDefault","length","hasClass","parent","trigger","Event","isDefaultPrevented","removeClass","removeElement","remove","fn","alert","option","each","data","call","Constructor","Button","element","options","$element","extend","button","defaults","setState","state","d","$el","val","is","resetText","setTimeout","addClass","removeAttr","toggle","closest","find","toggleClass","loadingText","$btn","target","Carousel","slide","pause","proxy","cycle","paused","interval","setInterval","next","to","pos","$active","children","activePos","index","that","sliding","one","clearInterval","prev","type","$next","isCycling","direction","fallback","relatedTarget","offsetWidth","join","carousel","action","href","$target","Collapse","collapse","constructor","dimension","hasWidth","show","scroll","actives","hasData","transitioning","camelCase","hide","reset","size","method","startEvent","completeEvent","complete","Dropdown","isActive","getParent","clearMenus","focus","keydown","$items","test","keyCode","stopPropagation","click","filter","eq","dropdown","Modal","delegate","remote","load","isShown","escape","backdrop","appendTo","body","enforceFocus","off","hideWithTransition","hideModal","has","keyboard","which","timeout","clearTimeout","removeBackdrop","$backdrop","callback","animate","doAnimate","modal","Tooltip","init","eventIn","eventOut","getOptions","enabled","enter","leave","_options","fixTitle","delay","self","currentTarget","hoverState","$tip","inside","actualWidth","actualHeight","placement","tp","hasContent","tip","setContent","animation","css","top","left","display","getPosition","offsetHeight","split","height","width","title","getTitle","html","removeWithAnimation","$e","offset","o","template","validate","parentNode","enable","disable","toggleEnabled","destroy","removeData","tooltip","Popover","content","getContent","popover","ScrollSpy","process","scrollspy","$scrollElement","$body","refresh","$targets","offsets","targets","map","$href","position","sort","a","b","push","scrollTop","scrollHeight","maxScroll","activeTarget","i","last","activate","active","$spy","Tab","$ul","previous","container","tab","Typeahead","typeahead","matcher","sorter","highlighter","updater","$menu","menu","source","shown","listen","select","change","item","lookup","event","items","query","minLength","isFunction","grep","render","slice","toLowerCase","indexOf","beginswith","caseSensitive","caseInsensitive","shift","concat","RegExp","$1","match","first","blur","keypress","keyup","browser","chrome","webkit","msie","mouseenter","move","suppressKeyPressRepeat","inArray","Affix","affix","$window","checkPosition","offsetBottom","bottom","offsetTop","unpin","affixed"],"mappings":"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","sourcesContent":["/* ===================================================\n * bootstrap-transition.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#transitions\n * ===================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  $(function () {\n\n    \"use strict\"; // jshint ;_;\n\n\n    /* CSS TRANSITION SUPPORT (http://www.modernizr.com/)\n     * ======================================================= */\n\n    $.support.transition = (function () {\n\n      var transitionEnd = (function () {\n\n        var el = document.createElement('bootstrap')\n          , transEndEventNames = {\n               'WebkitTransition' : 'webkitTransitionEnd'\n            ,  'MozTransition'    : 'transitionend'\n            ,  'OTransition'      : 'oTransitionEnd otransitionend'\n            ,  'transition'       : 'transitionend'\n            }\n          , name\n\n        for (name in transEndEventNames){\n          if (el.style[name] !== undefined) {\n            return transEndEventNames[name]\n          }\n        }\n\n      }())\n\n      return transitionEnd && {\n        end: transitionEnd\n      }\n\n    })()\n\n  })\n\n}(window.jQuery);/* ==========================================================\n * bootstrap-alert.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#alerts\n * ==========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* ALERT CLASS DEFINITION\n  * ====================== */\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n    , Alert = function (el) {\n        $(el).on('click', dismiss, this.close)\n      }\n\n  Alert.prototype.close = function (e) {\n    var $this = $(this)\n      , selector = $this.attr('data-target')\n      , $parent\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n    }\n\n    $parent = $(selector)\n\n    e && e.preventDefault()\n\n    $parent.length || ($parent = $this.hasClass('alert') ? $this : $this.parent())\n\n    $parent.trigger(e = $.Event('close'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      $parent\n        .trigger('closed')\n        .remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent.on($.support.transition.end, removeElement) :\n      removeElement()\n  }\n\n\n /* ALERT PLUGIN DEFINITION\n  * ======================= */\n\n  $.fn.alert = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('alert')\n      if (!data) $this.data('alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  $.fn.alert.Constructor = Alert\n\n\n /* ALERT DATA-API\n  * ============== */\n\n  $(function () {\n    $('body').on('click.alert.data-api', dismiss, Alert.prototype.close)\n  })\n\n}(window.jQuery);/* ============================================================\n * bootstrap-button.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#buttons\n * ============================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* BUTTON PUBLIC CLASS DEFINITION\n  * ============================== */\n\n  var Button = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.button.defaults, options)\n  }\n\n  Button.prototype.setState = function (state) {\n    var d = 'disabled'\n      , $el = this.$element\n      , data = $el.data()\n      , val = $el.is('input') ? 'val' : 'html'\n\n    state = state + 'Text'\n    data.resetText || $el.data('resetText', $el[val]())\n\n    $el[val](data[state] || this.options[state])\n\n    // push to event loop to allow forms to submit\n    setTimeout(function () {\n      state == 'loadingText' ?\n        $el.addClass(d).attr(d, d) :\n        $el.removeClass(d).removeAttr(d)\n    }, 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var $parent = this.$element.closest('[data-toggle=\"buttons-radio\"]')\n\n    $parent && $parent\n      .find('.active')\n      .removeClass('active')\n\n    this.$element.toggleClass('active')\n  }\n\n\n /* BUTTON PLUGIN DEFINITION\n  * ======================== */\n\n  $.fn.button = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('button')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('button', (data = new Button(this, options)))\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  $.fn.button.defaults = {\n    loadingText: 'loading...'\n  }\n\n  $.fn.button.Constructor = Button\n\n\n /* BUTTON DATA-API\n  * =============== */\n\n  $(function () {\n    $('body').on('click.button.data-api', '[data-toggle^=button]', function ( e ) {\n      var $btn = $(e.target)\n      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n      $btn.button('toggle')\n    })\n  })\n\n}(window.jQuery);/* ==========================================================\n * bootstrap-carousel.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#carousel\n * ==========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* CAROUSEL CLASS DEFINITION\n  * ========================= */\n\n  var Carousel = function (element, options) {\n    this.$element = $(element)\n    this.options = options\n    this.options.slide && this.slide(this.options.slide)\n    this.options.pause == 'hover' && this.$element\n      .on('mouseenter', $.proxy(this.pause, this))\n      .on('mouseleave', $.proxy(this.cycle, this))\n  }\n\n  Carousel.prototype = {\n\n    cycle: function (e) {\n      if (!e) this.paused = false\n      this.options.interval\n        && !this.paused\n        && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n      return this\n    }\n\n  , to: function (pos) {\n      var $active = this.$element.find('.item.active')\n        , children = $active.parent().children()\n        , activePos = children.index($active)\n        , that = this\n\n      if (pos > (children.length - 1) || pos < 0) return\n\n      if (this.sliding) {\n        return this.$element.one('slid', function () {\n          that.to(pos)\n        })\n      }\n\n      if (activePos == pos) {\n        return this.pause().cycle()\n      }\n\n      return this.slide(pos > activePos ? 'next' : 'prev', $(children[pos]))\n    }\n\n  , pause: function (e) {\n      if (!e) this.paused = true\n      if (this.$element.find('.next, .prev').length && $.support.transition.end) {\n        this.$element.trigger($.support.transition.end)\n        this.cycle()\n      }\n      clearInterval(this.interval)\n      this.interval = null\n      return this\n    }\n\n  , next: function () {\n      if (this.sliding) return\n      return this.slide('next')\n    }\n\n  , prev: function () {\n      if (this.sliding) return\n      return this.slide('prev')\n    }\n\n  , slide: function (type, next) {\n      var $active = this.$element.find('.item.active')\n        , $next = next || $active[type]()\n        , isCycling = this.interval\n        , direction = type == 'next' ? 'left' : 'right'\n        , fallback  = type == 'next' ? 'first' : 'last'\n        , that = this\n        , e = $.Event('slide', {\n            relatedTarget: $next[0]\n          })\n\n      this.sliding = true\n\n      isCycling && this.pause()\n\n      $next = $next.length ? $next : this.$element.find('.item')[fallback]()\n\n      if ($next.hasClass('active')) return\n\n      if ($.support.transition && this.$element.hasClass('slide')) {\n        this.$element.trigger(e)\n        if (e.isDefaultPrevented()) return\n        $next.addClass(type)\n        $next[0].offsetWidth // force reflow\n        $active.addClass(direction)\n        $next.addClass(direction)\n        this.$element.one($.support.transition.end, function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () { that.$element.trigger('slid') }, 0)\n        })\n      } else {\n        this.$element.trigger(e)\n        if (e.isDefaultPrevented()) return\n        $active.removeClass('active')\n        $next.addClass('active')\n        this.sliding = false\n        this.$element.trigger('slid')\n      }\n\n      isCycling && this.cycle()\n\n      return this\n    }\n\n  }\n\n\n /* CAROUSEL PLUGIN DEFINITION\n  * ========================== */\n\n  $.fn.carousel = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('carousel')\n        , options = $.extend({}, $.fn.carousel.defaults, typeof option == 'object' && option)\n        , action = typeof option == 'string' ? option : options.slide\n      if (!data) $this.data('carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.cycle()\n    })\n  }\n\n  $.fn.carousel.defaults = {\n    interval: 5000\n  , pause: 'hover'\n  }\n\n  $.fn.carousel.Constructor = Carousel\n\n\n /* CAROUSEL DATA-API\n  * ================= */\n\n  $(function () {\n    $('body').on('click.carousel.data-api', '[data-slide]', function ( e ) {\n      var $this = $(this), href\n        , $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) //strip for ie7\n        , options = !$target.data('modal') && $.extend({}, $target.data(), $this.data())\n      $target.carousel(options)\n      e.preventDefault()\n    })\n  })\n\n}(window.jQuery);/* =============================================================\n * bootstrap-collapse.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#collapse\n * =============================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* COLLAPSE PUBLIC CLASS DEFINITION\n  * ================================ */\n\n  var Collapse = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.collapse.defaults, options)\n\n    if (this.options.parent) {\n      this.$parent = $(this.options.parent)\n    }\n\n    this.options.toggle && this.toggle()\n  }\n\n  Collapse.prototype = {\n\n    constructor: Collapse\n\n  , dimension: function () {\n      var hasWidth = this.$element.hasClass('width')\n      return hasWidth ? 'width' : 'height'\n    }\n\n  , show: function () {\n      var dimension\n        , scroll\n        , actives\n        , hasData\n\n      if (this.transitioning) return\n\n      dimension = this.dimension()\n      scroll = $.camelCase(['scroll', dimension].join('-'))\n      actives = this.$parent && this.$parent.find('> .accordion-group > .in')\n\n      if (actives && actives.length) {\n        hasData = actives.data('collapse')\n        if (hasData && hasData.transitioning) return\n        actives.collapse('hide')\n        hasData || actives.data('collapse', null)\n      }\n\n      this.$element[dimension](0)\n      this.transition('addClass', $.Event('show'), 'shown')\n      $.support.transition && this.$element[dimension](this.$element[0][scroll])\n    }\n\n  , hide: function () {\n      var dimension\n      if (this.transitioning) return\n      dimension = this.dimension()\n      this.reset(this.$element[dimension]())\n      this.transition('removeClass', $.Event('hide'), 'hidden')\n      this.$element[dimension](0)\n    }\n\n  , reset: function (size) {\n      var dimension = this.dimension()\n\n      this.$element\n        .removeClass('collapse')\n        [dimension](size || 'auto')\n        [0].offsetWidth\n\n      this.$element[size !== null ? 'addClass' : 'removeClass']('collapse')\n\n      return this\n    }\n\n  , transition: function (method, startEvent, completeEvent) {\n      var that = this\n        , complete = function () {\n            if (startEvent.type == 'show') that.reset()\n            that.transitioning = 0\n            that.$element.trigger(completeEvent)\n          }\n\n      this.$element.trigger(startEvent)\n\n      if (startEvent.isDefaultPrevented()) return\n\n      this.transitioning = 1\n\n      this.$element[method]('in')\n\n      $.support.transition && this.$element.hasClass('collapse') ?\n        this.$element.one($.support.transition.end, complete) :\n        complete()\n    }\n\n  , toggle: function () {\n      this[this.$element.hasClass('in') ? 'hide' : 'show']()\n    }\n\n  }\n\n\n /* COLLAPSIBLE PLUGIN DEFINITION\n  * ============================== */\n\n  $.fn.collapse = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('collapse')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.collapse.defaults = {\n    toggle: true\n  }\n\n  $.fn.collapse.Constructor = Collapse\n\n\n /* COLLAPSIBLE DATA-API\n  * ==================== */\n\n  $(function () {\n    $('body').on('click.collapse.data-api', '[data-toggle=collapse]', function (e) {\n      var $this = $(this), href\n        , target = $this.attr('data-target')\n          || e.preventDefault()\n          || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') //strip for ie7\n        , option = $(target).data('collapse') ? 'toggle' : $this.data()\n      $this[$(target).hasClass('in') ? 'addClass' : 'removeClass']('collapsed')\n      $(target).collapse(option)\n    })\n  })\n\n}(window.jQuery);/* ============================================================\n * bootstrap-dropdown.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#dropdowns\n * ============================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* DROPDOWN CLASS DEFINITION\n  * ========================= */\n\n  var toggle = '[data-toggle=dropdown]'\n    , Dropdown = function (element) {\n        var $el = $(element).on('click.dropdown.data-api', this.toggle)\n        $('html').on('click.dropdown.data-api', function () {\n          $el.parent().removeClass('open')\n        })\n      }\n\n  Dropdown.prototype = {\n\n    constructor: Dropdown\n\n  , toggle: function (e) {\n      var $this = $(this)\n        , $parent\n        , isActive\n\n      if ($this.is('.disabled, :disabled')) return\n\n      $parent = getParent($this)\n\n      isActive = $parent.hasClass('open')\n\n      clearMenus()\n\n      if (!isActive) {\n        $parent.toggleClass('open')\n        $this.focus()\n      }\n\n      return false\n    }\n\n  , keydown: function (e) {\n      var $this\n        , $items\n        , $active\n        , $parent\n        , isActive\n        , index\n\n      if (!/(38|40|27)/.test(e.keyCode)) return\n\n      $this = $(this)\n\n      e.preventDefault()\n      e.stopPropagation()\n\n      if ($this.is('.disabled, :disabled')) return\n\n      $parent = getParent($this)\n\n      isActive = $parent.hasClass('open')\n\n      if (!isActive || (isActive && e.keyCode == 27)) return $this.click()\n\n      $items = $('[role=menu] li:not(.divider) a', $parent)\n\n      if (!$items.length) return\n\n      index = $items.index($items.filter(':focus'))\n\n      if (e.keyCode == 38 && index > 0) index--                                        // up\n      if (e.keyCode == 40 && index < $items.length - 1) index++                        // down\n      if (!~index) index = 0\n\n      $items\n        .eq(index)\n        .focus()\n    }\n\n  }\n\n  function clearMenus() {\n    getParent($(toggle))\n      .removeClass('open')\n  }\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n      , $parent\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n    }\n\n    $parent = $(selector)\n    $parent.length || ($parent = $this.parent())\n\n    return $parent\n  }\n\n\n  /* DROPDOWN PLUGIN DEFINITION\n   * ========================== */\n\n  $.fn.dropdown = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('dropdown')\n      if (!data) $this.data('dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  /* APPLY TO STANDARD DROPDOWN ELEMENTS\n   * =================================== */\n\n  $(function () {\n    $('html')\n      .on('click.dropdown.data-api touchstart.dropdown.data-api', clearMenus)\n    $('body')\n      .on('click.dropdown touchstart.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n      .on('click.dropdown.data-api touchstart.dropdown.data-api'  , toggle, Dropdown.prototype.toggle)\n      .on('keydown.dropdown.data-api touchstart.dropdown.data-api', toggle + ', [role=menu]' , Dropdown.prototype.keydown)\n  })\n\n}(window.jQuery);/* =========================================================\n * bootstrap-modal.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#modals\n * =========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* MODAL CLASS DEFINITION\n  * ====================== */\n\n  var Modal = function (element, options) {\n    this.options = options\n    this.$element = $(element)\n      .delegate('[data-dismiss=\"modal\"]', 'click.dismiss.modal', $.proxy(this.hide, this))\n    this.options.remote && this.$element.find('.modal-body').load(this.options.remote)\n  }\n\n  Modal.prototype = {\n\n      constructor: Modal\n\n    , toggle: function () {\n        return this[!this.isShown ? 'show' : 'hide']()\n      }\n\n    , show: function () {\n        var that = this\n          , e = $.Event('show')\n\n        this.$element.trigger(e)\n\n        if (this.isShown || e.isDefaultPrevented()) return\n\n        $('body').addClass('modal-open')\n\n        this.isShown = true\n\n        this.escape()\n\n        this.backdrop(function () {\n          var transition = $.support.transition && that.$element.hasClass('fade')\n\n          if (!that.$element.parent().length) {\n            that.$element.appendTo(document.body) //don't move modals dom position\n          }\n\n          that.$element\n            .show()\n\n          if (transition) {\n            that.$element[0].offsetWidth // force reflow\n          }\n\n          that.$element\n            .addClass('in')\n            .attr('aria-hidden', false)\n            .focus()\n\n          that.enforceFocus()\n\n          transition ?\n            that.$element.one($.support.transition.end, function () { that.$element.trigger('shown') }) :\n            that.$element.trigger('shown')\n\n        })\n      }\n\n    , hide: function (e) {\n        e && e.preventDefault()\n\n        var that = this\n\n        e = $.Event('hide')\n\n        this.$element.trigger(e)\n\n        if (!this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = false\n\n        $('body').removeClass('modal-open')\n\n        this.escape()\n\n        $(document).off('focusin.modal')\n\n        this.$element\n          .removeClass('in')\n          .attr('aria-hidden', true)\n\n        $.support.transition && this.$element.hasClass('fade') ?\n          this.hideWithTransition() :\n          this.hideModal()\n      }\n\n    , enforceFocus: function () {\n        var that = this\n        $(document).on('focusin.modal', function (e) {\n          if (that.$element[0] !== e.target && !that.$element.has(e.target).length) {\n            that.$element.focus()\n          }\n        })\n      }\n\n    , escape: function () {\n        var that = this\n        if (this.isShown && this.options.keyboard) {\n          this.$element.on('keyup.dismiss.modal', function ( e ) {\n            e.which == 27 && that.hide()\n          })\n        } else if (!this.isShown) {\n          this.$element.off('keyup.dismiss.modal')\n        }\n      }\n\n    , hideWithTransition: function () {\n        var that = this\n          , timeout = setTimeout(function () {\n              that.$element.off($.support.transition.end)\n              that.hideModal()\n            }, 500)\n\n        this.$element.one($.support.transition.end, function () {\n          clearTimeout(timeout)\n          that.hideModal()\n        })\n      }\n\n    , hideModal: function (that) {\n        this.$element\n          .hide()\n          .trigger('hidden')\n\n        this.backdrop()\n      }\n\n    , removeBackdrop: function () {\n        this.$backdrop.remove()\n        this.$backdrop = null\n      }\n\n    , backdrop: function (callback) {\n        var that = this\n          , animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n        if (this.isShown && this.options.backdrop) {\n          var doAnimate = $.support.transition && animate\n\n          this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\n            .appendTo(document.body)\n\n          if (this.options.backdrop != 'static') {\n            this.$backdrop.click($.proxy(this.hide, this))\n          }\n\n          if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n          this.$backdrop.addClass('in')\n\n          doAnimate ?\n            this.$backdrop.one($.support.transition.end, callback) :\n            callback()\n\n        } else if (!this.isShown && this.$backdrop) {\n          this.$backdrop.removeClass('in')\n\n          $.support.transition && this.$element.hasClass('fade')?\n            this.$backdrop.one($.support.transition.end, $.proxy(this.removeBackdrop, this)) :\n            this.removeBackdrop()\n\n        } else if (callback) {\n          callback()\n        }\n      }\n  }\n\n\n /* MODAL PLUGIN DEFINITION\n  * ======================= */\n\n  $.fn.modal = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('modal')\n        , options = $.extend({}, $.fn.modal.defaults, $this.data(), typeof option == 'object' && option)\n      if (!data) $this.data('modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option]()\n      else if (options.show) data.show()\n    })\n  }\n\n  $.fn.modal.defaults = {\n      backdrop: true\n    , keyboard: true\n    , show: true\n  }\n\n  $.fn.modal.Constructor = Modal\n\n\n /* MODAL DATA-API\n  * ============== */\n\n  $(function () {\n    $('body').on('click.modal.data-api', '[data-toggle=\"modal\"]', function ( e ) {\n      var $this = $(this)\n        , href = $this.attr('href')\n        , $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) //strip for ie7\n        , option = $target.data('modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n      e.preventDefault()\n\n      $target\n        .modal(option)\n        .one('hide', function () {\n          $this.focus()\n        })\n    })\n  })\n\n}(window.jQuery);/* ===========================================================\n * bootstrap-tooltip.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#tooltips\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ===========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TOOLTIP PUBLIC CLASS DEFINITION\n  * =============================== */\n\n  var Tooltip = function (element, options) {\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.prototype = {\n\n    constructor: Tooltip\n\n  , init: function (type, element, options) {\n      var eventIn\n        , eventOut\n\n      this.type = type\n      this.$element = $(element)\n      this.options = this.getOptions(options)\n      this.enabled = true\n\n      if (this.options.trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (this.options.trigger != 'manual') {\n        eventIn = this.options.trigger == 'hover' ? 'mouseenter' : 'focus'\n        eventOut = this.options.trigger == 'hover' ? 'mouseleave' : 'blur'\n        this.$element.on(eventIn + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n\n      this.options.selector ?\n        (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n        this.fixTitle()\n    }\n\n  , getOptions: function (options) {\n      options = $.extend({}, $.fn[this.type].defaults, options, this.$element.data())\n\n      if (options.delay && typeof options.delay == 'number') {\n        options.delay = {\n          show: options.delay\n        , hide: options.delay\n        }\n      }\n\n      return options\n    }\n\n  , enter: function (e) {\n      var self = $(e.currentTarget)[this.type](this._options).data(this.type)\n\n      if (!self.options.delay || !self.options.delay.show) return self.show()\n\n      clearTimeout(this.timeout)\n      self.hoverState = 'in'\n      this.timeout = setTimeout(function() {\n        if (self.hoverState == 'in') self.show()\n      }, self.options.delay.show)\n    }\n\n  , leave: function (e) {\n      var self = $(e.currentTarget)[this.type](this._options).data(this.type)\n\n      if (this.timeout) clearTimeout(this.timeout)\n      if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n      self.hoverState = 'out'\n      this.timeout = setTimeout(function() {\n        if (self.hoverState == 'out') self.hide()\n      }, self.options.delay.hide)\n    }\n\n  , show: function () {\n      var $tip\n        , inside\n        , pos\n        , actualWidth\n        , actualHeight\n        , placement\n        , tp\n\n      if (this.hasContent() && this.enabled) {\n        $tip = this.tip()\n        this.setContent()\n\n        if (this.options.animation) {\n          $tip.addClass('fade')\n        }\n\n        placement = typeof this.options.placement == 'function' ?\n          this.options.placement.call(this, $tip[0], this.$element[0]) :\n          this.options.placement\n\n        inside = /in/.test(placement)\n\n        $tip\n          .remove()\n          .css({ top: 0, left: 0, display: 'block' })\n          .appendTo(inside ? this.$element : document.body)\n\n        pos = this.getPosition(inside)\n\n        actualWidth = $tip[0].offsetWidth\n        actualHeight = $tip[0].offsetHeight\n\n        switch (inside ? placement.split(' ')[1] : placement) {\n          case 'bottom':\n            tp = {top: pos.top + pos.height, left: pos.left + pos.width / 2 - actualWidth / 2}\n            break\n          case 'top':\n            tp = {top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2}\n            break\n          case 'left':\n            tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth}\n            break\n          case 'right':\n            tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width}\n            break\n        }\n\n        $tip\n          .css(tp)\n          .addClass(placement)\n          .addClass('in')\n      }\n    }\n\n  , setContent: function () {\n      var $tip = this.tip()\n        , title = this.getTitle()\n\n      $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n      $tip.removeClass('fade in top bottom left right')\n    }\n\n  , hide: function () {\n      var that = this\n        , $tip = this.tip()\n\n      $tip.removeClass('in')\n\n      function removeWithAnimation() {\n        var timeout = setTimeout(function () {\n          $tip.off($.support.transition.end).remove()\n        }, 500)\n\n        $tip.one($.support.transition.end, function () {\n          clearTimeout(timeout)\n          $tip.remove()\n        })\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        removeWithAnimation() :\n        $tip.remove()\n\n      return this\n    }\n\n  , fixTitle: function () {\n      var $e = this.$element\n      if ($e.attr('title') || typeof($e.attr('data-original-title')) != 'string') {\n        $e.attr('data-original-title', $e.attr('title') || '').removeAttr('title')\n      }\n    }\n\n  , hasContent: function () {\n      return this.getTitle()\n    }\n\n  , getPosition: function (inside) {\n      return $.extend({}, (inside ? {top: 0, left: 0} : this.$element.offset()), {\n        width: this.$element[0].offsetWidth\n      , height: this.$element[0].offsetHeight\n      })\n    }\n\n  , getTitle: function () {\n      var title\n        , $e = this.$element\n        , o = this.options\n\n      title = $e.attr('data-original-title')\n        || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n      return title\n    }\n\n  , tip: function () {\n      return this.$tip = this.$tip || $(this.options.template)\n    }\n\n  , validate: function () {\n      if (!this.$element[0].parentNode) {\n        this.hide()\n        this.$element = null\n        this.options = null\n      }\n    }\n\n  , enable: function () {\n      this.enabled = true\n    }\n\n  , disable: function () {\n      this.enabled = false\n    }\n\n  , toggleEnabled: function () {\n      this.enabled = !this.enabled\n    }\n\n  , toggle: function () {\n      this[this.tip().hasClass('in') ? 'hide' : 'show']()\n    }\n\n  , destroy: function () {\n      this.hide().$element.off('.' + this.type).removeData(this.type)\n    }\n\n  }\n\n\n /* TOOLTIP PLUGIN DEFINITION\n  * ========================= */\n\n  $.fn.tooltip = function ( option ) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('tooltip')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.tooltip.Constructor = Tooltip\n\n  $.fn.tooltip.defaults = {\n    animation: true\n  , placement: 'top'\n  , selector: false\n  , template: '<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\n  , trigger: 'hover'\n  , title: ''\n  , delay: 0\n  , html: true\n  }\n\n}(window.jQuery);\n/* ===========================================================\n * bootstrap-popover.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#popovers\n * ===========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* POPOVER PUBLIC CLASS DEFINITION\n  * =============================== */\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n\n  /* NOTE: POPOVER EXTENDS BOOTSTRAP-TOOLTIP.js\n     ========================================== */\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype, {\n\n    constructor: Popover\n\n  , setContent: function () {\n      var $tip = this.tip()\n        , title = this.getTitle()\n        , content = this.getContent()\n\n      $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n      $tip.find('.popover-content > *')[this.options.html ? 'html' : 'text'](content)\n\n      $tip.removeClass('fade top bottom left right in')\n    }\n\n  , hasContent: function () {\n      return this.getTitle() || this.getContent()\n    }\n\n  , getContent: function () {\n      var content\n        , $e = this.$element\n        , o = this.options\n\n      content = $e.attr('data-content')\n        || (typeof o.content == 'function' ? o.content.call($e[0]) :  o.content)\n\n      return content\n    }\n\n  , tip: function () {\n      if (!this.$tip) {\n        this.$tip = $(this.options.template)\n      }\n      return this.$tip\n    }\n\n  , destroy: function () {\n      this.hide().$element.off('.' + this.type).removeData(this.type)\n    }\n\n  })\n\n\n /* POPOVER PLUGIN DEFINITION\n  * ======================= */\n\n  $.fn.popover = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('popover')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.popover.Constructor = Popover\n\n  $.fn.popover.defaults = $.extend({} , $.fn.tooltip.defaults, {\n    placement: 'right'\n  , trigger: 'click'\n  , content: ''\n  , template: '<div class=\"popover\"><div class=\"arrow\"></div><div class=\"popover-inner\"><h3 class=\"popover-title\"></h3><div class=\"popover-content\"><p></p></div></div></div>'\n  })\n\n}(window.jQuery);/* =============================================================\n * bootstrap-scrollspy.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#scrollspy\n * =============================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* SCROLLSPY CLASS DEFINITION\n  * ========================== */\n\n  function ScrollSpy(element, options) {\n    var process = $.proxy(this.process, this)\n      , $element = $(element).is('body') ? $(window) : $(element)\n      , href\n    this.options = $.extend({}, $.fn.scrollspy.defaults, options)\n    this.$scrollElement = $element.on('scroll.scroll-spy.data-api', process)\n    this.selector = (this.options.target\n      || ((href = $(element).attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) //strip for ie7\n      || '') + ' .nav li > a'\n    this.$body = $('body')\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.prototype = {\n\n      constructor: ScrollSpy\n\n    , refresh: function () {\n        var self = this\n          , $targets\n\n        this.offsets = $([])\n        this.targets = $([])\n\n        $targets = this.$body\n          .find(this.selector)\n          .map(function () {\n            var $el = $(this)\n              , href = $el.data('target') || $el.attr('href')\n              , $href = /^#\\w/.test(href) && $(href)\n            return ( $href\n              && $href.length\n              && [[ $href.position().top, href ]] ) || null\n          })\n          .sort(function (a, b) { return a[0] - b[0] })\n          .each(function () {\n            self.offsets.push(this[0])\n            self.targets.push(this[1])\n          })\n      }\n\n    , process: function () {\n        var scrollTop = this.$scrollElement.scrollTop() + this.options.offset\n          , scrollHeight = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight\n          , maxScroll = scrollHeight - this.$scrollElement.height()\n          , offsets = this.offsets\n          , targets = this.targets\n          , activeTarget = this.activeTarget\n          , i\n\n        if (scrollTop >= maxScroll) {\n          return activeTarget != (i = targets.last()[0])\n            && this.activate ( i )\n        }\n\n        for (i = offsets.length; i--;) {\n          activeTarget != targets[i]\n            && scrollTop >= offsets[i]\n            && (!offsets[i + 1] || scrollTop <= offsets[i + 1])\n            && this.activate( targets[i] )\n        }\n      }\n\n    , activate: function (target) {\n        var active\n          , selector\n\n        this.activeTarget = target\n\n        $(this.selector)\n          .parent('.active')\n          .removeClass('active')\n\n        selector = this.selector\n          + '[data-target=\"' + target + '\"],'\n          + this.selector + '[href=\"' + target + '\"]'\n\n        active = $(selector)\n          .parent('li')\n          .addClass('active')\n\n        if (active.parent('.dropdown-menu').length)  {\n          active = active.closest('li.dropdown').addClass('active')\n        }\n\n        active.trigger('activate')\n      }\n\n  }\n\n\n /* SCROLLSPY PLUGIN DEFINITION\n  * =========================== */\n\n  $.fn.scrollspy = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('scrollspy')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n  $.fn.scrollspy.defaults = {\n    offset: 10\n  }\n\n\n /* SCROLLSPY DATA-API\n  * ================== */\n\n  $(window).on('load', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      $spy.scrollspy($spy.data())\n    })\n  })\n\n}(window.jQuery);/* ========================================================\n * bootstrap-tab.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#tabs\n * ========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ======================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TAB CLASS DEFINITION\n  * ==================== */\n\n  var Tab = function (element) {\n    this.element = $(element)\n  }\n\n  Tab.prototype = {\n\n    constructor: Tab\n\n  , show: function () {\n      var $this = this.element\n        , $ul = $this.closest('ul:not(.dropdown-menu)')\n        , selector = $this.attr('data-target')\n        , previous\n        , $target\n        , e\n\n      if (!selector) {\n        selector = $this.attr('href')\n        selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n      }\n\n      if ( $this.parent('li').hasClass('active') ) return\n\n      previous = $ul.find('.active a').last()[0]\n\n      e = $.Event('show', {\n        relatedTarget: previous\n      })\n\n      $this.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      $target = $(selector)\n\n      this.activate($this.parent('li'), $ul)\n      this.activate($target, $target.parent(), function () {\n        $this.trigger({\n          type: 'shown'\n        , relatedTarget: previous\n        })\n      })\n    }\n\n  , activate: function ( element, container, callback) {\n      var $active = container.find('> .active')\n        , transition = callback\n            && $.support.transition\n            && $active.hasClass('fade')\n\n      function next() {\n        $active\n          .removeClass('active')\n          .find('> .dropdown-menu > .active')\n          .removeClass('active')\n\n        element.addClass('active')\n\n        if (transition) {\n          element[0].offsetWidth // reflow for transition\n          element.addClass('in')\n        } else {\n          element.removeClass('fade')\n        }\n\n        if ( element.parent('.dropdown-menu') ) {\n          element.closest('li.dropdown').addClass('active')\n        }\n\n        callback && callback()\n      }\n\n      transition ?\n        $active.one($.support.transition.end, next) :\n        next()\n\n      $active.removeClass('in')\n    }\n  }\n\n\n /* TAB PLUGIN DEFINITION\n  * ===================== */\n\n  $.fn.tab = function ( option ) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('tab')\n      if (!data) $this.data('tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.tab.Constructor = Tab\n\n\n /* TAB DATA-API\n  * ============ */\n\n  $(function () {\n    $('body').on('click.tab.data-api', '[data-toggle=\"tab\"], [data-toggle=\"pill\"]', function (e) {\n      e.preventDefault()\n      $(this).tab('show')\n    })\n  })\n\n}(window.jQuery);/* =============================================================\n * bootstrap-typeahead.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#typeahead\n * =============================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\n!function($){\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TYPEAHEAD PUBLIC CLASS DEFINITION\n  * ================================= */\n\n  var Typeahead = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.typeahead.defaults, options)\n    this.matcher = this.options.matcher || this.matcher\n    this.sorter = this.options.sorter || this.sorter\n    this.highlighter = this.options.highlighter || this.highlighter\n    this.updater = this.options.updater || this.updater\n    this.$menu = $(this.options.menu).appendTo('body')\n    this.source = this.options.source\n    this.shown = false\n    this.listen()\n  }\n\n  Typeahead.prototype = {\n\n    constructor: Typeahead\n\n  , select: function () {\n      var val = this.$menu.find('.active').attr('data-value')\n      this.$element\n        .val(this.updater(val))\n        .change()\n      return this.hide()\n    }\n\n  , updater: function (item) {\n      return item\n    }\n\n  , show: function () {\n      var pos = $.extend({}, this.$element.offset(), {\n        height: this.$element[0].offsetHeight\n      })\n\n      this.$menu.css({\n        top: pos.top + pos.height\n      , left: pos.left\n      })\n\n      this.$menu.show()\n      this.shown = true\n      return this\n    }\n\n  , hide: function () {\n      this.$menu.hide()\n      this.shown = false\n      return this\n    }\n\n  , lookup: function (event) {\n      var items\n\n      this.query = this.$element.val()\n\n      if (!this.query || this.query.length < this.options.minLength) {\n        return this.shown ? this.hide() : this\n      }\n\n      items = $.isFunction(this.source) ? this.source(this.query, $.proxy(this.process, this)) : this.source\n\n      return items ? this.process(items) : this\n    }\n\n  , process: function (items) {\n      var that = this\n\n      items = $.grep(items, function (item) {\n        return that.matcher(item)\n      })\n\n      items = this.sorter(items)\n\n      if (!items.length) {\n        return this.shown ? this.hide() : this\n      }\n\n      return this.render(items.slice(0, this.options.items)).show()\n    }\n\n  , matcher: function (item) {\n      return ~item.toLowerCase().indexOf(this.query.toLowerCase())\n    }\n\n  , sorter: function (items) {\n      var beginswith = []\n        , caseSensitive = []\n        , caseInsensitive = []\n        , item\n\n      while (item = items.shift()) {\n        if (!item.toLowerCase().indexOf(this.query.toLowerCase())) beginswith.push(item)\n        else if (~item.indexOf(this.query)) caseSensitive.push(item)\n        else caseInsensitive.push(item)\n      }\n\n      return beginswith.concat(caseSensitive, caseInsensitive)\n    }\n\n  , highlighter: function (item) {\n      var query = this.query.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&')\n      return item.replace(new RegExp('(' + query + ')', 'ig'), function ($1, match) {\n        return '<strong>' + match + '</strong>'\n      })\n    }\n\n  , render: function (items) {\n      var that = this\n\n      items = $(items).map(function (i, item) {\n        i = $(that.options.item).attr('data-value', item)\n        i.find('a').html(that.highlighter(item))\n        return i[0]\n      })\n\n      items.first().addClass('active')\n      this.$menu.html(items)\n      return this\n    }\n\n  , next: function (event) {\n      var active = this.$menu.find('.active').removeClass('active')\n        , next = active.next()\n\n      if (!next.length) {\n        next = $(this.$menu.find('li')[0])\n      }\n\n      next.addClass('active')\n    }\n\n  , prev: function (event) {\n      var active = this.$menu.find('.active').removeClass('active')\n        , prev = active.prev()\n\n      if (!prev.length) {\n        prev = this.$menu.find('li').last()\n      }\n\n      prev.addClass('active')\n    }\n\n  , listen: function () {\n      this.$element\n        .on('blur',     $.proxy(this.blur, this))\n        .on('keypress', $.proxy(this.keypress, this))\n        .on('keyup',    $.proxy(this.keyup, this))\n\n      if ($.browser.chrome || $.browser.webkit || $.browser.msie) {\n        this.$element.on('keydown', $.proxy(this.keydown, this))\n      }\n\n      this.$menu\n        .on('click', $.proxy(this.click, this))\n        .on('mouseenter', 'li', $.proxy(this.mouseenter, this))\n    }\n\n  , move: function (e) {\n      if (!this.shown) return\n\n      switch(e.keyCode) {\n        case 9: // tab\n        case 13: // enter\n        case 27: // escape\n          e.preventDefault()\n          break\n\n        case 38: // up arrow\n          e.preventDefault()\n          this.prev()\n          break\n\n        case 40: // down arrow\n          e.preventDefault()\n          this.next()\n          break\n      }\n\n      e.stopPropagation()\n    }\n\n  , keydown: function (e) {\n      this.suppressKeyPressRepeat = !~$.inArray(e.keyCode, [40,38,9,13,27])\n      this.move(e)\n    }\n\n  , keypress: function (e) {\n      if (this.suppressKeyPressRepeat) return\n      this.move(e)\n    }\n\n  , keyup: function (e) {\n      switch(e.keyCode) {\n        case 40: // down arrow\n        case 38: // up arrow\n          break\n\n        case 9: // tab\n        case 13: // enter\n          if (!this.shown) return\n          this.select()\n          break\n\n        case 27: // escape\n          if (!this.shown) return\n          this.hide()\n          break\n\n        default:\n          this.lookup()\n      }\n\n      e.stopPropagation()\n      e.preventDefault()\n  }\n\n  , blur: function (e) {\n      var that = this\n      setTimeout(function () { that.hide() }, 150)\n    }\n\n  , click: function (e) {\n      e.stopPropagation()\n      e.preventDefault()\n      this.select()\n    }\n\n  , mouseenter: function (e) {\n      this.$menu.find('.active').removeClass('active')\n      $(e.currentTarget).addClass('active')\n    }\n\n  }\n\n\n  /* TYPEAHEAD PLUGIN DEFINITION\n   * =========================== */\n\n  $.fn.typeahead = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('typeahead')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('typeahead', (data = new Typeahead(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.typeahead.defaults = {\n    source: []\n  , items: 8\n  , menu: '<ul class=\"typeahead dropdown-menu\"></ul>'\n  , item: '<li><a href=\"#\"></a></li>'\n  , minLength: 1\n  }\n\n  $.fn.typeahead.Constructor = Typeahead\n\n\n /*   TYPEAHEAD DATA-API\n  * ================== */\n\n  $(function () {\n    $('body').on('focus.typeahead.data-api', '[data-provide=\"typeahead\"]', function (e) {\n      var $this = $(this)\n      if ($this.data('typeahead')) return\n      e.preventDefault()\n      $this.typeahead($this.data())\n    })\n  })\n\n}(window.jQuery);\n/* ==========================================================\n * bootstrap-affix.js v2.1.1\n * http://twitter.github.com/bootstrap/javascript.html#affix\n * ==========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\n!function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* AFFIX CLASS DEFINITION\n  * ====================== */\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, $.fn.affix.defaults, options)\n    this.$window = $(window).on('scroll.affix.data-api', $.proxy(this.checkPosition, this))\n    this.$element = $(element)\n    this.checkPosition()\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var scrollHeight = $(document).height()\n      , scrollTop = this.$window.scrollTop()\n      , position = this.$element.offset()\n      , offset = this.options.offset\n      , offsetBottom = offset.bottom\n      , offsetTop = offset.top\n      , reset = 'affix affix-top affix-bottom'\n      , affix\n\n    if (typeof offset != 'object') offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function') offsetTop = offset.top()\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom()\n\n    affix = this.unpin != null && (scrollTop + this.unpin <= position.top) ?\n      false    : offsetBottom != null && (position.top + this.$element.height() >= scrollHeight - offsetBottom) ?\n      'bottom' : offsetTop != null && scrollTop <= offsetTop ?\n      'top'    : false\n\n    if (this.affixed === affix) return\n\n    this.affixed = affix\n    this.unpin = affix == 'bottom' ? position.top - scrollTop : null\n\n    this.$element.removeClass(reset).addClass('affix' + (affix ? '-' + affix : ''))\n  }\n\n\n /* AFFIX PLUGIN DEFINITION\n  * ======================= */\n\n  $.fn.affix = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('affix')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.affix.Constructor = Affix\n\n  $.fn.affix.defaults = {\n    offset: 0\n  }\n\n\n /* AFFIX DATA-API\n  * ============== */\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n        , data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      data.offsetBottom && (data.offset.bottom = data.offsetBottom)\n      data.offsetTop && (data.offset.top = data.offsetTop)\n\n      $spy.affix(data)\n    })\n  })\n\n\n}(window.jQuery);"]}]}